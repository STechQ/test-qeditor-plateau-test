!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.qui=t():e.qui=t()}(self,(()=>(()=>{"use strict";return{591:function(){var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(e){i(e)}}function u(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,u)}a((n=n.apply(e,t||[])).next())}))},t=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(6===u[0]&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",svg:"image/svg+xml",json:"application/json",lottie:"application/json",qjson:"application/json",woff2:"font/woff2",woff:"font/woff",ttf:"font/ttf",otf:"font/otf"},o=new Set(["gif","png","jpeg","jpg","svg","woff","woff2","ttf","otf"]);function i(e,t){var r=(e||"").toLowerCase();return n[r]||t||"application/octet-stream"}var s=["/quick/","/test-qeditor-plateau-test/","/test-qeditor-workflow-main-merged/","/qui-lp/"];function u(e){var t=function(e){var t,n;try{for(var o=r(s),i=o.next();!i.done;i=o.next()){var u=i.value;if(e.startsWith(u))return{uri:e.slice(u.length),prefix:u}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{uri:e,prefix:null}}(e).uri;return t.replace(/^\/+/,"")}function a(e,t){if("string"==typeof e)return e;var r=new ArrayBuffer(e.byteLength);return new Uint8Array(r).set(e),t?new Blob([r],{type:t}):r}var c=!1;new Promise((function(e){return e()})).then((function(){return c=!0})),"undefined"!=typeof doNothing&&doNothing();var f=!0===c;var l=self,p=new Map;l.addEventListener("install",(function(){return l.skipWaiting()})),l.addEventListener("activate",(function(){})),l.addEventListener("message",(function(e){var t,r=e.data,n=p.get(r.resourceId);if(n)if(t=r.resourceType,o.has((t||"").toLowerCase())){var i=function(e){for(var t=atob(e),r=t.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=t.charCodeAt(o);return n}(d(r.resourceModel));n.resolver({resource:i,resourceId:r.resourceId,resourceType:r.resourceType})}else n.resolver({resource:r.resourceModel,resourceId:r.resourceId,resourceType:r.resourceType});else console.warn("[SW] No waiter for resourceId:",r.resourceId)}));var d=function(e){var t=e.indexOf(",");return t>=0?e.slice(t+1):e};function v(r,n,o){return void 0===o&&(o=15e3),e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return(e=p.get(n))?[2,e.promise]:(e=function(e,t){void 0===t&&(t={});var r,n=void 0,o=void 0,i=function(e){r&&clearTimeout(r),r=setTimeout((function(){o(new Error("The operation has timed out. timeoutValue  : ".concat(e)))}),e)};return e&&i(e),{startTimer:i,promise:new Promise((function(e,r){var i;i=e,n=f&&t.fixSyncResolve?function(e){return setTimeout((function(){return i(e)}))}:i,o=r})),resolver:n,reject:o}}(o),p.set(n,e),e.promise.finally((function(){p.delete(n)})),[4,h(r,n)]);case 1:return t.sent(),[2,e.promise]}}))}))}l.addEventListener("fetch",(function(r){var n=function(r){return e(void 0,void 0,void 0,(function(){var e,n,o,s,c,f,l,p,d,h,y,w;return t(this,(function(t){switch(t.label){case 0:if(e=new URL(r.request.url),n=decodeURI(e.pathname),!u(n).startsWith("<<"))return[3,10];if(!(o=function(e){var t=u(e);if(!t.startsWith("<<")||!t.endsWith(">>"))return console.warn("[SW] Invalid resource URI format:",t),null;var r=t.slice(2,-2),n=r.indexOf(":");if(n<=0||n===r.length-1)return console.warn("[SW] Invalid resource URI payload:",r),null;var o=r.slice(0,n),i=r.slice(n+1);return o&&i?{type:o,guid:i}:(console.warn("[SW] Missing type or guid:",{type:o,guid:i}),null)}(n)))return[2,fetch(r.request)];switch(o.type){case"img":return[3,1];case"lottie":return[3,3];case"woff2":case"woff":case"ttf":case"otf":return[3,5];case"qjson":return[3,7]}return[3,9];case 1:case 3:case 5:case 7:return[4,v(r.clientId,o.guid)];case 2:return s=t.sent(),c=i(s.resourceType,"image/*"),[2,new Response(a(s.resource),{status:200,headers:{"Content-Type":c}})];case 4:return f=t.sent(),l=i(f.resourceType),[2,new Response(a(f.resource),{status:200,headers:{"Content-Type":l}})];case 6:return p=t.sent(),d=i(p.resourceType),[2,new Response(a(p.resource),{status:200,headers:{"Content-Type":d}})];case 8:return h=t.sent(),y=i(h.resourceType),[2,new Response(a(h.resource),{status:200,headers:{"Content-Type":y}})];case 9:return[3,10];case 10:return t.trys.push([10,12,,13]),[4,fetch(r.request)];case 11:return[2,t.sent()];case 12:return w=t.sent(),console.warn("[SW] fetch fallback error:",w),[2,new Response("Service unavailable",{status:503})];case 13:return[2]}}))}))}(r);r.respondWith(n)}));var h=function(r,n){return e(void 0,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,l.clients.matchAll({type:"window"})];case 1:return e.sent()[0].postMessage(n),[2]}}))}))}}}[591](),{}})()));