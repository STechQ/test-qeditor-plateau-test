!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.qui=r():e.qui=r()}(self,(()=>(()=>{"use strict";var __webpack_modules__={984:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CryptoHelper=void 0;var CryptoHelper=function(){function CryptoHelper(){}return CryptoHelper.generateRandom=function(nums){var characters="0123456789abcdefghijklmnopqrstuvwxyz",sum=nums.reduce((function(e,r){return e+r}),0),isomorphicCrypto="undefined"!=typeof crypto?eval("crypto"):eval("require")("crypto"),randomValues=isomorphicCrypto.getRandomValues(new Uint8Array(sum)),index=0;return nums.reduce((function(e,r){return e.push(Array.from(new Array(r)).map((function(e){return characters[randomValues[index++]%characters.length]})).join("")),e}),[])},CryptoHelper.CreateGuid=function(){var e=Date.now().toString(36).substring(0,9).padStart(9,"0");return CryptoHelper.generateRandom([8,4,4,4,3]).join("-")+e},CryptoHelper}();exports.CryptoHelper=CryptoHelper},591:function(e,r,t){var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function i(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,i)}u((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(a=0)),a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},s=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=t(984),i={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",svg:"image/svg+xml",json:"application/json",lottie:"application/json",qjson:"application/json",woff2:"font/woff2",woff:"font/woff",ttf:"font/ttf",otf:"font/otf"},u=new Set(["gif","png","jpeg","jpg","svg","woff","woff2","ttf","otf"]);function c(e,r){var t=(e||"").toLowerCase();return i[t]||r||"application/octet-stream"}var l=["/quick/","/test-qeditor-plateau-test/","/test-qeditor-workflow-main-merged/","/qui-lp/"];function f(e){var r=function(e){var r,t;try{for(var n=s(l),o=n.next();!o.done;o=n.next()){var a=o.value;if(e.startsWith(a))return{uri:e.slice(a.length),prefix:a}}}catch(e){r={error:e}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(r)throw r.error}}return{uri:e,prefix:null}}(e).uri;return r.replace(/^\/+/,"")}function p(e,r){if("string"==typeof e)return e;var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(e),r?new Blob([t],{type:r}):t}var d=!1;new Promise((function(e){return e()})).then((function(){return d=!0})),"undefined"!=typeof doNothing&&doNothing();var v=!0===d;function y(e,r){void 0===r&&(r={});var t,n=void 0,o=void 0,s=function(e){t&&clearTimeout(t),t=setTimeout((function(){o(new Error("The operation has timed out. timeoutValue  : ".concat(e)))}),e)};return e&&s(e),{startTimer:s,promise:new Promise((function(e,t){var s;s=e,n=v&&r.fixSyncResolve?function(e){return setTimeout((function(){return s(e)}))}:s,o=t})),resolver:n,reject:o}}var h=self,w=new Map,_=new Map;h.addEventListener("install",(function(){return h.skipWaiting()})),h.addEventListener("activate",(function(){})),h.addEventListener("message",(function(e){var r,t,n=e.data;if("constant"!==n.resourceType){var o,a=w.get(n.resourceId);if(a)if(o=n.resourceType,u.has((o||"").toLowerCase())){var i=function(e){for(var r=atob(e),t=r.length,n=new Uint8Array(t),o=0;o<t;o++)n[o]=r.charCodeAt(o);return n}(m(n.resourceModel));a.resolver({resource:i,resourceId:n.resourceId,resourceType:n.resourceType})}else a.resolver({resource:n.resourceModel,resourceId:n.resourceId,resourceType:n.resourceType});else console.warn("[SW] No waiter for resourceId:",n.resourceId)}else{var c=_.get(n.resourceId);if(!c)return void console.warn("[SW] No constwaiter for resourceId:",n.resourceId);var l=void 0;try{l=JSON.parse(n.resourceModel)}catch(e){l=n.resourceModel}var f=[];try{for(var p=s(l),d=p.next();!d.done;d=p.next()){var v=d.value,y=v.resourceModel;try{y=JSON.parse(v.resourceModel)}catch(e){}y&&"object"==typeof y&&f.push({raw:"<<constant:".concat(y.id,">>"),type:"constant",id:y.id,content:y})}}catch(e){r={error:e}}finally{try{d&&!d.done&&(t=p.return)&&t.call(p)}finally{if(r)throw r.error}}c.resolver(f)}}));var m=function(e){var r=e.indexOf(",");return r>=0?e.slice(r+1):e};function g(e,r,t){return void 0===t&&(t=15e3),n(this,void 0,void 0,(function(){var n;return o(this,(function(o){switch(o.label){case 0:return(n=w.get(r))?[2,n.promise]:(n=y(t),w.set(r,n),n.promise.finally((function(){w.delete(r)})),[4,x(e,r)]);case 1:return o.sent(),[2,n.promise]}}))}))}function b(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:return(e.headers.get("content-type")||"").includes("application/json")?(r={type:"json"},[4,e.json()]):[3,2];case 1:return[2,(r.value=n.sent(),r)];case 2:return t={type:"arraybuffer"},[4,e.arrayBuffer()];case 3:return[2,(t.value=n.sent(),t)]}}))}))}h.addEventListener("fetch",(function(e){var r=function(e){return n(void 0,void 0,void 0,(function(){var r,t,n,s,i,u,l,d,v,h,w,m,x,C,T,k,S;return o(this,(function(o){switch(o.label){case 0:return r=new URL(e.request.url),(t=decodeURI(r.pathname)).includes("/retrieveModels")?[4,b(e.request.clone())]:[3,4];case 1:return n=o.sent().value,s=n,i=a.CryptoHelper.CreateGuid(),u=y(15e3),_.set(i,u),[4,j({messageID:i,modelIDs:s})];case 2:return o.sent(),[4,u.promise];case 3:return l=o.sent(),_.delete(i),[2,new Response(JSON.stringify(l),{status:200,headers:{"Content-Type":"application/json"}})];case 4:if(!f(t).startsWith("<<"))return[3,14];if(!(d=function(e){var r=f(e);if(!r.startsWith("<<")||!r.endsWith(">>"))return console.warn("[SW] Invalid resource URI format:",r),null;var t=r.slice(2,-2),n=t.indexOf(":");if(n<=0||n===t.length-1)return console.warn("[SW] Invalid resource URI payload:",t),null;var o=t.slice(0,n),s=t.slice(n+1);return o&&s?{type:o,guid:s}:(console.warn("[SW] Missing type or guid:",{type:o,guid:s}),null)}(t)))return[2,fetch(e.request)];switch(d.type){case"img":return[3,5];case"lottie":return[3,7];case"woff2":case"woff":case"ttf":case"otf":return[3,9];case"qjson":return[3,11]}return[3,13];case 5:case 7:case 9:case 11:return[4,g(e.clientId,d.guid)];case 6:return v=o.sent(),h=c(v.resourceType,"image/*"),[2,new Response(p(v.resource),{status:200,headers:{"Content-Type":h}})];case 8:return w=o.sent(),m=c(w.resourceType),[2,new Response(p(w.resource),{status:200,headers:{"Content-Type":m}})];case 10:return x=o.sent(),C=c(x.resourceType),[2,new Response(p(x.resource),{status:200,headers:{"Content-Type":C}})];case 12:return T=o.sent(),k=c(T.resourceType),[2,new Response(p(T.resource),{status:200,headers:{"Content-Type":k}})];case 13:return[3,14];case 14:return o.trys.push([14,16,,17]),[4,fetch(e.request)];case 15:return[2,o.sent()];case 16:return S=o.sent(),console.warn("[SW] fetch fallback error:",S),[2,new Response("Service unavailable",{status:503})];case 17:return[2]}}))}))}(e);e.respondWith(r)}));var x=function(e,r){return n(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,h.clients.matchAll({type:"window"})];case 1:return e.sent()[0].postMessage(r),[2]}}))}))},j=function(e){return n(void 0,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,h.clients.matchAll({type:"window"})];case 1:return r.sent()[0].postMessage(JSON.stringify(e)),[2]}}))}))}}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}var __webpack_exports__=__webpack_require__(591);return __webpack_exports__})()));