!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.plateauIAMPopup=o():e.plateauIAMPopup=o()}(this,()=>(()=>{"use strict";return async function(){window.addEventListener("message",o=>{const t=o.data;if("iamOptions"==t.type){if(!t.options)throw new Error("no options received");t.tokens&&e(t.tokens,t.sessionStorageNamePrefix??""),window.baseWindow=t.parentWindow,websdk.init({...t.options,iamInPopup:!0}).then(async e=>{(await websdk.createRenderer({mountPoint:document.getElementById("plateau_ui_mountPoint")})).open("static/qjsons/samplesFirstPage.qjson")})}});const e=(e,o)=>{e&&e.idToken&&e.refreshToken&&e.token&&(sessionStorage.setItem(o+"kcIdToken",e.idToken),sessionStorage.setItem(o+"kcRefreshToken",e.refreshToken),sessionStorage.setItem(o+"kcToken",e.token))};var o;o={type:"iamReady"},opener.postMessage(o,"*")}(),{}})());