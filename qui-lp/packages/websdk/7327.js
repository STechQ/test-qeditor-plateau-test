"use strict";(this.webpackChunk_stechquick_websdk=this.webpackChunk_stechquick_websdk||[]).push([[7327],{29305(t,e,n){n.d(e,{A:()=>s});var o=n(45173),a=n.n(o),i=n(32806),r=n.n(i)()(a());r.push([t.id,'\n.q-document-html[data-v-04971c6a] {\n  border: none;\n  width: 100%;\n  height: 100%;\n}\n.q-document-img[data-v-04971c6a] {\n  width: 100%;\n}\n.q-document-pdf-wrapper[data-v-04971c6a] {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.q-document-pdf-wrapper.no-flex[data-v-04971c6a] {\n  display: block !important;\n  overflow: auto !important;\n}\n.q-document-pdf-wrapper>div>.ratio[data-v-04971c6a] {\n  background-color: green;\n  color: white;\n  text-align: center;\n}\n.q-document-pdf-wrapper>input[data-v-04971c6a] {\n  width: 5em;\n}\n.q-document-pdf[data-v-04971c6a] {\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n}\n.q-document-pdf-container[data-v-04971c6a] {\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: auto;\n  display: flex;\n  flex-direction: column;\n}\ninput[type="number"][data-v-04971c6a]::-webkit-inner-spin-button {\n  opacity: 1;\n}\ninput[type="number"][data-v-04971c6a] {\n  width: 54px;\n  height: 28px;\n  outline-style: none;\n  background-color: #eeeeee;\n  color: #212121;\n  border-radius: 5px;\n  text-align: center;\n}\n.q-document-zoom-options-list[data-v-04971c6a] {\n  list-style: none;\n  display: flex;\n  align-items: center;\n  padding-top: 0px;\n  padding-bottom: 0px;\n  padding-left: 0px;\n  padding-right: 0px;\n}\n.q-document-zoom-field[data-v-04971c6a] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n.q-document-toolbar-right-options-wrapper[data-v-04971c6a] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n}\n.q-document-toolbar-left-options-wrapper[data-v-04971c6a] {\n  display: flex;\n  align-items: center;\n}\n.q-document-toolbar-wrapper[data-v-04971c6a] {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n  height: 44px;\n  border-bottom: 1px solid #e0e0e0;\n  align-items: center;\n  position: sticky;\n  z-index: 1;\n  top: 0px;\n  left: 0px;\n}\n.q-document-zoom-options[data-v-04971c6a] {\n  display: flex;\n  background-color: #eeeeee;\n  overflow: hidden;\n  border-radius: 5px;\n  align-items: center;\n  justify-content: center;\n  height: 28px;\n}\n.q-document-icon[data-v-04971c6a] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 30px;\n  width: 30px;\n}\n.q-document-icon[data-v-04971c6a]:hover {\n  background-color: #e3e3e3;\n  border-radius: 5px;\n}\n.q-document-color-text-content[data-v-04971c6a] {\n  color: #212121;\n}\n.q-document-zoom-buttons[data-v-04971c6a] {\n  width: 28px;\n  height: 28px;\n}\n#q-document-download-icon[data-v-04971c6a] {\n  color: #212121;\n}\n#q-document-rotate-icon[data-v-04971c6a] {\n  color: #212121;\n}\n#q-document-zoom-in-icon[data-v-04971c6a] {\n  color: #757575;\n}\n#q-document-zoom-out-icon[data-v-04971c6a] {\n  color: #757575;\n}\n.q-document-toolbar-part-left[data-v-04971c6a],\n.q-document-toolbar-part-center[data-v-04971c6a],\n.q-document-toolbar-part-right[data-v-04971c6a] {\n  flex: 25%;\n}\n@media (max-width: 644px) {\n.q-document-toolbar-part-center[data-v-04971c6a],\n  .q-document-toolbar-part-right[data-v-04971c6a] {\n    flex: 20%;\n}\n}\n@media (max-width: 501px) {\n.q-document-toolbar-part-center[data-v-04971c6a],\n  .q-document-toolbar-part-right[data-v-04971c6a] {\n    flex: 10%;\n}\n}\n.tiff-container[data-v-04971c6a] {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  align-items: center;\n}\n.tiff-toolbar[data-v-04971c6a] {\n  background-color: rgb(250, 250, 250);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n  height: 44px;\n  border-bottom: 1px solid #e0e0e0;\n  align-items: center;\n  position: sticky;\n  z-index: 1;\n  top: 0px;\n  left: 0px;\n  justify-content: flex-end;\n}\n',""]);const s=r},97327(t,e,n){n.d(e,{default:()=>C});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{height:t.height,width:"100%"}},[n("div",{staticStyle:{width:"100%","justify-content":"center",height:"100%"}},["tiff"===t.docType?n("div",{staticStyle:{height:"100%",display:"flex","flex-direction":"column"}},[t.showToolBar?n("div",{staticClass:"tiff-toolbar"},[n("div",{staticClass:"q-document-toolbar-wrapper"},[n("div",{staticClass:"q-document-toolbar-part-left"},[t.hidePagination?t._e():n("div",{staticClass:"q-document-toolbar-left-options-wrapper"},[n("span",{staticClass:"ml-1 mr-1 q-document-color-text-content"},[t._v("\n                "+t._s(t.pageTitle)+"\n              ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.page,expression:"page",modifiers:{number:!0}}],attrs:{min:1,max:t.numPages,type:"number",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');"},domProps:{value:t.page},on:{blur:[t.focusSelectedPage,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.page=t._n(e.target.value))}}}),t._v(" "),n("span",{staticClass:"ml-1 q-document-color-text-content"},[t._v("\n                / "+t._s(t.numPages)+"\n              ")])])]),t._v(" "),n("div",{staticClass:"q-document-toolbar-part-rightq-document-toolbar-right-options-wrapper mr-1",staticStyle:{"justify-content":"end",display:"flex"}},[t.hideDownload?t._e():n("div",{staticClass:"q-document-icon"},[n("v-icon",{staticStyle:{cursor:"pointer"},attrs:{id:"q-document-download-icon",size:"18"},on:{click:t.downloadTiff}},[t._v("\n                mdi-tray-arrow-down\n              ")])],1),t._v(" "),t.hideRotate?t._e():n("div",{staticClass:"q-document-icon mr-4"},[n("v-icon",{staticStyle:{cursor:"pointer"},attrs:{id:"q-document-download-icon",size:"18"},on:{click:function(e){t.rotateVal-=90}}},[t._v("\n                mdi-format-rotate-90\n              ")])],1),t._v(" "),t.hideZoom?t._e():n("div",{staticClass:"q-document-zoom-options"},[n("ul",{staticClass:"q-document-zoom-options-list"},[n("li",[n("div",{staticClass:"q-document-zoom-field"},[n("span",{staticClass:"ml-2 mr-3 q-document-color-text-content"},[t._v("\n                      "+t._s(Number.parseInt(100*t.zoomVal).toFixed(0))+"%\n                    ")])])]),t._v(" "),n("li",{on:{click:t.zoomOut}},[n("div",{staticClass:"q-document-zoom-buttons q-document-zoom-field",staticStyle:{cursor:"pointer"},attrs:{id:"q-document-zoom-out-field"}},[n("v-icon",{attrs:{id:"q-document-zoom-out-icon",size:"18"}},[t._v("\n                      mdi-minus\n                    ")])],1)]),t._v(" "),n("li",{staticClass:"q-document-zoom-field",on:{click:t.zoomIn}},[n("div",{staticClass:"q-document-zoom-buttons q-document-zoom-field",staticStyle:{cursor:"pointer"},attrs:{id:"q-document-zoom-in-field"}},[n("v-icon",{attrs:{id:"q-document-zoom-in-icon",size:"18"}},[t._v("\n                      mdi-plus\n                    ")])],1)])])])])])]):t._e(),t._v(" "),n("div",{key:"tiff-"+t.src,ref:"tiffContainer",staticClass:"tiff-container"},[t.tiffLoading?n("div",{staticClass:"q-document-loading"},[t._v("\n          "+t._s(t.loadingContent)+"\n        ")]):t._e(),t._v(" "),n("canvas",{directives:[{name:"show",rawName:"v-show",value:!t.tiffLoading,expression:"!tiffLoading"}],ref:"tiffContainerRef",attrs:{id:"tiffCanvas"}})])]):t._e(),t._v(" "),t.show?n("div",{staticStyle:{height:"100%"}},["img"===t.docType?n("img",{staticClass:"q-document-img",attrs:{src:t.url,height:t.height}}):t._e(),t._v(" "),"html"===t.docType?n("div",{staticStyle:{height:"100%"}},[n("iframe",{ref:"iframe",staticClass:"q-document-html",attrs:{sandbox:"allow-same-origin allow-popups",src:t.url,id:"q-document-html",title:"QDocumentViewer IFrame"}})]):t._e(),t._v(" "),"pdf"===t.docType?n("div",{staticClass:"q-document-pdf-wrapper",class:{"no-flex":t.displayOnScroll}},[t.blocked?n("div",{staticClass:"blocked"},[n("v-alert",{staticClass:"alert",attrs:{type:"error",icon:t.securityErrorMessageIcon}},[t._v("\n            "+t._s(t.internalErrorMessage)+"\n          ")])],1):n("div",{staticClass:"q-document-pdf-container",style:{transform:"rotate("+t.turn+"turn)",height:t.displayOnScroll?null!=t.height?t.height:"100vh":t.height},on:{scroll:t.handleScroll}},[t.showToolBar?[t.showToolBar?n("div",{staticClass:"q-document-toolbar-wrapper",style:"background-color:"+t.pdfToolbarBackgroundColor+";"},[n("div",{staticClass:"q-document-toolbar-part-left"},[t.hidePagination?t._e():n("div",{staticClass:"q-document-toolbar-left-options-wrapper"},[n("span",{staticClass:"ml-1 mr-1 q-document-color-text-content"},[t._v("\n                    "+t._s(t.pageTitle)+"\n                  ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.page,expression:"page",modifiers:{number:!0}}],attrs:{min:1,max:t.numPages,type:"number",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');"},domProps:{value:t.page},on:{blur:[t.focusSelectedPage,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.page=t._n(e.target.value))}}}),t._v(" "),n("span",{staticClass:"ml-1 q-document-color-text-content"},[t._v("\n                    / "+t._s(t.numPages))])])]),t._v(" "),n("div",{staticClass:"q-document-toolbar-part-center",staticStyle:{"justify-content":"center",display:"flex"}},[t.hideDescription?t._e():n("span",{staticClass:"q-document-color-text-content",staticStyle:{"text-align":"center"}},[t._v(t._s(t.fileDescription))])]),t._v(" "),n("div",{staticClass:"\n                  q-document-toolbar-part-right\n                  q-document-toolbar-right-options-wrapper\n                  mr-1\n                ",staticStyle:{"justify-content":"end",display:"flex"}},[t.showPrint?n("div",{staticClass:"q-document-icon mr-2"},[n("v-icon",{staticStyle:{cursor:"pointer"},attrs:{id:"q-document-print-icon",size:"18"},on:{click:t.printPdf}},[t._v("\n                    mdi-printer\n                  ")])],1):t._e(),t._v(" "),t.hideDownload?t._e():n("div",{staticClass:"q-document-icon mr-2"},[n("v-icon",{staticStyle:{cursor:"pointer"},attrs:{id:"q-document-download-icon",size:"18"},on:{click:t.downloadPdf}},[t._v("\n                    mdi-tray-arrow-down\n                  ")])],1),t._v(" "),t.hideRotate?t._e():n("div",{staticClass:"q-document-icon mr-4"},[n("v-icon",{staticStyle:{cursor:"pointer"},attrs:{id:"q-document-download-icon",size:"18"},on:{click:function(e){t.rotateVal-=90}}},[t._v("\n                    mdi-format-rotate-90\n                  ")])],1),t._v(" "),t.hideZoom?t._e():n("div",{staticClass:"q-document-zoom-options"},[n("ul",{staticClass:"q-document-zoom-options-list"},[n("li",[n("div",{staticClass:"q-document-zoom-field"},[n("span",{staticClass:"ml-2 mr-3 q-document-color-text-content"},[t._v("\n                          "+t._s(Number.parseInt(100*t.zoomVal).toFixed(0))+"%\n                        ")])])]),t._v(" "),n("li",{on:{click:t.zoomOut}},[n("div",{staticClass:"q-document-zoom-buttons q-document-zoom-field",staticStyle:{cursor:"pointer"},attrs:{id:"q-document-zoom-out-field"}},[n("v-icon",{attrs:{id:"q-document-zoom-out-icon",size:"18"}},[t._v("\n                          mdi-minus\n                        ")])],1)]),t._v(" "),n("li",{staticClass:"q-document-zoom-field",on:{click:t.zoomIn}},[n("div",{staticClass:"q-document-zoom-buttons q-document-zoom-field",staticStyle:{cursor:"pointer"},attrs:{id:"q-document-zoom-in-field"}},[n("v-icon",{attrs:{id:"q-document-zoom-in-icon",size:"18"}},[t._v("\n                          mdi-plus\n                        ")])],1)])])])])]):t._e()]:t._e(),t._v(" "),t.showToolBar&&!t.displayOnScroll&&t.renderPdfUrl?n("pdf",{key:t.pdfKey,ref:"pdf",staticClass:"q-document-pdf",style:"background-color:"+t.pdfBackgroundColor+"; min-width:"+t.currentMinWidth+"px",attrs:{src:t.renderPdfUrl,page:t.page,scale:t.zoomVal,height:t.height,text:!1,rotate:t.rotateVal,id:"pdf-page-"+t.page},on:{"num-pages":function(e){t.numPages=e}}},[n("template",{slot:"loading"},[t._v(t._s(t.loadingContent))])],2):t.displayOnScroll&&t.renderPdfUrl?t._l(t.loadedPages,function(e){return n("pdf",{key:t.pdfKey+e,ref:"pdf",refInFor:!0,staticClass:"q-document-pdf",style:"background-color:"+t.pdfBackgroundColor+";",attrs:{src:t.renderPdfUrl,page:t.page,scale:t.zoomVal,rotate:t.rotateVal,text:!1,height:t.height,id:"pdf-page-"+e}},[n("template",{slot:"loading"},[t._v(t._s(t.loadingContent))])],2)}):t.renderPdfUrl?t._l(t.numPages,function(e){return n("pdf",{key:t.pdfKey+e,ref:"pdf",refInFor:!0,staticClass:"q-document-pdf",style:"background-color:"+t.pdfBackgroundColor+";",attrs:{src:t.renderPdfUrl,page:e,scale:t.zoomVal,rotate:t.rotateVal,text:!1,id:"pdf-page-"+e}},[n("template",{slot:"loading"},[t._v(t._s(t.loadingContent))])],2)}):t._e()],2)]):t._e()]):t._e()]),t._v(" "),t.showPrint?n("iframe",{ref:"printIframe",staticStyle:{display:"none"},attrs:{frameborder:"0"}}):t._e()])};o._withStripped=!0;var a=n(32884),i=n.n(a),r=n(25891),s=n(51741),d=n.n(s);const l=360,c=["tiff","tif","TIFF","TIF"],f=["jpeg","JPEG","jpg","JPG","gif","GIF","png","PNG","apng","APNG","svg","SVG","bmp","BMP","ico","ICO"],p=r.default.extend({name:"QDocumentViewer",components:{pdf:i()},props:{src:{default:"",type:[String,Object]},height:{type:String},width:{type:String},scale:{type:String},showToolBar:{type:Boolean,default:!0},pdfToolbarBackgroundColor:{type:String,default:"#fafafa"},pdfBackgroundColor:{type:String,default:"#eeeeee"},hidePagination:{type:Boolean,default:!1},hideDescription:{type:Boolean,default:!1},hideDownload:{type:Boolean,default:!1},hideRotate:{type:Boolean,default:!1},hideZoom:{type:Boolean,default:!1},loadingContent:{type:String,default:"Loading..."},displayOnScroll:{type:Boolean,default:!1},fileDescription:{type:String},showPrint:{type:Boolean,default:!1},_renderingProps:{type:Object,default:null},securityErrorMessage:{type:String},securityErrorMessageIcon:{type:String,default:"mdi-alert"}},data(){return{show:!0,loadedRatio:0,numPages:0,page:1,turn:0,showToolbar:!0,tiffLoading:!1,zoomVal:null!=this.scale&&null!=this.scale?Number(parseFloat(this.scale).toFixed(2)):1,rotateVal:0,loadedPages:1,docType:void 0,url:this.src,renderPdfUrl:"",pdfLoadToken:0,localLanguage:"en",pageTitle:"Page",pdfKey:0,currentMinWidth:816,dataType:"url",tiffBufferData:null,tifIfds:[],blocked:!1,internalErrorMessage:"",scrollEndTriggered:!1,lastScrollTop:0,scrolledToBottomListener:null}},mounted(){this.docType=this.getType();let t=this._renderingProps.context().GetItemSingle("Dory").GetLRType().substring(0,2);this.pageTitle="tr"===t?"Sayfa":"Page"},watch:{src:function(){this.pdfKey=(new Date).valueOf(),this.url=this.src,this.page=1,this.loadedPages=1,this.renderPdfUrl="",this.numPages=0,this.blocked=!1,this.pdfLoadToken++,this.docType=this.getType()},scale:function(){this.zoomVal=Number(parseFloat(this.scale).toFixed(2))},page:function(t){""!==t&&(this.page>this.numPages&&(this.page=this.numPages),this.page<1&&(this.page=1),this.page<=this.numPages&&this.page>this.loadedPages&&(this.loadedPages=this.page),"tiff"===this.docType&&this.renderTiffPage())},rotateVal(t){t<0?this.rotateVal=270:t>=360&&(this.rotateVal=0),"tiff"===this.docType&&this.renderTiffPage()}},created(){this.onFrameScrollBottom()},destroyed(){this.scrolledToBottomListener&&window.removeEventListener("message",this.scrolledToBottomListener,!1),this.$el?.remove()},methods:{async fetchPdfBytes(t){if(t.startsWith("data:application/pdf")){const e=t.split(",")[1];return this.base64ToArrayBuffer(e)}if(t.startsWith("http")||t.startsWith("blob:")){const e=await fetch(t);if(!e.ok)throw new Error("Network response was not ok");return await e.arrayBuffer()}try{return this.base64ToArrayBuffer(t)}catch(t){throw new Error("Geçersiz PDF kaynağı veya hatalı Base64 formatı.")}},scanForJS(t,e){const n="string"==typeof t?t:(new TextDecoder).decode(t),o=n.replace(/[^\x20-\x7E]/g,"");return"pdf"===e?[/\/JS(\s|\/|\r|\n|<|$)/,/\/JavaScript(\s|\/|\r|\n|<|$)/i,/\/OpenAction(\s|\[|<|$)/i,/\/Launch(\s|\/|\r|\n|<|$)/i,/\/SubmitForm(\s|\/|\r|\n|<|$)/i,/\/AA\s*<</].some(t=>t.test(n)):"html"===e&&[/<script\b/i,/\bonload\b/i,/\bonclick\b/i,/\bonerror\b/i].some(t=>t.test(o))},isTiffBuffer(t){const e=new Uint8Array(t);return 73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3]},async loadTiff(t){this.tiffLoading=!0,"arrayBuffer"===t&&this.tiffBufferData||(this.tiffBufferData=await this.getTiffBuffer(t,this.src)),this.tiffBufferData&&(this.tifIfds=d().decode(this.tiffBufferData),this.numPages=this.tifIfds.length,this.$nextTick(()=>{this.renderTiffPage(),this.tiffLoading=!1}))},async getTiffBuffer(t,e){if("url"===t){const t=await fetch(e);return await t.arrayBuffer()}if("base64"===t){const t=e.replace(/^data:image\/\w+;base64,/,"");return this.base64ToArrayBuffer(t)}return e},escapeHTML:t=>t.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t])),renderTiffPage(){const t=this.$refs.tiffContainerRef;if(!t)return;const e=this.tiffBufferData;if(!e)return;const n=this.zoomVal||1,o=(this.rotateVal%l+l)%l;(this.hidePagination?this.tifIfds:[this.tifIfds[this.page-1]]).forEach(a=>{d().decodeImage(e,a);const i=d().toRGBA8(a),[r,s]=[a.width*n,a.height*n];90===o||270===o?(t.width=s,t.height=r):(t.width=r,t.height=s);const l=t.getContext("2d");if(l){l.save(),l.translate(t.width/2,t.height/2),l.rotate(o*Math.PI/180),l.translate(-r/2,-s/2);const e=new ImageData(new Uint8ClampedArray(i),a.width,a.height);createImageBitmap(e).then(e=>{l.clearRect(0,0,t.width,t.height),l.drawImage(e,0,0,r,s),l.restore()})}})},base64ToArrayBuffer(t){const e=t.replace(/^data:.*;base64,/,"").replace(/\s/g,""),n=atob(e),o=n.length,a=new Uint8Array(o);for(let t=0;t<o;t++)a[t]=n.charCodeAt(t);return a.buffer},async createPdf(){const t=++this.pdfLoadToken;this.pdfKey=Date.now(),this.blocked=!1;try{const e=await this.fetchPdfBytes(this.src);if(t!==this.pdfLoadToken)return;if(this.scanForJS(e,"pdf"))return this.internalErrorMessage=this.securityErrorMessage||"Zararlı içerik tespit edildi.",void(this.blocked=!0);const n=new Blob([e],{type:"application/pdf"}),o=URL.createObjectURL(n);this.renderPdfUrl=o,this.url=o,i().createLoadingTask(o).then(e=>{t===this.pdfLoadToken&&(this.numPages=e.numPages)}).catch(t=>{console.error("PDF sayfa sayısı alınırken hata:",t)})}catch(e){if(t!==this.pdfLoadToken)return;console.error("PDF işleme hatası:",e),this.blocked=!0}},downloadTiff(){let t;if(this.src.startsWith("http"))t=fetch(this.src).then(t=>t.blob());else if(this.src.startsWith("data:"))t=fetch(this.src).then(t=>t.blob());else{const e=this.src.replace(/\s/g,""),n=atob(e),o=new Uint8Array(n.length);for(let t=0;t<n.length;t++)o[t]=n.charCodeAt(t);t=Promise.resolve(new Blob([o],{type:"image/tiff"}))}t.then(t=>{const e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="file.tiff",n.click(),URL.revokeObjectURL(e)})},base64ToAB(t){const e=window.atob(t),n=e.length,o=new Uint8Array(n);for(let t=0;t<n;t++)o[t]=e.charCodeAt(t);return o.buffer},base64ToBlob(t,e="application/octet-stream"){const n=atob(t),o=n.length,a=new Uint8Array(o);for(let t=0;t<o;t++)a[t]=n.charCodeAt(t);return new Blob([a],{type:e})},focusSelectedPage(){var t;this.displayOnScroll&&(this.page>this.numPages?(this.page=1,(t=document.getElementById("pdf-page-1"))&&t.scrollIntoView()):(t=document.getElementById("pdf-page-"+this.page.toString()))&&t.scrollIntoView())},zoomIn(){this.zoomVal<2&&(this.zoomVal+=.1,this.currentMinWidth+=81.6,"tiff"===this.docType&&this.renderTiffPage())},zoomOut(){this.zoomVal>.2&&(this.zoomVal-=.1,this.currentMinWidth-=81.6,"tiff"===this.docType&&this.renderTiffPage())},nextPage(){this.page+=this.page<this.numPages?1:0},previousPage(){this.page-=this.page>0?1:0},rotate(){this.rotateVal=(this.rotateVal-90+l)%l,"tiff"===this.docType&&this.renderTiffPage()},goToPage(t){t>=1&&t<=this.numPages&&(this.page=t)},downloadPdf(){let t=this.url;t.startsWith("blob:")||t.startsWith("http")||t.startsWith("data:")||(t=`data:application/pdf;base64,${t}`);const e=document.createElement("a");e.href=t,e.download=this.fileDescription??"fileData",e.click()},printPdf(){if(this.src.startsWith("data:application/pdf;base64,")||this.src.startsWith("data:application/pdf,")){const t=this.$refs.printIframe;t&&(t.src=this.url,t.onload=()=>{t.contentWindow?.print()})}else fetch(this.src).then(t=>t.blob()).then(t=>{const e=URL.createObjectURL(t),n=this.$refs.printIframe;n&&(n.src=e,n.onload=()=>{n.contentWindow?.print(),URL.revokeObjectURL(e)})})},detectTypeFromBuffer(t){const e=new Uint8Array(t);if(37===e[0]&&80===e[1]&&68===e[2]&&70===e[3]){const e=new Blob([t],{type:"application/pdf"}),n=URL.createObjectURL(e);return this.renderPdfUrl=n,this.url=n,this.createPdf(),"pdf"}if(73===e[0]&&73===e[1]&&42===e[2]||77===e[0]&&77===e[1]&&42===e[3])return this.dataType="arrayBuffer",this.tiffBufferData=t,this.loadTiff("arrayBuffer"),"tiff";if(137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]){const e=new Blob([t],{type:"image/png"});return this.url=URL.createObjectURL(e),"img"}if(255===e[0]&&216===e[1]){const e=new Blob([t],{type:"image/jpeg"});return this.url=URL.createObjectURL(e),"img"}},getType(){const t=this.src;if(t?.startsWith?.("data:")){const e=t.split(",")[0].split(";")[0].split(":")[1].split("/");return c.includes(e[1])?(this.dataType="base64",this.loadTiff(this.dataType),"tiff"):"image"===e[0]?"img":"pdf"===e[1]?(this.createPdf(),"pdf"):e[1]}if("string"!=typeof t||t.startsWith("data:")){if(this.src instanceof ArrayBuffer)return this.isTiffBuffer(this.src)?(this.dataType="arrayBuffer",this.loadTiff(this.dataType),"tiff"):void 0;{if(!t||""===t)return;let e=new URL(t).pathname.split(".").pop()||"";return["html","htm"].includes(e)?"html":f.includes(e)?"img":"pdf"===e||e?.replace(/\s/g,"").startsWith("pdf?")?(this.createPdf(),"pdf"):c.includes(e)?(this.dataType="url",this.loadTiff(this.dataType),"tiff"):e}}try{const e=t.trim().replace(/\s/g,""),n=this.base64ToArrayBuffer(e),o=this.detectTypeFromBuffer(n);if("pdf"===o){const t=new Blob([n],{type:"application/pdf"}),e=URL.createObjectURL(t);return this.url=e,this.renderPdfUrl=e,this.createPdf(),"pdf"}if("img"===o){const t=new Blob([n]);return this.url=URL.createObjectURL(t),"img"}return o}catch{console.error("Dosya işlenirken hata oluştu:")}},onFrameScrollBottom(){this.scrolledToBottomListener=t=>{"scrolledToBottom"==t.data&&this.$emit("scrolledToBottom")},window.addEventListener("message",this.scrolledToBottomListener,!1)},handleScroll({target:{scrollTop:t,clientHeight:e,scrollHeight:n,lastChild:{offsetHeight:o}}}){if(this.displayOnScroll&&this.showToolBar){let e=parseInt(Math.ceil(Math.round(t)/o).toString());this.page=0==e?1:e>=this.numPages?this.numPages:e}const a=Math.round(t),i=n-(a+e)<=5,r=!this.displayOnScroll||this.loadedPages>=this.numPages;i&&!this.scrollEndTriggered&&r&&(this.scrollEndTriggered=!0,this.$emit("scrollEnd")),i||(this.scrollEndTriggered=!1),a+e+1>=n&&this.displayOnScroll&&this.numPages>this.loadedPages&&this.loadedPages++,this.lastScrollTop=a}}});var h=n(42604),u=n.n(h),m=n(10101),g=n.n(m),y=n(15863),v=n.n(y),b=n(89592),w=n.n(b),x=n(56896),q=n.n(x),T=n(99917),_=n.n(T),P=n(29305),B={attributes:{class:"plateauStudioClass"}};B.styleTagTransform=_(),B.setAttributes=w(),B.insert=v().bind(null,"head"),B.domAPI=g(),B.insertStyleElement=q(),u()(P.A,B),P.A&&P.A.locals&&P.A.locals;const C=(0,n(7258).A)(p,o,[],!1,null,"04971c6a",null).exports}}]);