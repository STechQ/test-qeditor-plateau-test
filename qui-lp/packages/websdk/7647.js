"use strict";(this.webpackChunk_stechquick_websdk=this.webpackChunk_stechquick_websdk||[]).push([[7647],{7647:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("iframe",{ref:"frame",style:e.style,attrs:{allow:e.allow,src:e.iframeSrc,name:this._renderingProps.props().ID+"_qframe"},on:{load:e.onLoad}})};i._withStripped=!0;var n=r(40591);const a=r(89146).default.extend({name:"QFrame",props:{allow:{type:String},url:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh)"},border:{type:Number,default:0},isLoading:{type:Boolean,default:!1},_renderingProps:{type:Object}},data:function(){return{messageListener:void 0,iframeSrc:"",currentObjectUrl:null}},watch:{url:{immediate:!0,handler:function(){this.updateIframeSrc()}}},methods:{Send:function(e){var t,r=n._.GetDomain(this.url);null===(t=this.$refs.frame.contentWindow)||void 0===t||t.postMessage(e,r)},createBlobUrl:function(e){var t,r,i,n;if(!e)return null;if(e.startsWith("data:application/pdf;base64,"))i=null===(t=e.split("data:application/pdf;base64,"))||void 0===t?void 0:t[1],n=this.base64ToBlob(i,"application/pdf");else if(e.startsWith("data:application/pdf,"))i=null===(r=e.split("data:application/pdf,"))||void 0===r?void 0:r[1],n=this.base64ToBlob(i,"application/pdf");else{if(!e.trim().startsWith("<!DOCTYPE html>"))return null;n=new Blob([e.trim()],{type:"text/html"})}return URL.createObjectURL(n)},updateIframeSrc:function(){this.currentObjectUrl&&(URL.revokeObjectURL(this.currentObjectUrl),this.currentObjectUrl=null);var e=this.createBlobUrl(this.url);e?(this.currentObjectUrl=e,this.iframeSrc=e):this.iframeSrc=this.url},base64ToBlob:function(e,t){void 0===t&&(t="application/octet-stream");for(var r=atob(e),i=r.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=r.charCodeAt(a);return new Blob([n],{type:t})},post:function(e,t,r){var i=this.$refs.frame,n=document.createElement("form");n.style.display="none";var a=e,s=this.createBlobUrl(e);s&&(a=s,setTimeout((function(){URL.revokeObjectURL(s)}),3e3)),n.action=a,n.method="post",n.target=i.name,r&&(n.enctype=r),Object.keys(t).forEach((function(e){var r=document.createElement("input");r.name=e,r.value=t[e],r.type="hidden",n.appendChild(r)}));var o=document.body;o.appendChild(n),n.submit(),o.removeChild(n)},onLoad:function(){this.$emit("onLoad")}},mounted:function(){var e=this;this.messageListener=function(t){var r=e.$refs.frame;r&&r.contentWindow==t.source&&e.$emit("onMessage",t.data)},window.addEventListener("message",this.messageListener)},destroyed:function(){this.messageListener&&window.removeEventListener("message",this.messageListener),this.currentObjectUrl&&URL.revokeObjectURL(this.currentObjectUrl)},computed:{style:function(){return"border:"+this.border+";overflow:hidden;height:"+this.height+";width:"+this.width+";opacity:"+(this.isLoading?.1:1)}}}),s=(0,r(62264).Z)(a,i,[],!1,null,null,null).exports}}]);