!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.websdk=t():e.websdk=t()}(this,(()=>(()=>{"use strict";var e,t,n={60035:(e,t,n)=>{n.d(t,{k:()=>d});var r=n(62190),o=n(56303),i=n(67642),s="component promise",a=function(){function e(e){var t=e.moduleManager;this.moduleManager=t}return e.prototype.collectQJson=function(e,t,n,o){var a=null,u=this,l=function(e){var r=this;e&&e.forEach((function(e){return c=r,d=void 0,f=function(){var r,c,d;return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(g){return e?(r=[],"CustomComponent"==e.T||"RenderingComponent"==e.T?r.push(t.Evaluate({script:null===(d=e.P.QJsonPath)||void 0===d?void 0:d.H,response:null,lang:i.i.getLang({ctrl:e,qLang:o})})):(c=u.moduleManager.CheckComponent(e.T,e.CP))&&(null==(a=a||[])||a.push({prom:c,qJsonPath:s,result:-1})),r&&r.forEach((function(e){if(e){var t=n(e);(a=a||[]).push({prom:t,qJsonPath:e,result:-1})}})),e.C&&Object.keys(e.C).forEach((function(t){return l(e.C[t].c)})),[2]):[2]}))},new((g=void 0)||(g=Promise))((function(e,t){function n(e){try{o(f.next(e))}catch(e){t(e)}}function r(e){try{o(f.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof g?o:new g((function(e){e(o)}))).then(n,r)}o((f=f.apply(c,d||[])).next())}));var c,d,g,f}))};l(e);var c=[],d=0;return new Promise((function(e,i){a?a.forEach((function(i){i.prom.then((function(e){if(i.result++,i.qJsonPath!=s){var r=u.collectQJson(e.cJson,t,n,o);c.push(r),r.then((function(e){e&&(i.subPromiseList=i.subPromiseList||[],i.subPromiseList.push(e))}))}})).catch((function(e){r.Y.Log({logMessage:"Error on collectQJson can't find qjson: "+i.qJsonPath+"."})})).finally((function(){++d==a.length&&Promise.all(c).then((function(){return e(a)}))}))})):e(a)}))},e}(),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function c(e){var t=this;return function(r){return u(t,void 0,void 0,(function(){var t;return l(this,(function(o){switch(o.label){case 0:return[4,n.e(908).then(n.bind(n,84908))];case 1:return t=o.sent(),Object.keys(t).forEach((function(e){return r[e]=t[e]})),[2,t[e]]}}))}))}}var d=function(){function e(t){var n=t.qjsonRetriever,r=t.moduleManager,o=t.context;this.contextName=e.contextName,this.qJsonPool={},this.qjsonRetriever=n,this.moduleManager=r,this.qjsonCollector=new a({moduleManager:r}),this.context=o,this.ResetPool()}return Object.defineProperty(e.prototype,"Dory",{get:function(){return this._Dory},set:function(e){this._Dory=e},enumerable:!1,configurable:!0}),e.prototype.ResetPool=function(){var e=this;this.qJsonPool={get"qjson://QLegend"(){return c("QLegend")(e.qJsonPool)},get"qjson://QCaptcha"(){return c("QCaptcha")(e.qJsonPool)},get"qjson://QDynamicFields"(){return c("QDynamicFields")(e.qJsonPool)},get"qjson://QQRCode"(){return c("QQRCode")(e.qJsonPool)}}},Object.defineProperty(e.prototype,"ModuleManager",{get:function(){return this.moduleManager},enumerable:!1,configurable:!0}),e.prototype.retrieveAndFillQjsonAsync=function(e){var t,n,i=e.qjson,s=e.dory;return u(this,void 0,void 0,(function(){var e,a,c,d,g,f,p,h;return l(this,(function(v){switch(v.label){case 0:return e=this,a=i,c=this.context.GetItemSingle("QShell"),d=(null===(t=c)||void 0===t?void 0:t.getRender()).DoryInst.GetShellConfiguration(),g=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return r.sent(),n=(t=o.E).qJsonExtractor,[4,e];case 2:return[2,n.apply(t,[r.sent()])]}}))}))},f=function(t,n){var o;return u(this,void 0,void 0,(function(){var n,i,s,u;return l(this,(function(l){switch(l.label){case 0:return(n=e.qJsonPool[t])?"function"!=typeof n?[3,1]:[2,n(e.qJsonPool)]:[3,5];case 1:return n instanceof Promise?[4,n]:[3,3];case 2:return[2,l.sent()];case 3:return[2,n];case 4:return[3,10];case 5:i=e.qjsonRetriever.retrieveQJsonAsync(t,a.options),l.label=6;case 6:return l.trys.push([6,8,,9]),s=g(i),e.Dory.GetEditor()||(e.qJsonPool[t]=s),[4,s];case 7:return n=l.sent(),e.Dory.GetEditor()||(e.qJsonPool[t]=n),[3,9];case 8:throw u=l.sent(),r.Y.Log({logMessage:"qjson error: "+t+" has error",logType:r.h.Trace,additional:u,minEngineLogLevel:null===(o=d.getMinEngineLogType)||void 0===o?void 0:o.call(d)}),u;case 9:return[2,n];case 10:return[2]}}))}))},"content"!=i.type?[3,1]:(h=i.content,[3,3]);case 1:return[4,f(i.path,!0)];case 2:h=v.sent(),v.label=3;case 3:return p=h,[4,this.qjsonCollector.collectQJson(p.cJson,s,f,null===(n=p.opt)||void 0===n?void 0:n.QL)];case 4:return v.sent(),[2,p]}}))}))},e.prototype.getCJson=function(e){return this.qJsonPool[e]},e.contextName="QJsonPool",e}()},5475:(e,t,n)=>{n.d(t,{E:()=>r});var r=function(){function e(){}return e.LoadModule=function(e){var t={};return new Function("module","exports",e)(t,{}),t.exports},e.FetchModuleBody=function(e){return new Promise((function(t,n){return fetch(e).then((function(e){return e.text().then((function(n){return t({body:n,status:e.status})})).catch(n)})).catch(n)}))},e}()},62190:(e,t,n)=>{var r;n.d(t,{h:()=>r,Y:()=>a}),function(e){e[e.Debug=0]="Debug",e[e.MobilDebug=1e3]="MobilDebug",e[e.Trace=2e5]="Trace",e[e.Warning=5e5]="Warning",e[e.Error=1e6]="Error"}(r||(r={}));var o=function(){function e(){}return e.prototype.writeMessage=function(e){var t;null===(t=this.logHandler)||void 0===t||t.call(this,e)},e}(),i=n(36070),s=function(){function e(){}return e.trySingularize=function(e,t){return!this.singularized(e)&&(i.q.Instance.Window[e]=t,!0)},e.singularized=function(e){return i.q.Instance.Window[e]},e.getFreeName=function(e){for(var t,n=null!==(t=null===i.q||void 0===i.q?void 0:i.q.Instance.Window)&&void 0!==t?t:{},r=0;n[e+"_"+ ++r];);return e+"_"+r},e}(),a=function(){function e(){return{Log:this.Log}}return Object.defineProperty(e,"LogBulkManager",{get:function(){return e.logBulkManager||(e.logBulkManager=s.singularized(e.windowName)),e.logBulkManager},enumerable:!1,configurable:!0}),e.Init=function(e){var t=e.callBack;e.clear,this.logBulkManager=new o,this.logBulkManager.logHandler=t,s.trySingularize(this.windowName,this.logBulkManager)},e.Log=function(e){var t,n=e.logMessage,o=e.logType,i=void 0===o?r.Trace:o,s=e.error,a=e.backgroundColor,u=void 0===a?null:a,l=e.textColor,c=void 0===l?null:l,d=e.additional,g=void 0===d?null:d,f=e.source,p=e.isClientLog,h=void 0!==p&&p,v=e.yamlLogType,b=e.minEngineLogLevel,y=u||c?"background: "+u+"; color: "+c:null;switch(!0){case i==r.MobilDebug&&this.logLevel.indexOf(r.MobilDebug)>-1:case i==r.Debug&&this.logLevel.indexOf(r.Debug)>-1:case i==r.Trace&&this.logLevel.indexOf(r.Trace)>-1:t=console.log;break;case i==r.Error&&this.logLevel.indexOf(r.Error)>-1:t=console.error;break;case i==r.Warning&&this.logLevel.indexOf(r.Warning)>-1:t=console.warn}var m=[n];y&&"string"==typeof n&&(m[0]="%c"+n,m.push(y)),s&&m.push(s),g&&m.push(g),f&&m.push({source:f}),null==t||t.apply(console,m),(h||h&&v&&v<=i||b&&b<=i)&&this.prepareClientLog(n,i)},e.prepareClientLog=function(t,n){var o,i,s=new Date(Date.now()),a=s.getFullYear()+"."+("0"+(s.getMonth()+1)).slice(-2)+"."+("0"+s.getDate()).slice(-2)+" "+s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2)+":"+s.getMilliseconds(),u=this.getCalleFunctionName();if("string"!=typeof t&&n>0)try{i=this.shorten(JSON.stringify(t),n)}catch(e){i="Can not stringfy the given log. Type of log data is: "+Object.prototype.toString.call(t)}else i=this.shorten(t,n);null===(o=e.LogBulkManager)||void 0===o||o.writeMessage({message:i,type:r[n],time:a,caller:u})},e.getCalleFunctionName=function(){return""},e.clearLogs=function(){var t,n;null===(n=null===(t=e.LogBulkManager)||void 0===t?void 0:t.clear)||void 0===n||n.call(t)},e.shorten=function(e,t){return t>e.length?e:"Non trimmed message size is: "+e.length},e.prototype.Log=function(t){return e.Log(t)},e.windowName=s.getFreeName("shrimp_shelldorynemo_pulsar_lbm"),e.logLevel=[r.MobilDebug,r.Trace,r.Debug,r.Warning,r.Error],e}()},56303:(e,t,n)=>{n.d(t,{E:()=>s});var r=function(){function e(){}return e.ParseQJsonContent=function(e){var t=e;if(e.indexOf("let pjson =")>-1){var n=e.split("let pjson =");t=(n=n[1].split(";\nexport")[0].split(";\r\nexport"))[0]}else if(t.indexOf("rally_microUI")>-1){var r=t.indexOf("registerQJson"),o=t.indexOf(",",r)+1;t=t.substring(o,t.length-2)}return JSON.parse(t)},e}(),o=function(){function e(){}return e.QJsonBodyToString=function(e,t){return"let pjson = "+(1==t?JSON.stringify(e):JSON.stringify(e,null,"\t"))+";\r\nexport default pjson"},e.prototype.Serialize=function(t){var n,r=e.boundary+"\r\n",o=e.headerPrefix+"v2\r\nboundary: "+r+"\r\n"+r,i=function(e,t,n){return"name: "+e+"\r\ntype: "+t+"\r\n\r\n"+n},s=t.files,a=t.cFiles;try{t.files=void 0,t.cFiles=void 0,n=i("qjson","qjson",e.QJsonBodyToString(t))}finally{t.files=s,t.cFiles=a}return o+n+(s?r+Object.keys(s).map((function(e){return i(e,"source",s[e])})).join(r):"")+(a?r+Object.keys(a).map((function(e){return i(e,"compiled",a[e])})).join(r):"")},e.prototype.Parse=function(e){var t=this.nextLine(e,0),n=this.extractHeaders(e,t.lastIndex),o=n.headers.boundary,i=n.lastIndex,s={},a={};do{var u=this.getSection(e,o,i);("compiled"==u.headers.type?a:s)[u.headers.name]={headers:u.headers,content:u.section},i=u.lastIndex}while(-1!=i);var l=r.ParseQJsonContent(s.qjson.content);delete s.qjson;var c=l.files={},d=l.cFiles={};return Object.keys(s).forEach((function(e){return c[e]=s[e].content})),Object.keys(a).forEach((function(e){return d[e]=a[e].content})),l},e.prototype.getSection=function(e,t,n){var r=this.extractHeaders(e,n),o=this.getTillBoundary(e,t,r.lastIndex);return{headers:r.headers,section:o.section,lastIndex:o.lastIndex}},e.prototype.getTillBoundary=function(e,t,n){var r=e.indexOf(t,n);return-1==r?{section:e.substring(n),lastIndex:-1}:{section:e.substring(n,r),lastIndex:r+t.length+1}},e.prototype.extractHeaders=function(e,t){var n={},r={line:"",lastIndex:t};do{if(!(r=this.nextLine(e,r.lastIndex)).line)break;var o=this.parseLine(r.line);o&&(n[o.key]=o.value)}while(-1!=r.lastIndex);return{headers:n,lastIndex:r.lastIndex}},e.prototype.parseLine=function(e){var t=e.indexOf(":");if(-1!=t)return{key:e.substring(0,t).trim(),value:e.substring(t+1).trim()}},e.prototype.nextLine=function(e,t){var n=e.indexOf("\n",t);return{line:i(e.substring(t,-1==n?void 0:n)),lastIndex:n+1||-1}},e.boundary="-------------------QJSONFileBoundary-----------------------------",e.headerPrefix="qjson-",e}();function i(e){return e.endsWith("\r")?e.substring(0,e.length-1):e}var s=function(){function e(){}return e.qJsonExtractor=function(t){var n=e.qJsonMediumDecider(t);if(n.startsWith("qjson-")){var r=i(n.substring("qjson-".length,n.indexOf("\n")));return a[r].Parse(n)}return e.ParseQJsonContent(n)},e.qJsonMediumDecider=function(e){if("string"==typeof e)return e.startsWith('{"qjson":"')?JSON.parse(e).qjson:e;var t=JSON.stringify(e);return e.qjson||t},e.ParseQJsonContent=function(e){return r.ParseQJsonContent(e)},e}(),a={v2:new o}},40591:(e,t,n)=>{n.d(t,{_:()=>i});var r=document.currentScript.src,o=r.substring(0,r.lastIndexOf("/")),i=function(){function e(){}return e.getScriptRoot=function(){return o},e.concatUrl=function(e,t){return(e.endsWith("/")?e:e+"/")+(t.startsWith("/")?t.substring(1):t)},e.IsDirectUrl=function(e){return e.startsWith("http:")||e.startsWith("https:")||e.startsWith("blob:")},e.GetDomain=function(e){var t;try{t=new URL(e)}catch(r){var n=document.createElement("a");n.href=e,t=n}return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")},e.ParseQuery=function(e){var t={};if(!e)return t;for(var n=("?"===e[0]?e.substr(1):e).split("&"),r=0;r<n.length;r++){var o=n[r].split("="),i=decodeURIComponent(o[0]),s=t[i];s||(s=[],t[i]=s),s.push(decodeURIComponent(o[1]||""))}return t},e}()},36070:(e,t,n)=>{n.d(t,{q:()=>s});var r=n(62190),o=function(){function e(){}return e.trySingularize=function(e,t,n){var r=t[e];return r||(r=t[e]=n),r},e}(),i="undefined",s=function(){function e(){this.doc=typeof document!==i?document:{addEventListener:function(e,t,n){r.Y.Log({logMessage:"Enviroment does not support document. Triggering document.addEventListener now, type is: "+e,logType:r.h.Warning}),t({target:{readyState:this.readyState}})},createElement:function(e,t){return{tagName:e,options:t}},readyState:"complete"},this.hist=typeof history!==i?history:{pushState:function(e,t,n){r.Y.Log({logMessage:"history.pushState not supported on Node. title: "+t,logType:r.h.Debug})}},this.win=typeof window!==i?window:{setInterval,clearInterval,setTimeout,clearTimeout,atob,btoa},this.helperWorker={worker:function(e,t){return typeof Worker!==i?new Worker(e,t):void 0}}}return Object.defineProperty(e.prototype,"onPopState",{set:function(e){typeof window!==i?window.onpopstate=e:r.Y.Log({logMessage:"onPopState not supported on Node.",logType:r.h.Debug})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.doc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.hist},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Window",{get:function(){return this.win},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Worker",{get:function(){return this.helperWorker},enumerable:!1,configurable:!0}),e.Instance=o.trySingularize("theOneWindow",(new e).Window,new e),e}()},67642:(e,t,n)=>{n.d(t,{i:()=>r});var r=function(){function e(){}return e.getLang=function(e){var t,n,r=e.self,o=e.ctrl,i=e.qJson,s=e.qLang;return r||(null===(t=null==o?void 0:o.O)||void 0===t?void 0:t.CL)||(null===(n=null==i?void 0:i.opt)||void 0===n?void 0:n.QL)||s},e}()},3085:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(40591),o=function(){function e(){}return e.migrateLegacySettings=function(e){var t=function(e,n,r){1!=n.length?(r[n[0]]&&"object"!=typeof r[n[0]]&&(r[n[0]]={}),r[n[0]]=r[n[0]]||{},t(e,n.slice(1),r[n[0]])):r[n[0]]||(r[n[0]]=e)};return[{oldField:"csspath",newField:"cssPath",log:"legacy Settings.yaml. change csspath -> cssPath"},{oldField:"domainURL",newField:"qjsonURLPrefix",log:"legacy Settings.yaml. change domainURL -> qjsonURLPrefix"},{oldField:"urlprefix",newField:"qjsonURLPrefix",log:"legacy Settings.yaml. change urlprefix -> qjsonURLPrefix"},{oldField:"RegionalDefinition",newField:"regionalDefinition",log:"legacy Settings.yaml. change RegionalDefinition -> regionalDefinition"},{oldField:"DomainModuleList",newField:"domainModuleList",log:"legacy Settings.yaml. change DomainModuleList -> domainModuleList"},{oldField:"Backend",newField:"backendInf",log:"legacy Settings.yaml. Move Backend in to backendInf key."},{oldField:"PredefinedBackendHeaders",newField:"backendInf.PredefinedBackendHeaders",log:"legacy Settings.yaml. Move PredefinedBackendHeaders in to backendInf key."},{oldField:"HeaderExceptionList",newField:"backendInf.HeaderExceptionList",log:"legacy Settings.yaml. Move HeaderExceptionList in to backendInf key."},{oldField:"Header",newField:"backendInf.Header",log:"legacy Settings.yaml. Move Header in to backendInf key."},{oldField:"backendInf.singleTab",newField:"singleTab",log:"legacy Settings.yaml. Move Header in to backendInf key."}].forEach((function(n){var r=function(t){for(var n=t.split("."),r=e,o=0;o<n.length;o++){var i=r[n[o]];if(!i)return;o==n.length-1&&delete r[n[o]],r=i}return r}(n.oldField);r&&t(r,n.newField.split("."),e)})),e},e.fixLegacyPathFormat=function(e){if(e.startsWith("quick://")){var t=e.substring(8).split("/");return"/microui/"+t[0]+"/qjson/"+e.substring(t[0].length+9)}return e},e.containerServicesModifications=function(e,t){return e||(e={}),t&&(e.logout=function(){t.logout()},e.getPlateauIAM=function(){return t}),e},e.fixQueryString=function(e){var t,n=window.location.search,o={};n&&(n=(n="?"===n[0]?n.substr(1):n).replace(/\?/,"&"),e=(o=r._.ParseQuery(n)).q?o.q.splice(0,1).join(""):e,0==(null===(t=o.q)||void 0===t?void 0:t.length)&&delete o.q),o.qjsonpath&&(e+="?qjsonpath="+o.qjsonpath.splice(0,1),0==o.qjsonpath.length&&delete o.qjsonpath);var i=Object.entries(o).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),n=t[0],r=t[1];return null==r?void 0:r.map((function(e){return encodeURIComponent(n)+"="+encodeURIComponent(e)}))})).map((function(e){return null==e?void 0:e.join("&")})).join("&");if(null==e?void 0:e.endsWith(".js"))return e;if(e){var s=(null==e?void 0:e.endsWith(".qjson"))?e:e+=".qjson";return i?s+"?"+i:s}return e},e}()},11910:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catcher=void 0;var r=n(99045),o=function(){function e(){}return e.tryLog=function(e){var t=e.cb,n=e.catchLog;try{t()}catch(e){var o=n?n(e):"catcher.tryLog error happened";r.Logger.log({message:o,error:e,level:r.LogLevel.error})}},e}();t.catcher=o},27254:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreatePromiseData=void 0;var n=!1;new Promise((function(e){return e()})).then((function(){return n=!0})),"undefined"!=typeof doNothing&&doNothing();var r=!0===n;t.CreatePromiseData=function(e,t){void 0===t&&(t={});var n,o=void 0,i=void 0,s=function(e){n&&clearTimeout(n),n=setTimeout((function(){i(new Error("The operation has timed out. timeoutValue  : "+e))}),e)};return e&&s(e),{startTimer:s,promise:new Promise((function(e,n){var s;s=e,o=r&&t.fixSyncResolve?function(e){return setTimeout((function(){return s(e)}))}:s,i=n})),resolver:o,reject:i}}},26984:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoHelper=void 0;var n=function(){function e(){}return e.GetRandomWord=function(e,t){return Math.random().toString(e).substring(2,t+2)},e.CreateGuid=function(){var t=this;return[8,4,4,4,6].map((function(e){return t.GetRandomWord(36,e)})).join("-")+(++e.guidCounter%215e7).toString(36)},e.guidCounter=0,e}();t.CryptoHelper=n},21302:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=void 0;var r=n(48050),o=function(){function e(){this.subsDict={}}return e.prototype.obtainSubsList=function(e){return this.subsDict[e]||(this.subsDict[e]=new r.Hook("EventBus_"+e))},e.prototype.Subscribe=function(t,n){if(t==e.AllEvents)throw new Error(t+" is a registered key. If you want to subscribe all events, use SubsribeAll().");this.obtainSubsList(t).subscribe(n)},e.prototype.Unsubscribe=function(t,n){var r;if(t==e.AllEvents)throw new Error(t+" is a registered key. If you want to subscribe all events, use SubsribeAll().");null===(r=this.subsDict[t])||void 0===r||r.unsubscribe(n)},e.prototype.SubscribeAll=function(t){this.obtainSubsList(e.AllEvents).subscribe(t)},e.prototype.UnsubscribeAll=function(t){var n;null===(n=this.subsDict[e.AllEvents])||void 0===n||n.unsubscribe(t)},e.prototype.Trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.subsDict[e.AllEvents];if(null==o||o.triggerer.apply(o,n),t!=e.AllEvents){var i=this.subsDict[t];null==i||i.triggerer.apply(i,n)}},e.prototype.TriggerJustAllSubs=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.subsDict[e.AllEvents];null==r||r.triggerer.apply(r,t)},e.AllEvents="AllEvents",e}();t.EventBus=o},35332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FrameCommunicator=void 0;var r=n(56094),o=function(){function e(e){var t=this;this.OnMessageWithDirectObject=!0,this.targetWindow=e,window.addEventListener("message",(function(n){var r;n.source==e&&(null===(r=t.OnMessage)||void 0===r||r.call(t,n.data))}))}return e.prototype.Send=function(e){this.targetWindow.postMessage(e,"*")},e}(),i=function(){function e(e){this.windowSocket=new o(e),this.structuredSocket=new r.StructuredSocket(this.windowSocket)}return e.prototype.Send=function(e,t,n,r){return this.structuredSocket.Send(n,r)},e.prototype.Subscribe=function(e,t,n){this.structuredSocket.Subscribe(t,n)},e.prototype.SubscribeAll=function(e){this.structuredSocket.SubscribeAll((function(t){return e(t)}))},e.prototype.UnsubscribeAll=function(e){this.structuredSocket.UnsubscribeAll((function(t){return e(t)}))},e}();t.FrameCommunicator=i},48050:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Hook=void 0,n(79914);var r=n(11910),o=function(){function e(e,t){void 0===t&&(t={}),this.subscribers=[],this.hookName=e,this.triggerPostSubscribersWithCb=t.triggerPostSubscribersWithCb||!1,t.manageState=t.manageState||!1,this.hookState={triggered:!1,triggerArgs:[],active:t.manageState}}return Object.defineProperty(e.prototype,"TriggerPostSubscribersWithCb",{get:function(){return this.triggerPostSubscribersWithCb},set:function(e){this.triggerPostSubscribersWithCb=e},enumerable:!1,configurable:!0}),e.prototype.ResetAndStartState=function(){this.hookState.triggerArgs=[],this.hookState.active=!0,this.hookState.triggered=!1},e.prototype.DisableState=function(){this.hookState.triggerArgs=[],this.hookState.active=!1,this.hookState.triggered=!1},e.prototype.IsTriggered=function(){if(!this.hookState.active)throw new Error("IsTriggered can not be checked on a non manageState Hook: "+this.hookName);return this.hookState.triggered},e.prototype.getHookName=function(){var e=this.hookName;return e.toLowerCase().endsWith("hook")||(e+=" hook"),e},Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.subscriberCount>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subscriberCount",{get:function(){return this.subscribers.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPostSubscribers",{get:function(){var e,t;return!0===((null===(e=this.postSubscribers)||void 0===e?void 0:e.hasPostSubscribers)||(null===(t=this.postSubscribers)||void 0===t?void 0:t.hasSubscribers))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triggerer",{get:function(){return this.trigger},enumerable:!1,configurable:!0}),e.prototype.trigger=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.hookState.active&&(this.hookState.triggered=!0,this.hookState.triggerArgs=n),this.subscribers.forEach((function(e){return t.tryTriggerSubscriber(e,n)})),this.triggerPostSubscribersWithCb||null===(e=this.postSubscribers)||void 0===e||e.triggerer.apply(this.postSubscribers,n)},e.prototype.tryTriggerSubscriber=function(e,t){var n=this;r.catcher.tryLog({cb:function(){return e.apply(null,t)},catchLog:function(){return n.getHookName()+" subscriber failed"}})},e.prototype.triggerPostSubscribers=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=this.postSubscribers)||void 0===e||e.triggerer.apply(this.postSubscribers,t)},e.prototype.postSubscribe=function(t){this.postSubscribers||(this.postSubscribers=new e(this.hookName+"_Post",{manageState:this.hookState.active}),this.postSubscribers.hookState=this.hookState),this.postSubscribers.subscribe(t)},e.prototype.postUnsubscribe=function(e){var t;null===(t=this.postSubscribers)||void 0===t||t.unsubscribe(e)},e.prototype.clearPostSubscribers=function(e){var t;void 0===e&&(e=!1),null===(t=this.postSubscribers)||void 0===t||t.clearSubscribers(),!e&&this.hasPostSubscribers||(this.postSubscribers=void 0)},e.prototype.forceClearAllSubscibers=function(){this.clearPostSubscribers(!0),this.clearSubscribers()},e.prototype.subscribe=function(e){this.subscribers.push(e),this.hookState.active&&this.hookState.triggered&&this.tryTriggerSubscriber(e,this.hookState.triggerArgs)},e.prototype.clearSubscribers=function(){this.subscribers=[]},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t!=e}))},e}();t.Hook=o},98099:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.importModuleBody=t.importModuleFile=t.importModule=t.importScript=void 0;var s=n(27254);function a(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()]}}))}))}function u(e,t,n){void 0===n&&(n="default");var r={};return new Function("module","exports","require",e)(r,{},t),"*"==n?r.exports:r.exports[n]}t.importScript=function(e,t,n){return void 0===n&&(n="default"),o(this,void 0,void 0,(function(){var o,a,u;return i(this,(function(i){switch(i.label){case 0:return o=(0,s.CreatePromiseData)(),(a=document.createElement("script")).src=e,a.onload=function(){return o.resolver()},a.onerror=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.reject(r({},e))},document.body.appendChild(a),[4,o.promise];case 1:i.sent(),u=window[t];try{delete window[t]}catch(e){}return[2,"*"==n?u:u[n]]}}))}))},t.importModule=function(e,t,n){return void 0===n&&(n="default"),o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,a(e)];case 1:return[2,u(r.sent(),t,n)]}}))}))},t.importModuleFile=a,t.importModuleBody=u},99045:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogType=t.LogLevelLookup=t.LogLevel=void 0;var r,o,i=n(28036);!function(e){e.debug="DEBUG",e.info="INFO",e.log="LOG",e.trace="TRACE",e.warn="WARNING",e.error="ERROR"}(r=t.LogLevel||(t.LogLevel={})),t.LogLevelLookup={DEBUG:10,INFO:20,LOG:30,TRACE:40,WARNING:50,ERROR:60},function(e){e[e.Debug=0]="Debug",e[e.MobilDebug=1e3]="MobilDebug",e[e.Trace=2e5]="Trace",e[e.Warning=5e5]="Warning",e[e.Error=1e6]="Error"}(o=t.LogType||(t.LogType={}));var s=function(){function e(){}return e.trySingularize=function(e,t){return!this.singularized(e)&&(i.WindowHelper.Instance.Window[e]=t,!0)},e.singularized=function(e){return i.WindowHelper.Instance.Window[e]},e.getFreeName=function(e){for(var t,n=null!==(t=null===i.WindowHelper||void 0===i.WindowHelper?void 0:i.WindowHelper.Instance.Window)&&void 0!==t?t:{},r=0;n[e+"_"+ ++r];);return e+"_"+r},e}(),a=function(){function e(){}return e.Log=function(e){var t,n=e.logMessage,r=e.logType,i=void 0===r?o.Trace:r,s=e.error,a=e.backgroundColor,u=void 0===a?null:a,l=e.textColor,c=void 0===l?null:l,d=e.additional,g=void 0===d?null:d,f=e.source,p=e.isClientLog,h=void 0!==p&&p,v=e.yamlLogType,b=e.minEngineLogLevel,y=u||c?"background: "+u+"; color: "+c:null;switch(!0){case i==o.MobilDebug&&this.logLevel.indexOf(o.MobilDebug)>-1:case i==o.Debug&&this.logLevel.indexOf(o.Debug)>-1:case i==o.Trace&&this.logLevel.indexOf(o.Trace)>-1:t=console.log;break;case i==o.Error&&this.logLevel.indexOf(o.Error)>-1:t=console.error;break;case i==o.Warning&&this.logLevel.indexOf(o.Warning)>-1:t=console.warn}var m=[n];y&&"string"==typeof n&&(m[0]="%c"+n,m.push(y)),s&&m.push(s),g&&m.push(g),f&&m.push({source:f}),null==t||t.apply(console,m),(h||h&&v&&v<=i||b&&b<=i)&&this.prepareClientLog(n,i)},e.prepareClientLog=function(t,n){var r,i,s=new Date(Date.now()),a=s.getFullYear()+"."+("0"+(s.getMonth()+1)).slice(-2)+"."+("0"+s.getDate()).slice(-2)+" "+s.getHours()+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2)+":"+s.getMilliseconds(),u=this.getCalleFunctionName();if("string"!=typeof t&&n>0)try{i=this.shorten(JSON.stringify(t),n)}catch(e){i="Can not stringfy the given log. Type of log data is: "+Object.prototype.toString.call(t)}else i=this.shorten(t,n);null===(r=e.LogBulkManager)||void 0===r||r.writeMessage({message:i,type:o[n],time:a,caller:u})},e.getCalleFunctionName=function(){return""},e.shorten=function(e,t){return t>e.length?e:"Non trimmed message size is: "+e.length},Object.defineProperty(e,"LogBulkManager",{get:function(){return e.logBulkManager||(e.logBulkManager=s.singularized(e.windowName)),e.logBulkManager},enumerable:!1,configurable:!0}),e.log=function(e){var t=[];e.timeFormat&&t.push(this.getDatetimeString(e.timeFormat)),t.push(e.message),e.error&&t.push(e.error),e.additional&&t.push(e.additional),this.getTargetLog(e.level).apply(console,t)},e.getDatetimeString=function(e){var t=new Date;switch(e){case"date":return t.toLocaleDateString("tr-TR");case"datepath":return""+t.toISOString().slice(0,10);case"time":return t.toLocaleTimeString("tr-TR")+"."+t.getMilliseconds();case"datetime":return t.toLocaleString("tr-TR")+"."+t.getMilliseconds()}},e.getTargetLog=function(e){var t;switch(e){case r.debug:t=console.debug;break;case r.info:t=console.info;break;case r.log:t=console.log;break;case r.trace:t=console.trace;break;case r.warn:t=console.warn;break;case r.error:t=console.error;break;default:t=console.log}return t},e.logLevel=[o.MobilDebug,o.Trace,o.Debug,o.Warning,o.Error],e.windowName=s.getFreeName("shrimp_shelldorynemo_pulsar_lbm"),e}();t.Logger=a},45551:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Singularizer=void 0;var n=function(){function e(){}return e.trySingularize=function(e,t,n){var r=t[e];return r||(r=t[e]=n),r},e}();t.Singularizer=n},56094:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StructuredSocket=void 0;var r=n(27254),o=n(26984),i=n(21302),s=function(){function e(e){this.socket=e,this.awaitMsgList={},this.eventBus=new i.EventBus,e.OnMessage=this.listen.bind(this)}return e.prototype.CreatePackage=function(e,t){return{msg:e,id:o.CryptoHelper.CreateGuid(),replyId:t.replyId}},e.prototype.Send=function(e,t){var n,o=this.CreatePackage(e,t);return this.socket.Send(o),t.awaitResponse&&(n=(0,r.CreatePromiseData)(t.awaitTime),this.awaitMsgList[o.id]={promData:n}),null==n?void 0:n.promise},e.prototype.Subscribe=function(e,t){this.eventBus.Subscribe(e,t)},e.prototype.Unsubscribe=function(e,t){this.eventBus.Unsubscribe(e,t)},e.prototype.SubscribeAll=function(e){this.eventBus.SubscribeAll(e)},e.prototype.UnsubscribeAll=function(e){this.eventBus.UnsubscribeAll(e)},e.prototype.tryLogJsonParseEx=function(e){try{return JSON.parse(e)}catch(l){var t=l;if(!t.message)throw l;var n="in JSON at position",r=t.message.indexOf(n);if(r<=-1)throw l;var o=t.message.substring(r+n.length),i=Number(o);if(isNaN(i))throw l;var s=i<30?0:i-30,a=i>e.length-30?e.length:i+30,u=e.substring(s,a);throw console.log(u+"\n"+" ".repeat(i-s)+"^"),l}},e.prototype.ConvertBufferToStructure=function(e){try{var t=this.socket.OnMessageWithDirectObject?e:this.tryLogJsonParseEx(e.toString());return t?t.msg&&t.msg.type?t:void console.log("unexpected message format: missing {msg:{type: ... }} structure"):void console.log("unexpected message format: undefined")}catch(e){return void console.log("unexpected message format: json.parse error: ",e)}},e.prototype.listen=function(e){var t=this.ConvertBufferToStructure(e);if(t){if(t.replyId){var n=this.awaitMsgList[t.replyId];return n&&(delete this.awaitMsgList[t.replyId],n.promData.resolver(t)),void this.eventBus.TriggerJustAllSubs(t)}this.eventBus.Trigger(t.msg.type,t)}},e}();t.StructuredSocket=s},28036:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WindowHelper=void 0;var r=n(99045),o=n(45551),i="undefined",s=function(){function e(){this.doc=typeof document!==i?document:{addEventListener:function(e,t,n){r.Logger.Log({logMessage:"Enviroment does not support document. Triggering document.addEventListener now, type is: "+e,logType:r.LogType.Warning}),t({target:{readyState:this.readyState}})},createElement:function(e,t){return{tagName:e,options:t}},readyState:"complete"},this.hist=typeof history!==i?history:{pushState:function(e,t,n){r.Logger.Log({logMessage:"history.pushState not supported on Node. title: "+t,logType:r.LogType.Debug})}},this.win=typeof window!==i?window:{setInterval,clearInterval,setTimeout,clearTimeout,atob,btoa},this.helperWorker={worker:function(e,t){return typeof Worker!==i?new Worker(e,t):void 0}}}return Object.defineProperty(e.prototype,"onPopState",{set:function(e){typeof window!==i?window.onpopstate=e:r.Logger.Log({logMessage:"onPopState not supported on Node.",logType:r.LogType.Debug})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.doc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.hist},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Window",{get:function(){return this.win},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Worker",{get:function(){return this.helperWorker},enumerable:!1,configurable:!0}),e.Instance=o.Singularizer.trySingularize("theOneWindow",(new e).Window,new e),e}();t.WindowHelper=s},79914:()=>{String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},68543:(e,t,n)=>{t.fz=void 0;var r=n(35332),o=function(){function e(){}return e.CreatePlateauMessaging=function(e){return new r.FrameCommunicator(e)},e}();t.fz=o}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=n,o.amdO={},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="websdk:",o.l=(n,r,i,s)=>{if(e[n])e[n].push(r);else{var a,u;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[r];var g=(t,r)=>{a.onerror=a.onload=null,clearTimeout(f);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},f=setTimeout(g.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=g.bind(null,a.onerror),a.onload=g.bind(null,a.onload),u&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{o.b=document.baseURI||self.location.href;var e={46:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=i);var s=o.p+o.u(t),a=new Error;o.l(s,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[s,a,u]=n,l=0;if(s.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);u&&u(o)}for(t&&t(n);l<s.length;l++)i=s[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=this.webpackChunkwebsdk=this.webpackChunkwebsdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0;var i={};return(()=>{o.r(i),o.d(i,{createRenderer:()=>b,init:()=>v});var e,t=o(3085),n=o(98099),r=o(56303),s=o(5475),a=o(68543),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},c=function(){function e(e){this.frameCommunication=a.fz.CreatePlateauMessaging(e)}return e.prototype.isItLivePreview=function(){var e;return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,null===(e=(t=this).frameCommunication.Send("LivePreview","getLPID",{type:"getLPID"},{awaitResponse:!0,awaitTime:100}))||void 0===e?void 0:e.catch((function(e){}))];case 1:return(n=r.sent())&&"getLPIDResponse"==n.msg.type?(t.livePreviewID=n.msg.ID,[2,n.msg.ID]):[2]}}))}))},e.prototype.getLivePreviewSettings=function(){var e;return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,null===(e=(t=this).frameCommunication.Send("LivePreview","getLPPlateauUIOptions",{type:"getLPPlateauUIOptions"},{awaitResponse:!0,awaitTime:1e4}))||void 0===e?void 0:e.catch((function(e){}))];case 1:return(n=r.sent())&&"getLPPlateauUIOptionsResponse"==n.msg.type?(n.msg.PlateauUIOptions.serviceWorker||(t.getQjsonUrlPrefix=n.msg.getQJsonUrlPrefix),n.msg.PlateauUIOptions.settings.settings=n.msg.PlateauUIOptions.settings.settings||{value:{},type:"object"},n.msg.PlateauUIOptions.settings.settings.value.useLocalProxyOnClient=!0,[2,n.msg.PlateauUIOptions]):[2]}}))}))},e.prototype.sendSwMessage=function(e){var t;return u(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,null===(t=this.frameCommunication.Send("LivePreview","lpServiceWorkerRequestRequest",{type:"lpServiceWorkerRequestRequest",resourceId:e},{awaitResponse:!0}))||void 0===t?void 0:t.catch((function(e){}))];case 1:return(n=r.sent())&&"lpServiceWorkerRequestResponse"==n.msg.type?[2,n.msg]:[2]}}))}))},e.prototype.setExternalQJsonRetriever=function(e){this.getQjsonUrlPrefix&&e.setQJsonUrlPrefix(this.getQjsonUrlPrefix)},e}(),d=o(60035),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},p=function(){function e(e,t,n){this.container=e,this.renderer=t,this.mountPoint=n}return e.prototype.open=function(e,t){this.container.open({renderer:this.renderer,qjsonPath:e,args:t})},e.prototype.show=function(){this.mountPoint.style.display="block"},e.prototype.hide=function(){this.mountPoint.style.display="none"},e.prototype.close=function(){this.renderer.Hibernate()},e.prototype.trigger=function(e){var t=e.eventName,n=e.parameters;return this.renderer.Trigger(t,n)},e}(),h=function(){function e(){this.enviromentInfo="sdk",this.PlateauIAM=void 0,this.PlateauUIOptions={corsEnabled:!0,iam:"./settings/settings_iam.js",settings:"./settings/settings_web.js",asset:"./static/css/assetList.js"}}return e.prototype.init=function(e){var n,r,i,s,a,u,l,c=e.PlateauUIOptions,d=e.environmentInfo,p=void 0===d?"sdk":d;return g(this,void 0,void 0,(function(){var e,d,g,h,v,b,y,m,w,S,P,L,k,j,x,M,I,O,W,D,q,E;return f(this,(function(f){switch(f.label){case 0:return(e=this).enviromentInfo=p,[4,e.configureLivePreview(c)];case 1:return d=f.sent(),e.PlateauUIOptions=d||(null!=c?c:this.PlateauUIOptions),e.settingsWeb?[3,8]:e.lpManager?(e.settingsWeb=e.PlateauUIOptions.settings,[3,7]):[3,2];case 2:return(g=e.PlateauUIOptions.settings)instanceof Promise?[4,g]:[3,4];case 3:return v=f.sent(),[3,6];case 4:return[4,e.LoadJS(g,"plateauUISettings","*")];case 5:v=f.sent(),f.label=6;case 6:if(!(h=v))throw"please set following: PlateauUIOptions['settings']";e.settingsWeb=h,f.label=7;case 7:e.settingsWeb.localProxy&&"object"==e.settingsWeb.localProxy.type&&(e.settingsWeb.settings.value.settingsProxyYaml=e.settingsWeb.settings.value.settingsProxyYaml||{},e.settingsWeb.settings.value.settingsProxyYaml.localProxy=e.settingsWeb.localProxy.value),e.SDKSettings=t.D.migrateLegacySettings(e.settingsWeb.settings.value),f.label=8;case 8:return e.PlateauUIOptions.iam?(b=e.PlateauUIOptions.iam,e.lpManager?(m=b,[3,14]):[3,9]):[3,17];case 9:return b instanceof Promise?[4,b]:[3,11];case 10:return w=f.sent(),[3,13];case 11:return[4,e.LoadJS(b,"plateauUIIAMOptions","*",!1)];case 12:w=f.sent(),f.label=13;case 13:m=w,f.label=14;case 14:return(y=m)&&(null===(n=y.iam)||void 0===n?void 0:n.active)?(S=e,[4,Promise.all([o.e(0),o.e(161)]).then(o.bind(o,22161))]):[3,17];case 15:if(S.PlateauIAM=new(f.sent().PlateauIAM),e.PlateauIAM.setOptions(y.iam),e.PlateauIAM.settingsIAM=y,P=!0,L=null!==(r=e.settingsWeb.settings.value.rootqjson)&&void 0!==r?r:e.settingsWeb.settings.value.rootqjsonpath,k=null===(s=null===(i=e.PlateauIAM.settingsIAM)||void 0===i?void 0:i.iam)||void 0===s?void 0:s.unsecurePages)for(j=0;j<k.length;j++)x=t.D.fixQueryString(),k[j]===(null!=x?x:L)&&(P=!1);return P?[4,e.PlateauIAM.login()]:[3,17];case 16:if(f.sent(),!e.PlateauIAM.isAuthenticated())throw Error("Authentication: Must logon");f.label=17;case 17:if(e.assetList=null===(u=null===(a=null==d?void 0:d.settings)||void 0===a?void 0:a.asset)||void 0===u?void 0:u.value,!(M=e.PlateauUIOptions.asset))return[3,24];if(!(M instanceof Promise))return[3,22];f.label=18;case 18:return f.trys.push([18,20,,21]),I=e,[4,M];case 19:return I.assetList=f.sent(),[3,21];case 20:return O=f.sent(),console.log(O),[3,21];case 21:return[3,24];case 22:return W=e,[4,e.LoadJS(M,"plateauUIAsset","*",!1)];case 23:W.assetList=f.sent(),f.label=24;case 24:return e.SDKInstance?[3,28]:(D=void 0,(null===(l=e.settingsWeb)||void 0===l?void 0:l.containerServices)?[4,e.LoadObject(e.settingsWeb.containerServices,"plateauUIContainerServices","*",!1)]:[3,26]);case 25:D=f.sent(),f.label=26;case 26:return D=t.D.containerServicesModifications(D,this.PlateauIAM),q=e,[4,Promise.all([o.e(702),o.e(736)]).then(o.bind(o,40333))];case 27:q.SDKInstance=new(f.sent().WebSDK)(e.SDKSettings,D,{environmentName:p}),e.lpManager&&e.lpManager.setExternalQJsonRetriever(e.SDKInstance),window.location.search&&(document.cookie="queryParams="+window.location.search+";path=/;"),f.label=28;case 28:return[4,e.setSDKConfig()];case 29:return E=f.sent(),e.SDKConfiguration=E,[2]}}))}))},e.prototype.createRenderer=function(e){var t=e.mountPoint;return g(this,void 0,void 0,(function(){var e,n;return f(this,(function(r){switch(r.label){case 0:return(n=(e=this).SDKInstance.CreateRenderer({mountPoint:t,config:e.SDKConfiguration})).DoryInst.SetAssetValues(e.assetList),[4,e.setSettingsQJsons({renderer:n})];case 1:return r.sent(),[2,new p(e,n,t)]}}))}))},e.prototype.initLoadingComponent=function(e){var t,n,r,o,i,s;return g(this,void 0,void 0,(function(){var a,u,l,c,g;return f(this,(function(f){switch(f.label){case 0:if(!(null===(t=(a=this).settingsWeb)||void 0===t?void 0:t.loading)&&!(null===(n=a.settingsWeb)||void 0===n?void 0:n.settings.value.loadingqjson))return[2];if("lottie"==(null===(r=a.settingsWeb.loading)||void 0===r?void 0:r.format)||"object"==(null===(o=a.settingsWeb.loading)||void 0===o?void 0:o.type))throw"Loading Lottie Format or Object Type on Web NOTIMPLEMENTED";return l=e.context.GetItemSingle(d.k.contextName),c=e.DoryInst,(g=null===(i=a.settingsWeb)||void 0===i?void 0:i.settings.value.loadingqjson)&&(u={type:"path",path:g.startsWith("/")?g.substring(1):g,options:{disableLoading:!0}}),(null===(s=a.settingsWeb)||void 0===s?void 0:s.loading)&&(u="js"==a.settingsWeb.loading.type?{type:"content",content:e.settingsQJsons.GetLoadingQjson()}:{type:"path",path:a.settingsWeb.loading.value,options:{disableLoading:!0}}),[4,l.retrieveAndFillQjsonAsync({qjson:u,dory:c})];case 1:return[2,f.sent()]}}))}))},e.prototype.open=function(e){var n,r,o,i,s,a,u,l=e.renderer,c=e.qjsonPath,d=e.args;return g(this,void 0,void 0,(function(){var e,g,p,h,v,b,y,m,w;return f(this,(function(f){switch(f.label){case 0:return[4,(e=this).initLoadingComponent(l)];case 1:return f.sent(),p=t.D.fixQueryString(),"sdk"==this.enviromentInfo&&c?(c=t.D.fixLegacyPathFormat(c),g={pjsonPath:c,storeItems:d},[3,9]):[3,2];case 2:return"qui"==this.enviromentInfo&&p?(g={pjsonPath:p,storeItems:d},[3,9]):[3,3];case 3:return g||!(null===(n=e.settingsWeb)||void 0===n?void 0:n.rootqjson)?[3,5]:[4,e.LoadObject(null===(r=e.settingsWeb)||void 0===r?void 0:r.rootqjson,"")];case 4:return h=f.sent(),v=e.settingsWeb.settings.value.rootqjson,g={pjsonContent:h,pageName:v,storeItems:d},[3,9];case 5:return!(null===(o=e.settingsWeb)||void 0===o?void 0:o.settings.value.rootqjsonpath)||e.settingsWeb.rootqjson?[3,8]:[4,null===(i=this.SDKInstance)||void 0===i?void 0:i.qJsonRetriever.retrieveQJsonAsync(null===(s=e.settingsWeb)||void 0===s?void 0:s.settings.value.rootqjsonpath,{disableLoading:!0})];case 6:return b=f.sent(),y={format:"qjson",type:"js",value:b},[4,e.LoadObject(y,"")];case 7:return m=f.sent(),g={pjsonContent:m},[3,9];case 8:throw Error("please set following: PlateauUIOptions.rootqjson");case 9:return l.Render(g),null==(w=null===(a=this.SDKInstance)||void 0===a?void 0:a.getUXManager())||w.setTheme("default",null===(u=this.settingsWeb)||void 0===u?void 0:u.style),[2]}}))}))},e.prototype.setSDKConfig=function(){var e,t,n,r;return g(this,void 0,void 0,(function(){var o,i,s,a;return f(this,(function(u){return(null===(e=(o=this).settingsWeb)||void 0===e?void 0:e.componentList)&&(i=o.LoadObject(o.settingsWeb.componentList,"plateauUIComponentOptions","*",!1)),(null===(t=o.settingsWeb)||void 0===t?void 0:t.globalLocalization)&&(s=o.LoadObject(null===(n=o.settingsWeb)||void 0===n?void 0:n.globalLocalization,"","*",!1),o.LoadQjson(null===(r=o.settingsWeb)||void 0===r?void 0:r.globalLocalization)),a={},[2,Promise.all([i,s]).then((function(e){var t,n,r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),i=r[0],s=r[1];return i&&(a.SiteSettings={compSettings:i}),s&&(a.GlobalLRDict=s.clrids),(null===(t=o.SDKSettings)||void 0===t?void 0:t.rootLangCode)&&(a.LRType=null===(n=o.SDKSettings)||void 0===n?void 0:n.rootLangCode),a}))]}))}))},e.prototype.setSettingsQJsons=function(e){var t,n,r,o,i,s,a,u,l=e.renderer;return g(this,void 0,void 0,(function(){var e,c,d,g,p,h,v,b;return f(this,(function(f){switch(f.label){case 0:return c=null===(t=(e=this).settingsWeb)||void 0===t?void 0:t.settings.value.pipelineqjson,d=null===(n=e.settingsWeb)||void 0===n?void 0:n.settings.value.alertqjson,g=null===(r=e.settingsWeb)||void 0===r?void 0:r.settings.value.loadingqjson,(p=(null===(o=e.settingsWeb)||void 0===o?void 0:o.pipeline)||{type:"path",value:(null==c?void 0:c.startsWith("/"))?c.substring(1):c,format:"qjson"})&&p.value?[4,e.LoadObject(p,"","*",!1)]:[3,5];case 1:if(!(b=f.sent()))return[3,5];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,l.settingsQJsons.SetPipelineQjson(b)];case 3:case 4:return f.sent(),[3,5];case 5:return(h=(null===(i=e.settingsWeb)||void 0===i?void 0:i.alert)||{type:"path",value:(null==d?void 0:d.startsWith("/"))?d.substring(1):d,format:"qjson"})&&h.value?[4,e.LoadObject(h,"","*",!1)]:[3,10];case 6:if(!(b=f.sent()))return[3,10];f.label=7;case 7:return f.trys.push([7,9,,10]),[4,l.settingsQJsons.SetAlertQjson(b)];case 8:case 9:return f.sent(),[3,10];case 10:return(v=(null===(s=e.settingsWeb)||void 0===s?void 0:s.loading)||{type:"path",value:(null==g?void 0:g.startsWith("/"))?g.substring(1):g,format:"qjson"})&&v.value?[4,e.LoadObject(v,"","*",!1)]:[3,15];case 11:if(!(b=f.sent()))return[3,15];f.label=12;case 12:return f.trys.push([12,14,,15]),[4,l.settingsQJsons.SetLoadingQjson(b)];case 13:case 14:return f.sent(),[3,15];case 15:return(null===(a=e.SDKSettings)||void 0===a?void 0:a.domainModuleList)?[4,null===(u=e.SDKInstance)||void 0===u?void 0:u.LoadModuleCompLists(e.SDKSettings.domainModuleList).catch((function(e){console.log(e)}))]:[3,17];case 16:f.sent(),f.label=17;case 17:return[2]}}))}))},e.prototype.LoadObject=function(e,t,r,o){return void 0===o&&(o=!0),g(this,void 0,void 0,(function(){var i;return f(this,(function(s){switch(s.label){case 0:return i=this,e?"qjson"!=e.format?[3,2]:[4,i.LoadQjson(e)]:[2];case 1:case 3:case 5:return[2,s.sent()];case 2:if("lottie"==e.format)throw new Error("Not implemented");return"path"!=e.type?[3,4]:[4,i.LoadJS(e.value,t,r,o)];case 4:return"object"==e.type?[2,e.value]:"js"!=e.type?[3,6]:[4,(0,n.importModuleBody)(e.value,(function(){}),r)];case 6:return[2]}}))}))},e.prototype.LoadJS=function(e,t,r,o){return void 0===o&&(o=!0),g(this,void 0,void 0,(function(){var i;return f(this,(function(s){switch(s.label){case 0:s.label=1;case 1:return s.trys.push([1,6,,7]),this.PlateauUIOptions.corsEnabled&&"string"==typeof e?[4,(0,n.importScript)(e,t,r)]:[3,3];case 2:return[2,s.sent()];case 3:return i="string"==typeof e?e:new Request(e.url,{method:"GET",body:JSON.stringify(e.body),headers:e.headers}),[4,(0,n.importModule)(i,(function(){}),r)];case 4:return[2,s.sent()];case 5:return[3,7];case 6:if(s.sent(),!o)return[2,void 0];throw new Error("couldn't load "+JSON.stringify(e));case 7:return[2]}}))}))},e.prototype.LoadQjson=function(e){return g(this,void 0,void 0,(function(){var n,o,i;return f(this,(function(a){switch(a.label){case 0:return n="","path"!=e.type?[3,2]:(o=t.D.fixLegacyPathFormat(e.value),[4,s.E.FetchModuleBody(o)]);case 1:n=a.sent().body,a.label=2;case 2:if("js"==e.type&&(n=e.value),!n)return[2,void 0];if(!(i=r.E.qJsonExtractor(n)))throw new Error("qJsonExtracted is undefined");return[2,i]}}))}))},e.prototype.configureLivePreview=function(e){return g(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(o){switch(o.label){case 0:return(null==e?void 0:e.disableLP)||top==window?[2]:(t=this,[4,(n=new c(parent)).isItLivePreview()]);case 1:return o.sent()?(t.lpManager=n,[4,n.getLivePreviewSettings()]):[2];case 2:return(r=o.sent())?(r.serviceWorker&&t.registerServiceWorker(r.serviceWorkerScope),[2,r]):[2]}}))}))},e.prototype.registerServiceWorker=function(e){return g(this,void 0,void 0,(function(){var t,n,r,o;return f(this,(function(i){switch(i.label){case 0:if(t=this,!("serviceWorker"in navigator))return[3,4];n=e?e+"qui-lp/":"/qui-lp/",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,navigator.serviceWorker.register("./sw.js",{scope:n})];case 2:return(r=i.sent()).installing?console.log("Service worker installing"):r.waiting?console.log("Service worker installed"):r.active&&console.log("Service worker activated"),[3,4];case 3:return o=i.sent(),console.error("Registration failed with "+o),[3,4];case 4:return navigator.serviceWorker.onmessage=function(e){var n=e.data;t.onSWMessage(n)},[2]}}))}))},e.prototype.onSWMessage=function(e){return g(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return[4,(t=this).lpManager.sendSwMessage(e)];case 1:return n=r.sent(),t.sendMessage(n),[2]}}))}))},e.prototype.sendMessage=function(e){setTimeout((function(){var t;null===(t=navigator.serviceWorker.controller)||void 0===t||t.postMessage(e)}),1e3)},e}();function v(t,n){return g(this,void 0,void 0,(function(){return f(this,(function(r){switch(r.label){case 0:return e?[2]:[4,(e=new h).init({PlateauUIOptions:t,environmentInfo:n})];case 1:return r.sent(),[2,e]}}))}))}function b(t){var n=t.mountPoint;if(!e)throw"websdk initiation went wrong.";return e.createRenderer({mountPoint:n})}})(),i})()));