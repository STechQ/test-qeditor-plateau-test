"use strict";exports.id=1597,exports.ids=[1597],exports.modules={80902:(e,t,n)=>{n.d(t,{H:()=>o});let i=!1;const o=e=>{e&&!i&&parseInt(e.substring(1,e.indexOf(".")))<16&&(i=!0,process.emitWarning("NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will\nno longer support Node.js 14.x on May 1, 2024.\n\nTo continue receiving updates to AWS services, bug fixes, and security\nupdates please upgrade to an active Node.js LTS version.\n\nMore information can be found at: https://a.co/dzr2AJd"))}},32769:(e,t,n)=>{n.d(t,{V:()=>c});var i=n(43506);const o=e=>new Date(Date.now()+e),s=e=>i.Zn.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,r=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(o(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},a=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t};class c{async sign(e,t,n){if(!i.aW.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:s,signer:r,signingRegion:c,signingName:d}=await(async e=>{const t=a("context",e.context),n=a("config",e.config),i=t.endpointV2?.properties?.authSchemes?.[0],o=a("signer",n.signer),s=await o(i),r=e?.signingRegion,c=e?.signingName;return{config:n,signer:s,signingRegion:r,signingName:c}})(n);return await r.sign(e,{signingDate:o(s.systemClockOffset),signingRegion:c,signingService:d})}errorHandler(e){return t=>{const n=t.ServerTime??s(t.$response);if(n){const i=a("config",e.config),o=i.systemClockOffset;i.systemClockOffset=r(n,i.systemClockOffset),i.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){const n=s(e);if(n){const e=a("config",t.config);e.systemClockOffset=r(n,e.systemClockOffset)}}}},57681:(e,t,n)=>{n.d(t,{K:()=>s});var i=n(52761),o=n(17203);const s=e=>{let t;e.credentials&&(t=(0,i.CU)(e.credentials,i.BP,i.zV)),t||(t=e.credentialDefaultProvider?(0,i.$E)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:n=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:r}=e;let a;return a=e.signer?(0,i.$E)(e.signer):e.regionInfoProvider?()=>(0,i.$E)(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([i,s])=>{const{signingRegion:a,signingService:c}=i;e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||c||e.serviceId;const d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:n};return new(e.signerConstructor||o.L1)(d)}):async s=>{const a=(s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,i.$E)(e.region)(),properties:{}},s)).signingRegion,c=s.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;const d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:n};return new(e.signerConstructor||o.L1)(d)},{...e,systemClockOffset:s,signingEscapePath:n,credentials:t,signer:a}}},58320:(e,t,n)=>{n.r(t),n.d(t,{credentialsTreatedAsExpired:()=>a,credentialsWillNeedRefresh:()=>r,defaultProvider:()=>s});var i=n(20742),o=n(43340);const s=(e={})=>(0,i.HP)((0,i.tS)(...e.profile||process.env[o.TH]?[]:[async()=>{e.logger?.debug("@aws-sdk/credential-provider-node","defaultProvider::fromEnv");const{fromEnv:t}=await n.e(1453).then(n.bind(n,1453));return t(e)()}],async()=>{e.logger?.debug("@aws-sdk/credential-provider-node","defaultProvider::fromSSO");const{ssoStartUrl:t,ssoAccountId:o,ssoRegion:s,ssoRoleName:r,ssoSession:a}=e;if(!(t||o||s||r||a))throw new i.mV("Skipping SSO provider in default chain (inputs do not include SSO fields).");const{fromSSO:c}=await n.e(3500).then(n.bind(n,33500));return c(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node","defaultProvider::fromIni");const{fromIni:t}=await n.e(7861).then(n.bind(n,77861));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node","defaultProvider::fromProcess");const{fromProcess:t}=await n.e(7865).then(n.bind(n,77865));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node","defaultProvider::fromTokenFile");const{fromTokenFile:t}=await n.e(5607).then(n.bind(n,35607));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node","defaultProvider::remoteProvider"),(await(async e=>{const{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:s,fromInstanceMetadata:r}=await Promise.resolve().then(n.bind(n,97931));if(process.env[o]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node","remoteProvider::fromHttp/fromContainerMetadata");const{fromHttp:t}=await n.e(9519).then(n.bind(n,29519));return(0,i.tS)(t(e),s(e))}return process.env.AWS_EC2_METADATA_DISABLED?async()=>{throw new i.mV("EC2 Instance Metadata Service access disabled")}:(e.logger?.debug("@aws-sdk/credential-provider-node","remoteProvider::fromInstanceMetadata"),r(e))})(e))()),async()=>{throw new i.mV("Could not load credentials from any providers",!1)}),a,r),r=e=>void 0!==e?.expiration,a=e=>void 0!==e?.expiration&&e.expiration.getTime()-Date.now()<3e5},7517:(e,t,n)=>{n.d(t,{G2:()=>r,S8:()=>o});var i=n(43506);function o(e){return e}const s={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},r=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!i.aW.isInstance(n.request))return t(n);const{request:o}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let e=o.hostname;null!=o.port&&(e+=`:${o.port}`),o.headers.host=e}return t(n)})(e),s)}})},72691:(e,t,n)=>{n.d(t,{cV:()=>o});const i={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},o=e=>({applyToStack:e=>{e.add((e,t)=>async n=>{try{const i=await e(n),{clientName:o,commandName:s,logger:r,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:d}=a,u=c??t.inputFilterSensitiveLog,p=d??t.outputFilterSensitiveLog,{$metadata:l,...g}=i.output;return r?.info?.({clientName:o,commandName:s,input:u(n.input),output:p(g),metadata:l}),i}catch(e){const{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:r={}}=t,{overrideInputFilterSensitiveLog:a}=r,c=a??t.inputFilterSensitiveLog;throw s?.error?.({clientName:i,commandName:o,input:c(n.input),error:e,metadata:e.$metadata}),e}},i)}})},74582:(e,t,n)=>{n.d(t,{eV:()=>r});var i=n(43506);const o="X-Amzn-Trace-Id",s={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},r=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:s}=n;if(!i.aW.isInstance(s)||"node"!==e.runtime||s.headers.hasOwnProperty(o))return t(n);const r=process.env.AWS_LAMBDA_FUNCTION_NAME,a=process.env._X_AMZN_TRACE_ID,c=e=>"string"==typeof e&&e.length>0;return c(r)&&c(a)&&(s.headers[o]=a),t({...n,request:s})})(e),s)}})},37987:(e,t,n)=>{function i(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}n.d(t,{XJ:()=>m,er:()=>i});var o=n(77850);const s=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!s(t))return!1;return!0}return!(!(0,o.IA)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,o.dY)(e))};let r=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');const a={isVirtualHostableS3Bucket:s,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,i,o,s,r,...a]=t;return"arn"!==n||""===i||""===o||""===a[0]?null:{partition:i,service:o,region:s,accountId:r,resourceId:a[0].includes("/")?a[0].split("/"):a}},partition:e=>{const{partitions:t}=r;for(const n of t){const{regions:t,outputs:i}=n;for(const[n,o]of Object.entries(t))if(n===e)return{...i,...o}}for(const n of t){const{regionRegex:t,outputs:i}=n;if(new RegExp(t).test(e))return{...i}}const n=t.find(e=>"aws"===e.id);if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}}};o.DY.aws=a;var c=n(43506);const d="user-agent",u="x-amz-user-agent",p=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,l=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,g=e=>{const t=e[0].split("/").map(e=>e.replace(p,"-")).join("/"),n=e[1]?.replace(l,"-"),i=t.indexOf("/"),o=t.substring(0,i);let s=t.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,n].filter(e=>e&&e.length>0).reduce((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},"")},h={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},m=e=>({applyToStack:t=>{var n;t.add((n=e,(e,t)=>async i=>{const{request:o}=i;if(!c.aW.isInstance(o))return e(i);const{headers:s}=o,r=t?.userAgent?.map(g)||[],a=(await n.defaultUserAgentProvider()).map(g),p=n?.customUserAgent?.map(g)||[],l=[].concat([...a,...r,...p]).join(" "),h=[...a.filter(e=>e.startsWith("aws-sdk-")),...p].join(" ");return"browser"!==n.runtime?(h&&(s[u]=s[u]?`${s[d]} ${h}`:h),s[d]=l):s[u]=l,e({...i,request:o})}),h)}})},69849:(e,t,n)=>{n.d(t,{GW:()=>i,A1:()=>o});const i=e=>{let t=async()=>{if(void 0===e.region)throw new Error("Region is missing from runtimeConfig");const t=e.region;return"string"==typeof t?t:t()};return{setRegion(e){t=e},region:()=>t}},o=e=>({region:e.region()})},60188:(e,t,n)=>{n.d(t,{fV:()=>r});var i=n(91794),o=n(22037),s=n(77282);const r=({serviceId:e,clientVersion:t})=>{const n=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,o.platform)()}`,(0,o.release)()],["lang/js"],["md/nodejs",`${s.versions.node}`]];e&&n.push([`api/${e}`,t]),s.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${s.env.AWS_EXECUTION_ENV}`]);const r=(0,i.M)({environmentVariableSelector:e=>e.AWS_SDK_UA_APP_ID,configFileSelector:e=>e["sdk-ua-app-id"],default:void 0})();let a;return async()=>{if(!a){const e=await r;a=e?[...n,[`app/${e}`]]:[...n]}return a}}},43506:(e,t,n)=>{n.d(t,{aW:()=>s,Zn:()=>r,cA:()=>i,AO:()=>o});const i=e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,n){t.updateHttpClientConfig(e,n)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}},o=e=>({httpHandler:e.httpHandler()});n(71508);class s{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new s({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce((e,n)=>{const i=t[n];return{...e,[n]:Array.isArray(i)?[...i]:i}},{}))),e}}class r{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},91597:(e,t,n)=>{n.r(t),n.d(t,{CognitoIdentityClient:()=>oe,GetCredentialsForIdentityCommand:()=>Ge,GetIdCommand:()=>je});var i=n(7517),o=n(72691),s=n(74582),r=n(37987),a=n(52661),c=n(52761),d=n(32363),u=n(4767),p=n(421),l=n(19063),g=n(57681),h=n(76794);const m=async(e,t,n)=>({operation:(0,h.J)(t).operation,region:await(0,h.$)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),f=e=>{const t=[];switch(e.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},y={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var w=n(80902),v=n(58320),S=n(60188),E=n(16772),x=n(91794),b=n(99177),P=n(35647),I=n(70204),C=n(32769),A=n(15891),k=n(92840),O=n(3714),R=n(77850);const D="required",$="fn",F="argv",N="ref",U="isSet",M="booleanEquals",T="error",W="endpoint",z="tree",H="PartitionResult",_={[D]:!1,type:"String"},G={[D]:!0,default:!1,type:"Boolean"},j={[N]:"Endpoint"},q={[$]:M,[F]:[{[N]:"UseFIPS"},!0]},L={[$]:M,[F]:[{[N]:"UseDualStack"},!0]},V={},B={[$]:"getAttr",[F]:[{[N]:H},"supportsFIPS"]},K={[$]:M,[F]:[!0,{[$]:"getAttr",[F]:[{[N]:H},"supportsDualStack"]}]},J=[q],X=[L],Y=[{[N]:"Region"}],Z={version:"1.0",parameters:{Region:_,UseDualStack:G,UseFIPS:G,Endpoint:_},rules:[{conditions:[{[$]:U,[F]:[j]}],rules:[{conditions:J,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:T},{conditions:X,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:T},{endpoint:{url:j,properties:V,headers:V},type:W}],type:z},{conditions:[{[$]:U,[F]:Y}],rules:[{conditions:[{[$]:"aws.partition",[F]:Y,assign:H}],rules:[{conditions:[q,L],rules:[{conditions:[{[$]:M,[F]:[!0,B]},K],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:V,headers:V},type:W}],type:z},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:T}],type:z},{conditions:J,rules:[{conditions:[{[$]:M,[F]:[B,!0]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:V,headers:V},type:W}],type:z},{error:"FIPS is enabled but this partition does not support FIPS",type:T}],type:z},{conditions:X,rules:[{conditions:[K],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:V,headers:V},type:W}],type:z},{error:"DualStack is enabled but this partition does not support DualStack",type:T}],type:z},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:V,headers:V},type:W}],type:z}],type:z},{error:"Invalid Configuration: Missing Region",type:T}]},Q=(e,t={})=>(0,R.B1)(Z,{endpointParams:e,logger:t.logger});var ee=n(81712),te=n(69849),ne=n(43506);const ie=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){i=e},credentials:()=>i}};class oe extends l.KU{constructor(...[e]){const t=(e=>{(0,l.H_)(process.version);const t=(0,ee.j)(e),n=()=>t().then(l.jv),i=(e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??k.G,base64Encoder:e?.base64Encoder??k.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Q,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??f,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new C.V},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.oH}],logger:e?.logger??new l.vk,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??A.e,utf8Decoder:e?.utf8Decoder??O.$x,utf8Encoder:e?.utf8Encoder??O.GZ}))(e);return(0,w.H)(process.version),{...i,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??P.W,credentialDefaultProvider:e?.credentialDefaultProvider??v.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,S.fV)({serviceId:i.serviceId,clientVersion:"3.523.0"}),maxAttempts:e?.maxAttempts??(0,x.M)(p.Hs),region:e?.region??(0,x.M)(a._c,a.zb),requestHandler:b.NA.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,x.M)({...p.aK,default:async()=>(await n()).retryMode||I.CA}),sha256:e?.sha256??E.k.bind(null,"sha256"),streamCollector:e?.streamCollector??b.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,x.M)(a.G7),useFipsEndpoint:e?.useFipsEndpoint??(0,x.M)(a.NL)}})(e||{}),n=(h=t,{...h,useDualstackEndpoint:h.useDualstackEndpoint??!1,useFipsEndpoint:h.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"});var h;const m=(0,a.Xb)(n),y=(0,u.uW)(m),R=(0,p.BC)(y),D=(0,i.S8)(R);var $;const F=((e,t)=>{const n={...(0,te.GW)(e),...(0,l.kE)(e),...(0,ne.cA)(e),...ie(e)};return t.forEach(e=>e.configure(n)),{...e,...(0,te.A1)(n),...(0,l.SQ)(n),...(0,ne.AO)(n),...(i=n,{httpAuthSchemes:i.httpAuthSchemes(),httpAuthSchemeProvider:i.httpAuthSchemeProvider(),credentials:i.credentials()})};var i})(($=(0,r.er)(D),{...(0,g.K)($)}),e?.extensions||[]);super(F),this.config=F,this.middlewareStack.use((0,p.NQ)(this.config)),this.middlewareStack.use((0,d.VG)(this.config)),this.middlewareStack.use((0,i.G2)(this.config)),this.middlewareStack.use((0,o.cV)(this.config)),this.middlewareStack.use((0,s.eV)(this.config)),this.middlewareStack.use((0,r.XJ)(this.config)),this.middlewareStack.use((0,c.tZ)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,c.aZ)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return m}getIdentityProviderConfigProvider(){return async e=>new c.K5({"aws.auth#sigv4":e.credentials})}}var se=n(69988);class re extends l.sI{constructor(e){super(e),Object.setPrototypeOf(this,re.prototype)}}class ae extends re{constructor(e){super({name:"InternalErrorException",$fault:"server",...e}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,ae.prototype)}}class ce extends re{constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,ce.prototype)}}class de extends re{constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,de.prototype)}}class ue extends re{constructor(e){super({name:"NotAuthorizedException",$fault:"client",...e}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,ue.prototype)}}class pe extends re{constructor(e){super({name:"ResourceConflictException",$fault:"client",...e}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,pe.prototype)}}class le extends re{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,le.prototype)}}class ge extends re{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ge.prototype)}}class he extends re{constructor(e){super({name:"ExternalServiceException",$fault:"client",...e}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,he.prototype)}}class me extends re{constructor(e){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...e}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,me.prototype)}}class fe extends re{constructor(e){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...e}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,fe.prototype)}}class ye extends re{constructor(e){super({name:"ConcurrentModificationException",$fault:"client",...e}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,ye.prototype)}}const we=async(e,t)=>{const n=We("GetCredentialsForIdentity");let i;return i=JSON.stringify((0,l.F3)(e)),Te(t,n,"/",void 0,i)},ve=async(e,t)=>{const n=We("GetId");let i;return i=JSON.stringify((0,l.F3)(e)),Te(t,n,"/",void 0,i)},Se=async(e,t)=>{if(e.statusCode>=300)return xe(e,t);const n=await ze(e.body,t);let i={};return i=Ne(n,t),{$metadata:Ue(e),...i}},Ee=async(e,t)=>{if(e.statusCode>=300)return xe(e,t);const n=await ze(e.body,t);let i={};return i=(0,l.F3)(n),{$metadata:Ue(e),...i}},xe=async(e,t)=>{const n={...e,body:await He(e.body,t)},i=_e(e,n.body);switch(i){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await Ce(n,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ke(n,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Oe(n,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await Re(n,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await De(n,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Fe(n,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await $e(n,t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await Ie(n,t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await Ae(n,t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Pe(n,t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await be(n,t);default:const o=n.body;return Me({output:e,parsedBody:o,errorCode:i})}},be=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new ye({$metadata:Ue(e),...i});return(0,l.to)(o,n)},Pe=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new fe({$metadata:Ue(e),...i});return(0,l.to)(o,n)},Ie=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new he({$metadata:Ue(e),...i});return(0,l.to)(o,n)},Ce=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new ae({$metadata:Ue(e),...i});return(0,l.to)(o,n)},Ae=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new me({$metadata:Ue(e),...i});return(0,l.to)(o,n)},ke=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new ce({$metadata:Ue(e),...i});return(0,l.to)(o,n)},Oe=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new de({$metadata:Ue(e),...i});return(0,l.to)(o,n)},Re=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new ue({$metadata:Ue(e),...i});return(0,l.to)(o,n)},De=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new pe({$metadata:Ue(e),...i});return(0,l.to)(o,n)},$e=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new ge({$metadata:Ue(e),...i});return(0,l.to)(o,n)},Fe=async(e,t)=>{const n=e.body,i=(0,l.F3)(n),o=new le({$metadata:Ue(e),...i});return(0,l.to)(o,n)},Ne=(e,t)=>(0,l.qn)(e,{Credentials:e=>(e=>(0,l.qn)(e,{AccessKeyId:l.pY,Expiration:e=>(0,l.CE)((0,l.KX)((0,l.Fx)(e))),SecretKey:l.pY,SessionToken:l.pY}))(e),IdentityId:l.pY}),Ue=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Me=(0,l.PC)(re),Te=async(e,t,n,i,o)=>{const{hostname:s,protocol:r="https",port:a,path:c}=await e.endpoint(),d={protocol:r,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==i&&(d.hostname=i),void 0!==o&&(d.body=o),new ne.aW(d)};function We(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}const ze=(e,t)=>((e,t)=>(0,l.Wg)(e,t).then(e=>t.utf8Encoder(e)))(e,t).then(e=>e.length?JSON.parse(e):{}),He=async(e,t)=>{const n=await ze(e,t);return n.message=n.message??n.Message,n},_e=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(o=e.headers,Object.keys(o).find(e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase()));var o;return void 0!==i?n(e.headers[i]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Ge extends(l.mY.classBuilder().ep({...y}).m(function(e,t,n,i){return[(0,se.p2)(n,this.serialize,this.deserialize),(0,u.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(void 0,void 0).ser(we).de(Se).build()){}class je extends(l.mY.classBuilder().ep({...y}).m(function(e,t,n,i){return[(0,se.p2)(n,this.serialize,this.deserialize),(0,u.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(void 0,void 0).ser(ve).de(Ee).build()){}}};