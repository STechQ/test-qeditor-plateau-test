!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.flowcomponent=n():e.flowcomponent=n()}(this,(()=>(()=>{"use strict";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o=e=>{var n;const o=e.state.values;if(o.entries){if(!e.entryInfo.connections)throw new Error("encountered wait without any connections in restored state");const n=o.entries,t=e.entryInfo.connections.reduce(((e,o)=>(e[o.ID]=n[o.ID],e)),{});!function(e,n,o,t){for(const r in e)r in n||o.log({level:"debug",logCode:"FW-01",message:`input connections of step: ${t} was removed: ${r}`});for(const r in n)r in e||o.log({level:"debug",logCode:"FW-02",message:`input connections of step: ${t} was addded: ${r}`})}(n,t,e.flow.logger,e.entryInfo.stepID),o.entries=t}else{if(!e.entryInfo.connections)throw new Error("encountered wait without any connections in initial state");o.entries=e.entryInfo.connections.reduce(((e,n)=>(e[n.ID]=void 0,e)),{})}if(!e.entryInfo.connection)throw new Error("encountered wait without entry connection");if(o.entries[e.entryInfo.connection.ID]=!0,!Object.keys(o.entries).find((e=>1!=o.entries[e])))return null===(n=e.flow.getWFE())||void 0===n||n.system.gracefulEnd(),void e.flow.stop();e.state.clear(),e.flow.next()};return n})()));