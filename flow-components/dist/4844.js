"use strict";exports.id=4844,exports.ids=[4844],exports.modules={34844:(e,t,n)=>{n.r(t),n.d(t,{$Command:()=>p.mY,AssumeRoleCommand:()=>en,AssumeRoleResponseFilterSensitiveLog:()=>Ae,AssumeRoleWithWebIdentityCommand:()=>tn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>ke,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Te,CredentialsFilterSensitiveLog:()=>be,ExpiredTokenException:()=>Ie,IDPCommunicationErrorException:()=>De,IDPRejectedClaimException:()=>xe,InvalidIdentityTokenException:()=>Re,MalformedPolicyDocumentException:()=>we,PackedPolicyTooLargeException:()=>ve,RegionDisabledException:()=>Ce,STS:()=>on,STSClient:()=>Se,STSServiceException:()=>Ee,__Client:()=>p.KU,decorateDefaultCredentialProvider:()=>mn,getDefaultRoleAssumer:()=>un,getDefaultRoleAssumerWithWebIdentity:()=>pn});var o=n(19542),s=n(8460),i=n(74089),r=n(85035),a=n(75344),c=n(61736),l=n(70214),d=n(27047),u=n(85466),p=n(5547),m=n(81023),h=n(36506);const g=async(e,t,n)=>({operation:(0,h.J)(t).operation,region:await(0,h.$)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),y=e=>{const t=[];return"AssumeRoleWithWebIdentity"===e.operation?t.push({schemeId:"smithy.api#noAuth"}):t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e)),t},f={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var S=n(26839),P=n(69798),E=n(396),b=n(4945),A=n(13730),I=n(69638),w=n(83115),v=n(29606),C=n(65919),x=n(80664),R=n(37765),k=n(13845),T=n(60783),D=n(51529);const $="required",O="type",W="fn",j="argv",K="ref",F=!0,U="booleanEquals",z="stringEquals",Y="sigv4",H="us-east-1",L="endpoint",M="https://sts.{Region}.{PartitionResult#dnsSuffix}",q="tree",_="error",G="getAttr",N={[$]:!1,[O]:"String"},V={[$]:!0,default:!1,[O]:"Boolean"},B={[K]:"Endpoint"},X={[W]:"isSet",[j]:[{[K]:"Region"}]},Z={[K]:"Region"},J={[W]:"aws.partition",[j]:[Z],assign:"PartitionResult"},Q={[K]:"UseFIPS"},ee={[K]:"UseDualStack"},te={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Y,signingName:"sts",signingRegion:H}]},headers:{}},ne={},oe={conditions:[{[W]:z,[j]:[Z,"aws-global"]}],[L]:te,[O]:L},se={[W]:U,[j]:[Q,!0]},ie={[W]:U,[j]:[ee,!0]},re={[W]:G,[j]:[{[K]:"PartitionResult"},"supportsFIPS"]},ae={[K]:"PartitionResult"},ce={[W]:U,[j]:[!0,{[W]:G,[j]:[ae,"supportsDualStack"]}]},le=[{[W]:"isSet",[j]:[B]}],de=[se],ue=[ie],pe={version:"1.0",parameters:{Region:N,UseDualStack:V,UseFIPS:V,Endpoint:N,UseGlobalEndpoint:V},rules:[{conditions:[{[W]:U,[j]:[{[K]:"UseGlobalEndpoint"},F]},{[W]:"not",[j]:le},X,J,{[W]:U,[j]:[Q,!1]},{[W]:U,[j]:[ee,!1]}],rules:[{conditions:[{[W]:z,[j]:[Z,"ap-northeast-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"ap-south-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"ap-southeast-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"ap-southeast-2"]}],endpoint:te,[O]:L},oe,{conditions:[{[W]:z,[j]:[Z,"ca-central-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"eu-central-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"eu-north-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"eu-west-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"eu-west-2"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"eu-west-3"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"sa-east-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,H]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"us-east-2"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"us-west-1"]}],endpoint:te,[O]:L},{conditions:[{[W]:z,[j]:[Z,"us-west-2"]}],endpoint:te,[O]:L},{endpoint:{url:M,properties:{authSchemes:[{name:Y,signingName:"sts",signingRegion:"{Region}"}]},headers:ne},[O]:L}],[O]:q},{conditions:le,rules:[{conditions:de,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[O]:_},{conditions:ue,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[O]:_},{endpoint:{url:B,properties:ne,headers:ne},[O]:L}],[O]:q},{conditions:[X],rules:[{conditions:[J],rules:[{conditions:[se,ie],rules:[{conditions:[{[W]:U,[j]:[F,re]},ce],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ne,headers:ne},[O]:L}],[O]:q},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[O]:_}],[O]:q},{conditions:de,rules:[{conditions:[{[W]:U,[j]:[re,F]}],rules:[{conditions:[{[W]:z,[j]:[{[W]:G,[j]:[ae,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ne,headers:ne},[O]:L},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ne,headers:ne},[O]:L}],[O]:q},{error:"FIPS is enabled but this partition does not support FIPS",[O]:_}],[O]:q},{conditions:ue,rules:[{conditions:[ce],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ne,headers:ne},[O]:L}],[O]:q},{error:"DualStack is enabled but this partition does not support DualStack",[O]:_}],[O]:q},oe,{endpoint:{url:M,properties:ne,headers:ne},[O]:L}],[O]:q}],[O]:q},{error:"Invalid Configuration: Missing Region",[O]:_}]},me=new D.$X({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),he=(e,t={})=>me.get(e,()=>(0,D.B1)(pe,{endpointParams:e,logger:t.logger}));D.DY.aws=T.Iu;var ge=n(60925),ye=n(12047),fe=n(13585);class Se extends p.KU{config;constructor(...[e]){const t=(e=>{(0,p.H_)(process.version);const t=(0,ge.j)(e),n=()=>t().then(p.jv),o=(e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??R.G,base64Encoder:e?.base64Encoder??R.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??he,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??y,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new E.VR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.oH}],logger:e?.logger??new p.vk,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??x.e,utf8Decoder:e?.utf8Decoder??k.$x,utf8Encoder:e?.utf8Encoder??k.GZ}))(e);(0,P.H)(process.version);const s={profile:e?.profile};return{...o,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??v.W,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,b.kk)({serviceId:o.serviceId,clientVersion:S.i8}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4")||(async t=>await e.credentialDefaultProvider(t?.__config||{})()),signer:new E.VR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.oH}],maxAttempts:e?.maxAttempts??(0,I.M)(u.Hs,e),region:e?.region??(0,I.M)(a._c,{...a.zb,...s}),requestHandler:w.NA.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,I.M)({...u.aK,default:async()=>(await n()).retryMode||C.CA},e),sha256:e?.sha256??A.k.bind(null,"sha256"),streamCollector:e?.streamCollector??w.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,I.M)(a.G7,s),useFipsEndpoint:e?.useFipsEndpoint??(0,I.M)(a.NL,s),userAgentAppId:e?.userAgentAppId??(0,I.M)(b.eX,s)}})(e||{});super(t),this.initConfig=t;const n=(h=t,Object.assign(h,{useDualstackEndpoint:h.useDualstackEndpoint??!1,useFipsEndpoint:h.useFipsEndpoint??!1,useGlobalEndpoint:h.useGlobalEndpoint??!1,defaultSigningName:"sts"}));var h;const f=(0,r.er)(n),T=(0,u.BC)(f),D=(0,a.Xb)(T),$=(0,o.S8)(D),O=((e,t)=>{const n=Object.assign((0,ye.GW)(e),(0,p.kE)(e),(0,fe.cA)(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){o=e},credentials:()=>o}})(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,ye.A1)(n),(0,p.SQ)(n),(0,fe.AO)(n),{httpAuthSchemes:(o=n).httpAuthSchemes(),httpAuthSchemeProvider:o.httpAuthSchemeProvider(),credentials:o.credentials()});var o})((e=>{const t=(n=e,Object.assign(n,{stsClientCtor:Se}));var n;const o=(0,m.K)(t);return Object.assign(o,{})})((0,d.uW)($)),e?.extensions||[]);this.config=O,this.middlewareStack.use((0,r.XJ)(this.config)),this.middlewareStack.use((0,u.NQ)(this.config)),this.middlewareStack.use((0,l.VG)(this.config)),this.middlewareStack.use((0,o.G2)(this.config)),this.middlewareStack.use((0,s.cV)(this.config)),this.middlewareStack.use((0,i.eV)(this.config)),this.middlewareStack.use((0,c.tZ)(this.config,{httpAuthSchemeParametersProvider:g,identityProviderConfigProvider:async e=>new c.K5({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,c.aZ)(this.config))}destroy(){super.destroy()}}var Pe=n(43695);class Ee extends p.sI{constructor(e){super(e),Object.setPrototypeOf(this,Ee.prototype)}}const be=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:p.oc}}),Ae=e=>({...e,...e.Credentials&&{Credentials:be(e.Credentials)}});class Ie extends Ee{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,Ie.prototype)}}class we extends Ee{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,we.prototype)}}class ve extends Ee{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,ve.prototype)}}class Ce extends Ee{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,Ce.prototype)}}class xe extends Ee{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,xe.prototype)}}class Re extends Ee{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,Re.prototype)}}const ke=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:p.oc}}),Te=e=>({...e,...e.Credentials&&{Credentials:be(e.Credentials)}});class De extends Ee{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,De.prototype)}}var $e=n(61958);const Oe=async(e,t)=>{const n=ht;let o;return o=Jt({..._e(e,t),[yt]:St,[Nt]:gt}),mt(t,n,"/",void 0,o)},We=async(e,t)=>{const n=ht;let o;return o=Jt({...Ge(e,t),[yt]:bt,[Nt]:gt}),mt(t,n,"/",void 0,o)},je=async(e,t)=>{if(e.statusCode>=300)return Fe(e,t);const n=await(0,$e.he)(e.body,t);let o={};return o=tt(n.AssumeRoleResult,t),{$metadata:ut(e),...o}},Ke=async(e,t)=>{if(e.statusCode>=300)return Fe(e,t);const n=await(0,$e.he)(e.body,t);let o={};return o=nt(n.AssumeRoleWithWebIdentityResult,t),{$metadata:ut(e),...o}},Fe=async(e,t)=>{const n={...e,body:await(0,$e.OH)(e.body,t)},o=Qt(e,n.body);switch(o){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Ue(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Le(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Me(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await qe(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await ze(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Ye(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await He(n,t);default:const s=n.body;return pt({output:e,parsedBody:s.Error,errorCode:o})}},Ue=async(e,t)=>{const n=e.body,o=st(n.Error,t),s=new Ie({$metadata:ut(e),...o});return(0,p.to)(s,n)},ze=async(e,t)=>{const n=e.body,o=it(n.Error,t),s=new De({$metadata:ut(e),...o});return(0,p.to)(s,n)},Ye=async(e,t)=>{const n=e.body,o=rt(n.Error,t),s=new xe({$metadata:ut(e),...o});return(0,p.to)(s,n)},He=async(e,t)=>{const n=e.body,o=at(n.Error,t),s=new Re({$metadata:ut(e),...o});return(0,p.to)(s,n)},Le=async(e,t)=>{const n=e.body,o=ct(n.Error,t),s=new we({$metadata:ut(e),...o});return(0,p.to)(s,n)},Me=async(e,t)=>{const n=e.body,o=lt(n.Error,t),s=new ve({$metadata:ut(e),...o});return(0,p.to)(s,n)},qe=async(e,t)=>{const n=e.body,o=dt(n.Error,t),s=new Ce({$metadata:ut(e),...o});return(0,p.to)(s,n)},_e=(e,t)=>{const n={};if(null!=e[Ft]&&(n[Ft]=e[Ft]),null!=e[Ut]&&(n[Ut]=e[Ut]),null!=e[Dt]){const o=Ne(e[Dt],t);0===e[Dt]?.length&&(n.PolicyArns=[]),Object.entries(o).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[Tt]&&(n[Tt]=e[Tt]),null!=e[Ct]&&(n[Ct]=e[Ct]),null!=e[qt]){const o=Qe(e[qt],t);0===e[qt]?.length&&(n.Tags=[]),Object.entries(o).forEach(([e,t])=>{n[`Tags.${e}`]=t})}if(null!=e[Gt]){const o=Je(e[Gt],t);0===e[Gt]?.length&&(n.TransitiveTagKeys=[]),Object.entries(o).forEach(([e,t])=>{n[`TransitiveTagKeys.${e}`]=t})}if(null!=e[Rt]&&(n[Rt]=e[Rt]),null!=e[Lt]&&(n[Lt]=e[Lt]),null!=e[_t]&&(n[_t]=e[_t]),null!=e[Ht]&&(n[Ht]=e[Ht]),null!=e[Ot]){const o=Xe(e[Ot],t);0===e[Ot]?.length&&(n.ProvidedContexts=[]),Object.entries(o).forEach(([e,t])=>{n[`ProvidedContexts.${e}`]=t})}return n},Ge=(e,t)=>{const n={};if(null!=e[Ft]&&(n[Ft]=e[Ft]),null!=e[Ut]&&(n[Ut]=e[Ut]),null!=e[Bt]&&(n[Bt]=e[Bt]),null!=e[Wt]&&(n[Wt]=e[Wt]),null!=e[Dt]){const o=Ne(e[Dt],t);0===e[Dt]?.length&&(n.PolicyArns=[]),Object.entries(o).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}return null!=e[Tt]&&(n[Tt]=e[Tt]),null!=e[Ct]&&(n[Ct]=e[Ct]),n},Ne=(e,t)=>{const n={};let o=1;for(const s of e){if(null===s)continue;const e=Ve(s,t);Object.entries(e).forEach(([e,t])=>{n[`member.${o}.${e}`]=t}),o++}return n},Ve=(e,t)=>{const n={};return null!=e[Xt]&&(n[Xt]=e[Xt]),n},Be=(e,t)=>{const n={};return null!=e[$t]&&(n[$t]=e[$t]),null!=e[vt]&&(n[vt]=e[vt]),n},Xe=(e,t)=>{const n={};let o=1;for(const t of e){if(null===t)continue;const e=Be(t);Object.entries(e).forEach(([e,t])=>{n[`member.${o}.${e}`]=t}),o++}return n},Ze=(e,t)=>{const n={};return null!=e[kt]&&(n[kt]=e[kt]),null!=e[Vt]&&(n[Vt]=e[Vt]),n},Je=(e,t)=>{const n={};let o=1;for(const t of e)null!==t&&(n[`member.${o}`]=t,o++);return n},Qe=(e,t)=>{const n={};let o=1;for(const t of e){if(null===t)continue;const e=Ze(t);Object.entries(e).forEach(([e,t])=>{n[`member.${o}.${e}`]=t}),o++}return n},et=(e,t)=>{const n={};return null!=e[Pt]&&(n[Pt]=(0,p.pY)(e[Pt])),null!=e[At]&&(n[At]=(0,p.pY)(e[At])),n},tt=(e,t)=>{const n={};return null!=e[wt]&&(n[wt]=ot(e[wt],t)),null!=e[Et]&&(n[Et]=et(e[Et])),null!=e[jt]&&(n[jt]=(0,p.AF)(e[jt])),null!=e[Ht]&&(n[Ht]=(0,p.pY)(e[Ht])),n},nt=(e,t)=>{const n={};return null!=e[wt]&&(n[wt]=ot(e[wt],t)),null!=e[Yt]&&(n[Yt]=(0,p.pY)(e[Yt])),null!=e[Et]&&(n[Et]=et(e[Et])),null!=e[jt]&&(n[jt]=(0,p.AF)(e[jt])),null!=e[Kt]&&(n[Kt]=(0,p.pY)(e[Kt])),null!=e[It]&&(n[It]=(0,p.pY)(e[It])),null!=e[Ht]&&(n[Ht]=(0,p.pY)(e[Ht])),n},ot=(e,t)=>{const n={};return null!=e[ft]&&(n[ft]=(0,p.pY)(e[ft])),null!=e[zt]&&(n[zt]=(0,p.pY)(e[zt])),null!=e[Mt]&&(n[Mt]=(0,p.pY)(e[Mt])),null!=e[xt]&&(n[xt]=(0,p.CE)((0,p.aH)(e[xt]))),n},st=(e,t)=>{const n={};return null!=e[Zt]&&(n[Zt]=(0,p.pY)(e[Zt])),n},it=(e,t)=>{const n={};return null!=e[Zt]&&(n[Zt]=(0,p.pY)(e[Zt])),n},rt=(e,t)=>{const n={};return null!=e[Zt]&&(n[Zt]=(0,p.pY)(e[Zt])),n},at=(e,t)=>{const n={};return null!=e[Zt]&&(n[Zt]=(0,p.pY)(e[Zt])),n},ct=(e,t)=>{const n={};return null!=e[Zt]&&(n[Zt]=(0,p.pY)(e[Zt])),n},lt=(e,t)=>{const n={};return null!=e[Zt]&&(n[Zt]=(0,p.pY)(e[Zt])),n},dt=(e,t)=>{const n={};return null!=e[Zt]&&(n[Zt]=(0,p.pY)(e[Zt])),n},ut=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),pt=(0,p.PC)(Ee),mt=async(e,t,n,o,s)=>{const{hostname:i,protocol:r="https",port:a,path:c}=await e.endpoint(),l={protocol:r,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==o&&(l.hostname=o),void 0!==s&&(l.body=s),new fe.aW(l)},ht={"content-type":"application/x-www-form-urlencoded"},gt="2011-06-15",yt="Action",ft="AccessKeyId",St="AssumeRole",Pt="AssumedRoleId",Et="AssumedRoleUser",bt="AssumeRoleWithWebIdentity",At="Arn",It="Audience",wt="Credentials",vt="ContextAssertion",Ct="DurationSeconds",xt="Expiration",Rt="ExternalId",kt="Key",Tt="Policy",Dt="PolicyArns",$t="ProviderArn",Ot="ProvidedContexts",Wt="ProviderId",jt="PackedPolicySize",Kt="Provider",Ft="RoleArn",Ut="RoleSessionName",zt="SecretAccessKey",Yt="SubjectFromWebIdentityToken",Ht="SourceIdentity",Lt="SerialNumber",Mt="SessionToken",qt="Tags",_t="TokenCode",Gt="TransitiveTagKeys",Nt="Version",Vt="Value",Bt="WebIdentityToken",Xt="arn",Zt="message",Jt=e=>Object.entries(e).map(([e,t])=>(0,p.jc)(e)+"="+(0,p.jc)(t)).join("&"),Qt=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class en extends(p.mY.classBuilder().ep(f).m(function(e,t,n,o){return[(0,Pe.p2)(n,this.serialize,this.deserialize),(0,d.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Ae).ser(Oe).de(je).build()){}class tn extends(p.mY.classBuilder().ep(f).m(function(e,t,n,o){return[(0,Pe.p2)(n,this.serialize,this.deserialize),(0,d.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(ke,Te).ser(We).de(Ke).build()){}const nn={AssumeRoleCommand:en,AssumeRoleWithWebIdentityCommand:tn};class on extends Se{}(0,p.TW)(nn,on);var sn=n(10174);const rn="us-east-1",an=e=>{if("string"==typeof e?.Arn){const t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},cn=async(e,t,n)=>{const o="function"==typeof e?await e():e,s="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${s} (parent client)`,`${rn} (STS default)`),o??s??rn},ln=e=>"h2"===e?.metadata?.handlerProtocol,dn=(e,t)=>t?class extends e{constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,un=(e={},t)=>((e,t)=>{let n,o;return async(s,i)=>{if(o=s,!n){const{logger:s=e?.parentClientConfig?.logger,region:i,requestHandler:r=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,c=await cn(i,e?.parentClientConfig?.region,a),l=!ln(r);n=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>o,region:c,requestHandler:l?r:void 0,logger:s})}const{Credentials:r,AssumedRoleUser:a}=await n.send(new en(i));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);const c=an(a),l={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,...r.CredentialScope&&{credentialScope:r.CredentialScope},...c&&{accountId:c}};return(0,sn.P)(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}})(e,dn(Se,t)),pn=(e={},t)=>((e,t)=>{let n;return async o=>{if(!n){const{logger:o=e?.parentClientConfig?.logger,region:s,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:r}=e,a=await cn(s,e?.parentClientConfig?.region,r),c=!ln(i);n=new t({profile:e?.parentClientConfig?.profile,region:a,requestHandler:c?i:void 0,logger:o})}const{Credentials:s,AssumedRoleUser:i}=await n.send(new tn(o));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${o.RoleArn}`);const r=an(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...r&&{accountId:r}};return r&&(0,sn.P)(a,"RESOLVED_ACCOUNT_ID","T"),(0,sn.P)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}})(e,dn(Se,t)),mn=e=>t=>e({roleAssumer:un(t),roleAssumerWithWebIdentity:pn(t),...t})}};