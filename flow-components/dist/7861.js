"use strict";exports.id=7861,exports.ids=[7861],exports.modules={77861:(e,n,o)=>{o.r(n),o.d(n,{fromIni:()=>l});var r=o(43340),t=o(20742);const s=e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,i=(e,n)=>(n?.logger?.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})),a=async(e,n,l,d={})=>{const c=n[e];if(Object.keys(d).length>0&&s(c))return i(c,l);if(f=c,Boolean(f)&&"object"==typeof f&&"string"==typeof f.role_arn&&["undefined","string"].indexOf(typeof f.role_session_name)>-1&&["undefined","string"].indexOf(typeof f.external_id)>-1&&["undefined","string"].indexOf(typeof f.mfa_serial)>-1&&((e=>"string"==typeof e.source_profile&&void 0===e.credential_source)(f)||(e=>"string"==typeof e.credential_source&&void 0===e.source_profile)(f)))return(async(e,n,s,i={})=>{s.logger?.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");const l=n[e];if(!s.roleAssumer){const{getDefaultRoleAssumer:e}=await Promise.all([o.e(3180),o.e(4281)]).then(o.bind(o,94281));s.roleAssumer=e({...s.clientConfig,credentialProviderLogger:s.logger,parentClientConfig:s?.parentClientConfig},s.clientPlugins)}const{source_profile:d}=l;if(d&&d in i)throw new t.mV(`Detected a cycle attempting to resolve credentials for profile ${(0,r.Jl)(s)}. Profiles visited: `+Object.keys(i).join(", "),!1);const c=d?a(d,n,s,{...i,[d]:!0}):(await((e,n)=>{const r={EcsContainer:e=>Promise.resolve().then(o.bind(o,97931)).then((({fromContainerMetadata:n})=>n(e))),Ec2InstanceMetadata:e=>Promise.resolve().then(o.bind(o,97931)).then((({fromInstanceMetadata:n})=>n(e))),Environment:e=>o.e(1453).then(o.bind(o,1453)).then((({fromEnv:n})=>n(e)))};if(e in r)return r[e];throw new t.mV(`Unsupported credential source in profile ${n}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)})(l.credential_source,e)(s))(),f={RoleArn:l.role_arn,RoleSessionName:l.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:l.external_id,DurationSeconds:parseInt(l.duration_seconds||"3600",10)},{mfa_serial:_}=l;if(_){if(!s.mfaCodeProvider)throw new t.mV(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);f.SerialNumber=_,f.TokenCode=await s.mfaCodeProvider(_)}const g=await c;return s.roleAssumer(g,f)})(e,n,l,d);var f;if(s(c))return i(c,l);if((e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.web_identity_token_file&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1)(c))return(async(e,n)=>o.e(5607).then(o.bind(o,35607)).then((({fromTokenFile:o})=>o({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:n.roleAssumerWithWebIdentity,logger:n.logger,parentClientConfig:n.parentClientConfig})())))(c,l);if((e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.credential_process)(c))return(async(e,n)=>o.e(7865).then(o.bind(o,77865)).then((({fromProcess:o})=>o({...e,profile:n})())))(l,e);if((e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name))(c))return await(async(e,n={})=>{const{fromSSO:r}=await o.e(3500).then(o.bind(o,33500));return r({profile:e,logger:n.logger})()})(e,l);throw new t.mV(`Profile ${e} could not be found or parsed in shared credentials file.`)},l=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-ini","fromIni");const n=await(0,r.MX)(e);return a((0,r.Jl)(e),n,e)}}};