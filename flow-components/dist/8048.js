"use strict";exports.id=8048,exports.ids=[8048],exports.modules={75344:(e,t,r)=>{r.d(t,{zb:()=>c,_c:()=>a,G7:()=>i,NL:()=>s,Xb:()=>l});const n=(e,t,r)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var o;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(o||(o={}));const i={environmentVariableSelector:e=>n(e,"AWS_USE_DUALSTACK_ENDPOINT",o.ENV),configFileSelector:e=>n(e,"use_dualstack_endpoint",o.CONFIG),default:!1},s={environmentVariableSelector:e=>n(e,"AWS_USE_FIPS_ENDPOINT",o.ENV),configFileSelector:e=>n(e,"use_fips_endpoint",o.CONFIG),default:!1};r(36506);const a={environmentVariableSelector:e=>e.AWS_REGION,configFileSelector:e=>e.region,default:()=>{throw new Error("Region is missing")}},c={preferredFile:"credentials"},u=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),d=e=>u(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,l=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if("string"==typeof t)return d(t);const e=await t();return d(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!u(e)||("function"!=typeof r?Promise.resolve(!!r):r())}})}},61736:(e,t,r)=>{r.d(t,{K5:()=>h,oH:()=>p,tZ:()=>i,aZ:()=>d,cu:()=>l.cu,hr:()=>f}),r(89962);var n=r(36506);const o={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},i=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:i=>{i.addRelativeTo(((e,t)=>(r,o)=>async i=>{const s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,o,i.input)),a=function(e){const t=new Map;for(const r of e)t.set(r.schemeId,r);return t}(e.httpAuthSchemes),c=(0,n.J)(o),u=[];for(const r of s){const n=a.get(r.schemeId);if(!n){u.push(`HttpAuthScheme \`${r.schemeId}\` was not enabled for this service.`);continue}const i=n.identityProvider(await t.identityProviderConfigProvider(e));if(!i){u.push(`HttpAuthScheme \`${r.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:s={},signingProperties:d={}}=r.propertiesExtractor?.(e,o)||{};r.identityProperties=Object.assign(r.identityProperties||{},s),r.signingProperties=Object.assign(r.signingProperties||{},d),c.selectedHttpAuthScheme={httpAuthOption:r,identity:await i(r.identityProperties),signer:n.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(u.join("\n"));return r(i)})(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),o)}});r(43695).JK.name;var s=r(13585);const a=e=>e=>{throw e},c=(e,t)=>{},u={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},d=e=>({applyToStack:e=>{e.addRelativeTo((e,t)=>async r=>{if(!s.aW.isInstance(r.request))return e(r);const o=(0,n.J)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:u,signer:d}=o,l=await e({...r,request:await d.sign(r.request,u,i)}).catch((d.errorHandler||a)(i));return(d.successHandler||c)(l.response,i),l},u)}});var l=r(28306);function f(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}class h{constructor(e){this.authSchemes=new Map;for(const[t,r]of Object.entries(e))void 0!==r&&this.authSchemes.set(t,r)}getIdentityProvider(e){return this.authSchemes.get(e)}}class p{async sign(e,t,r){return e}}},28306:(e,t,r)=>{r.d(t,{jc:()=>s,cu:()=>a}),r(37765),r(13845),Uint8Array,r(12781),"function"==typeof ReadableStream&&ReadableStream,r(84492),r(83115),r(50870);var n=r(13585);const o={},i={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),o[e]=t,i[t]=e}function s(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e,t){return new c(e,t)}class c{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:r,path:o}=await this.context.endpoint();this.path=o;for(const e of this.resolvePathStack)e(this.path);return new n.aW({protocol:t,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e}),this}p(e,t,r,n){return this.resolvePathStack.push(o=>{this.path=((e,t,r,n,o,i)=>{if(null==t||void 0===t[r])throw new Error("No value provided for input HTTP label: "+r+".");{const t=n();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?t.split("/").map(e=>s(e)).join("/"):s(t))}return e})(o,this.input,e,t,r,n)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}},13730:(e,t,r)=>{r.d(t,{k:()=>a});var n=r(50870),o=r(13845),i=r(14300),s=r(6113);class a{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,o._f)(c(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,s.createHmac)(this.algorithmIdentifier,c(this.secret)):(0,s.createHash)(this.algorithmIdentifier)}}function c(e,t){return i.Buffer.isBuffer(e)?e:"string"==typeof e?(0,n.m)(e,t):ArrayBuffer.isView(e)?(0,n.g)(e.buffer,e.byteOffset,e.byteLength):(0,n.g)(e)}},70214:(e,t,r)=>{r.d(t,{VG:()=>s});var n=r(13585);const o="content-length",i={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},s=e=>({applyToStack:t=>{var r;t.add((r=e.bodyLengthChecker,e=>async t=>{const i=t.request;if(n.aW.isInstance(i)){const{body:e,headers:t}=i;if(e&&-1===Object.keys(t).map(e=>e.toLowerCase()).indexOf(o))try{const t=r(e);i.headers={...i.headers,[o]:String(t)}}catch(e){}}return e({...t,request:i})}),i)}})},27047:(e,t,r)=>{r.d(t,{a3:()=>w,uW:()=>b});const n=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,o=/(\d+\.){3}\d+/,i=/\.\./,s=(e,t,r)=>{const n=async()=>{const n=r[e]??r[t];return"function"==typeof n?n():n};return"credentialScope"===e||"CredentialScope"===t?async()=>{const e="function"==typeof r.credentials?await r.credentials():r.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{const e="function"==typeof r.credentials?await r.credentials():r.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{const e=await n();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:r,port:n,path:o}=e;return`${t}//${r}${n?":"+n:""}${o}`}}return e}:n};var a=r(69638),c=r(49016);const u="AWS_ENDPOINT_URL",d="endpoint_url",l=async e=>(0,a.M)((e=>({environmentVariableSelector:t=>{const r=e.split(" ").map(e=>e.toUpperCase());return t[[u,...r].join("_")]||t[u]||void 0},configFileSelector:(t,r)=>{if(r&&t.services){const n=r[["services",t.services].join(c.Ck)];if(n){const t=n[[e.split(" ").map(e=>e.toLowerCase()).join("_"),d].join(c.Ck)];if(t)return t}}const n=t[d];if(n)return n},default:void 0}))(e??""))();var f=r(80664);const h=e=>"object"==typeof e?"url"in e?(0,f.e)(e.url):e:(0,f.e)(e),p=async(e,t,r)=>{const a={},c=t?.getEndpointParameterInstructions?.()||{};for(const[t,n]of Object.entries(c))switch(n.type){case"staticContextParams":a[t]=n.value;break;case"contextParams":a[t]=e[n.name];break;case"clientContextParams":case"builtInParams":a[t]=await s(n.name,t,r)();break;case"operationContextParams":a[t]=n.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(n))}return 0===Object.keys(c).length&&Object.assign(a,r),"s3"===String(r.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,r,n,,,o]=e.split(":"),i="arn"===t&&e.split(":").length>=6,s=Boolean(i&&r&&n&&o);if(i&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else r=t,(!n.test(r)||o.test(r)||i.test(r)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var r;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(a),a};var m=r(61736),g=r(36506);const y={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:r(43695).JK.name},w=(e,t)=>({applyToStack:r=>{r.addRelativeTo((({config:e,instructions:t})=>(r,n)=>async o=>{e.endpoint&&(0,m.hr)(n,"ENDPOINT_OVERRIDE","N");const i=await(async(e,t,r,n)=>{if(!r.endpoint){let e;e=r.serviceConfiguredEndpoint?await r.serviceConfiguredEndpoint():await l(r.serviceId),e&&(r.endpoint=()=>Promise.resolve(h(e)))}const o=await p(e,t,r);if("function"!=typeof r.endpointProvider)throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)})(o.input,{getEndpointParameterInstructions:()=>t},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;const s=n.authSchemes?.[0];if(s){n.signing_region=s.signingRegion,n.signing_service=s.signingName;const e=(0,g.J)(n),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return r({...o})})({config:e,instructions:t}),y)}}),b=e=>{const t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,i=null!=r?async()=>h(await(0,g.$)(r)()):void 0,s=!!r,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:s,useDualstackEndpoint:(0,g.$)(n??!1),useFipsEndpoint:(0,g.$)(o??!1)});let c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=l(e.serviceId)),c),a}},85466:(e,t,r)=>{r.d(t,{Hs:()=>c,aK:()=>d,NQ:()=>$,BC:()=>u});var n=r(65919),o=r(13585),i=r(36506);const s="AWS_MAX_ATTEMPTS",a="max_attempts",c={environmentVariableSelector:e=>{const t=e[s];if(!t)return;const r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${s} mast be a number, got "${t}"`);return r},configFileSelector:e=>{const t=e[a];if(!t)return;const r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${a} mast be a number, got "${t}"`);return r},default:n.J},u=e=>{const{retryStrategy:t,retryMode:r,maxAttempts:o}=e,s=(0,i.$)(o??n.J);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await(0,i.$)(r)()===n.Ul.ADAPTIVE?new n.AY(s):new n.Uz(s))})},d={environmentVariableSelector:e=>e.AWS_RETRY_MODE,configFileSelector:e=>e.retry_mode,default:n.CA};var l=r(19952),f=r(5547),h=r(6113),p=r.n(h);const m={randomUUID:p().randomUUID},g=new Uint8Array(256);let y=g.length;function w(){return y>g.length-16&&(p().randomFillSync(g),y=0),g.slice(y,y+=16)}const b=[];for(let e=0;e<256;++e)b.push((e+256).toString(16).slice(1));const v=function(e,t,r){if(m.randomUUID&&!t&&!e)return m.randomUUID();const n=(e=e||{}).random||(e.rng||w)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]}(n)};var E=r(12781);const S=e=>e?.body instanceof E.Readable||"undefined"!=typeof ReadableStream&&e?.body instanceof ReadableStream,T=e=>{const t={error:e,errorType:R(e)},r=C(e.$response);return r&&(t.retryAfterHint=r),t},R=e=>(0,l.pK)(e)?"THROTTLING":(0,l.iH)(e)?"TRANSIENT":(0,l.o7)(e)?"SERVER_ERROR":"CLIENT_ERROR",A={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},$=e=>({applyToStack:t=>{t.add((e=>(t,r)=>async i=>{let s=await e.retryStrategy();const a=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(s))return s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,i);{let e=await s.acquireInitialRetryToken(r.partition_id),u=new Error,d=0,l=0;const{request:h}=i,p=o.aW.isInstance(h);for(p&&(h.headers[n.lk]=v());;)try{p&&(h.headers[n.r5]=`attempt=${d+1}; max=${a}`);const{response:r,output:o}=await t(i);return s.recordSuccess(e),o.$metadata.attempts=d+1,o.$metadata.totalRetryDelay=l,{response:r,output:o}}catch(t){const n=T(t);if(u=(c=t)instanceof Error?c:c instanceof Object?Object.assign(new Error,c):"string"==typeof c?new Error(c):new Error(`AWS SDK error wrapper for ${c}`),p&&S(h))throw(r.logger instanceof f.vk?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),u;try{e=await s.refreshRetryTokenForRetry(e,n)}catch(e){throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=d+1,u.$metadata.totalRetryDelay=l,u}d=e.getRetryCount();const o=e.getRetryDelay();l+=o,await new Promise(e=>setTimeout(e,o))}}var c})(e),A)}}),C=e=>{if(!o.Zn.isInstance(e))return;const t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(1e3*n)}},43695:(e,t,r)=>{r.d(t,{p2:()=>a,JK:()=>s});const n=(e,t)=>(r,n)=>async o=>{const{response:i}=await r(o);try{return{response:i,output:await t(i,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:i}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+t}catch(e){n.logger&&"NoOpLogger"!==n.logger?.constructor?.name?n.logger?.warn?.(t):console.warn(t)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText)}throw e}},o=(e,t)=>(r,n)=>async o=>{const i=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const s=await t(o.input,{...e,endpoint:i});return r({...o,request:s})},i={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},s={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function a(e,t,r){return{applyToStack:a=>{a.add(n(e,r),i),a.add(o(e,t),s)}}}},69638:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(99118);function o(e){try{const t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch(t){return e}}var i=r(49016);const s=({environmentVariableSelector:e,configFileSelector:t,default:r},s={})=>{return(0,n.HP)((0,n.tS)((a=e,async()=>{try{const e=a(process.env);if(void 0===e)throw new Error;return e}catch(e){throw new n.mV(e.message||`Not found in ENV: ${o(a.toString())}`,{logger:void 0})}}),((e,{preferredFile:t="config",...r}={})=>async()=>{const s=(0,i.Jl)(r),{configFile:a,credentialsFile:c}=await(0,i.Zl)(r),u=c[s]||{},d=a[s]||{},l="config"===t?{...u,...d}:{...d,...u};try{const r=e(l,"config"===t?a:c);if(void 0===r)throw new Error;return r}catch(t){throw new n.mV(t.message||`Not found in config files w/ profile [${s}]: ${o(e.toString())}`,{logger:r.logger})}})(t,s),(e=>"function"==typeof e?async()=>await e():(0,n.f$)(e))(r)));var a}},83115:(e,t,r)=>{r.d(t,{NA:()=>h,CF:()=>m});var n=r(13585);const o=e=>encodeURIComponent(e).replace(/[!'()*]/g,i),i=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var s=r(13685),a=r(95687);const c=["ECONNRESET","EPIPE","ETIMEDOUT"],u=e=>{const t={};for(const r of Object.keys(e)){const n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},d=(e,t)=>setTimeout(e,t),l=e=>clearTimeout(e);var f=r(12781);class h{static create(e){return"function"==typeof e?.handle?e:new h(e)}static checkSocketUsage(e,t,r=console){const{sockets:n,requests:o,maxSockets:i}=e;if("number"!=typeof i||i===1/0)return t;if(Date.now()-15e3<t)return t;if(n&&o)for(const e in n){const t=n[e]?.length??0,s=o[e]?.length??0;if(t>=i&&s>=2*i)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${s} additional requests are enqueued.\nSee https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html\nor increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((t,r)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(r):t(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){const{requestTimeout:t,connectionTimeout:r,socketTimeout:n,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:c}=e||{};return{connectionTimeout:r,requestTimeout:t??n,socketAcquisitionWarningTimeout:o,httpAgent:i instanceof s.Agent||"function"==typeof i?.destroy?i:new s.Agent({keepAlive:!0,maxSockets:50,...i}),httpsAgent:c instanceof a.Agent||"function"==typeof c?.destroy?c:new a.Agent({keepAlive:!0,maxSockets:50,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:t}={}){return this.config||(this.config=await this.configProvider),new Promise((r,i)=>{let p;const m=[],g=async e=>{await p,m.forEach(l),i(e)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",void g(e)}const y="https:"===e.protocol,w=y?this.config.httpsAgent:this.config.httpAgent;m.push(d(()=>{this.socketWarningTimestamp=h.checkSocketUsage(w,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));const b=function(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=o(r),Array.isArray(n))for(let e=0,i=n.length;e<i;e++)t.push(`${r}=${o(n[e])}`);else{let e=r;(n||"string"==typeof n)&&(e+=`=${o(n)}`),t.push(e)}}return t.join("&")}(e.query||{});let v;null==e.username&&null==e.password||(v=`${e.username??""}:${e.password??""}`);let E=e.path;b&&(E+=`?${b}`),e.fragment&&(E+=`#${e.fragment}`);let S=e.hostname??"";S="["===S[0]&&S.endsWith("]")?e.hostname.slice(1,-1):e.hostname;const T={headers:e.headers,host:S,method:e.method,path:E,port:e.port,agent:w,auth:v},R=(y?a.request:s.request)(T,e=>{(async e=>{await p,m.forEach(l),r(e)})({response:new n.Zn({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:u(e.headers),body:e})})});if(R.on("error",e=>{c.includes(e.code)?g(Object.assign(e,{name:"TimeoutError"})):g(e)}),t){const e=()=>{R.destroy();const e=new Error("Request aborted");e.name="AbortError",g(e)};if("function"==typeof t.addEventListener){const r=t;r.addEventListener("abort",e,{once:!0}),R.once("close",()=>r.removeEventListener("abort",e))}else t.onabort=e}m.push(((e,t,r=0)=>{if(!r)return-1;const n=n=>{const o=d(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-n),i=e=>{e?.connecting?e.on("connect",()=>{l(o)}):l(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):d(n.bind(null,1e3),1e3)})(R,g,this.config.connectionTimeout)),m.push(((e,t,r=0)=>{const n=n=>{const o=r-n,i=()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):d(n.bind(null,0===r?0:3e3),3e3)})(R,g,this.config.requestTimeout));const A=T.agent;"object"==typeof A&&"keepAlive"in A&&m.push(((e,{keepAlive:t,keepAliveMsecs:r},n=3e3)=>{if(!0!==t)return-1;const o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",e=>{e.setKeepAlive(t,r||0)})};return 0===n?(o(),0):d(o,n)})(R,{keepAlive:A.keepAlive,keepAliveMsecs:A.keepAliveMsecs})),p=async function(e,t,r=6e3){const n=t.headers??{},o=n.Expect||n.expect;let i=-1,s=!0;"100-continue"===o&&(s=await Promise.race([new Promise(e=>{i=Number(d(()=>e(!0),Math.max(6e3,r)))}),new Promise(t=>{e.on("continue",()=>{l(i),t(!0)}),e.on("response",()=>{l(i),t(!1)}),e.on("error",()=>{l(i),t(!1)})})])),s&&function(e,t){if(t instanceof f.Readable)t.pipe(e);else{if(t){if(Buffer.isBuffer(t)||"string"==typeof t)return void e.end(t);const r=t;return"object"==typeof r&&r.buffer&&"number"==typeof r.byteOffset&&"number"==typeof r.byteLength?void e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength)):void e.end(Buffer.from(t))}e.end()}}(e,t.body)}(R,e,this.config.requestTimeout).catch(e=>(m.forEach(l),i(e)))})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}}r(85158),Symbol.iterator;class p extends f.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,t,r){this.bufferedBytes.push(e),r()}}const m=e=>g(e)?async function(e){const t=[],r=e.getReader();let n=!1,o=0;for(;!n;){const{done:e,value:i}=await r.read();i&&(t.push(i),o+=i.length),n=e}const i=new Uint8Array(o);let s=0;for(const e of t)i.set(e,s),s+=e.length;return i}(e):new Promise((t,r)=>{const n=new p;e.pipe(n),e.on("error",e=>{n.end(),r(e)}),n.on("error",r),n.on("finish",function(){const e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)})}),g=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream},99118:(e,t,r)=>{r.d(t,{mV:()=>o,kb:()=>n,tS:()=>i,f$:()=>s,HP:()=>a});class n extends Error{constructor(e,t=!0){let r,o=!0;"boolean"==typeof t?(r=void 0,o=t):null!=t&&"object"==typeof t&&(r=t.logger,o=t.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,n.prototype),r?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${e}`)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}class o extends n{constructor(e,t=!0){super(e,t),this.name="CredentialsProviderError",Object.setPrototypeOf(this,o.prototype)}}const i=(...e)=>async()=>{if(0===e.length)throw new n("No providers in chain");let t;for(const r of e)try{return await r()}catch(e){if(t=e,e?.tryNextLink)continue;throw e}throw t},s=e=>()=>Promise.resolve(e),a=(e,t,r)=>{let n,o,i,s=!1;const a=async()=>{o||(o=e());try{n=await o,i=!0,s=!1}finally{o=void 0}return n};return void 0===t?async e=>(i&&!e?.forceRefresh||(n=await a()),n):async e=>(i&&!e?.forceRefresh||(n=await a()),s?n:r&&!r(n)?(s=!0,n):t(n)?(await a(),n):n)}},19952:(e,t,r)=>{r.d(t,{o7:()=>u,pK:()=>a,iH:()=>c});const n=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],o=["TimeoutError","RequestTimeout","RequestTimeoutException"],i=[500,502,503,504],s=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],a=e=>429===e.$metadata?.httpStatusCode||n.includes(e.name)||1==e.$retryable?.throttling,c=(e,t=0)=>(e=>e.$metadata?.clockSkewCorrected)(e)||o.includes(e.name)||s.includes(e?.code||"")||i.includes(e.$metadata?.httpStatusCode||0)||void 0!==e.cause&&t<=10&&c(e.cause,t+1),u=e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!c(e)}return!1}},49016:(e,t,r)=>{r.d(t,{Ck:()=>E,Jl:()=>a,Zl:()=>S});var n=r(22037),o=r(71017);const i={},s=()=>{const{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:s=`C:${o.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${s}${r}`;const a=process&&process.geteuid?`${process.geteuid()}`:"DEFAULT";return i[a]||(i[a]=(0,n.homedir)()),i[a]},a=e=>e.profile||process.env.AWS_PROFILE||"default";r(6113);var c=r(57147);const{readFile:u}=c.promises;var d=r(89962);const l=e=>Object.entries(e).filter(([e])=>{const t=e.indexOf(E);return-1!==t&&Object.values(d.I).includes(e.substring(0,t))}).reduce((e,[t,r])=>{const n=t.indexOf(E);return e[t.substring(0,n)===d.I.PROFILE?t.substring(n+1):t]=r,e},{...e.default&&{default:e.default}}),f=()=>process.env.AWS_CONFIG_FILE||(0,o.join)(s(),".aws","config"),h=()=>process.env.AWS_SHARED_CREDENTIALS_FILE||(0,o.join)(s(),".aws","credentials"),p=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,m=["__proto__","profile __proto__"],g=e=>{const t={};let r,n;for(const o of e.split(/\r?\n/)){const e=o.split(/(^|\s)[;#]/)[0].trim();if("["===e[0]&&"]"===e[e.length-1]){r=void 0,n=void 0;const t=e.substring(1,e.length-1),o=p.exec(t);if(o){const[,e,,t]=o;Object.values(d.I).includes(e)&&(r=[e,t].join(E))}else r=t;if(m.includes(t))throw new Error(`Found invalid profile name "${t}"`)}else if(r){const i=e.indexOf("=");if(![0,-1].includes(i)){const[s,a]=[e.substring(0,i).trim(),e.substring(i+1).trim()];if(""===a)n=s;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};const e=n?[n,s].join(E):s;t[r][e]=a}}}}return t},{readFile:y}=c.promises,w={},b=(e,t)=>(w[e]&&!t?.ignoreCache||(w[e]=y(e,"utf8")),w[e]),v=()=>({}),E=".",S=async(e={})=>{const{filepath:t=h(),configFilepath:r=f()}=e,n=s();let i=t;t.startsWith("~/")&&(i=(0,o.join)(n,t.slice(2)));let a=r;r.startsWith("~/")&&(a=(0,o.join)(n,r.slice(2)));const c=await Promise.all([b(a,{ignoreCache:e.ignoreCache}).then(g).then(l).catch(v),b(i,{ignoreCache:e.ignoreCache}).then(g).catch(v)]);return{configFile:c[0],credentialsFile:c[1]}}},5547:(e,t,r)=>{r.d(t,{KU:()=>c,mY:()=>l,vk:()=>G,oc:()=>h,sI:()=>F,F3:()=>te,TW:()=>p,to:()=>D,H_:()=>z,u$:()=>g,CE:()=>b,Wh:()=>v,pY:()=>E,jc:()=>u.jc,kE:()=>W,jv:()=>B,UI:()=>K,aH:()=>x,SQ:()=>V,AF:()=>R,qn:()=>Z,PC:()=>U});const n=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const e of t)r.push(e);return r},o=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,i=()=>{let e=[],t=[],r=!1;const c=new Set,u=r=>(e.forEach(e=>{r.add(e.middleware,{...e})}),t.forEach(e=>{r.addRelativeTo(e.middleware,{...e})}),r.identifyOnResolve?.(f.identifyOnResolve()),r),d=e=>{const t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...d(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...d(e))}),t},l=(r=!1)=>{const i=[],c=[],u={};var l;return e.forEach(e=>{const t={...e,before:[],after:[]};for(const e of n(t.name,t.aliases))u[e]=t;i.push(t)}),t.forEach(e=>{const t={...e,before:[],after:[]};for(const e of n(t.name,t.aliases))u[e]=t;c.push(t)}),c.forEach(e=>{if(e.toMiddleware){const t=u[e.toMiddleware];if(void 0===t){if(r)return;throw new Error(`${e.toMiddleware} is not found when adding ${o(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),(l=i,l.sort((e,t)=>s[t.step]-s[e.step]||a[t.priority||"normal"]-a[e.priority||"normal"])).map(d).reduce((e,t)=>(e.push(...t),e),[])},f={add:(t,r={})=>{const{name:i,override:s,aliases:a}=r,u={step:"initialize",priority:"normal",middleware:t,...r},d=n(i,a);if(d.length>0){if(d.some(e=>c.has(e))){if(!s)throw new Error(`Duplicate middleware name '${o(i,a)}'`);for(const t of d){const r=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===r)continue;const n=e[r];if(n.step!==u.step||u.priority!==n.priority)throw new Error(`"${o(n.name,n.aliases)}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by "${o(i,a)}" middleware with ${u.priority} priority in ${u.step} step.`);e.splice(r,1)}}for(const e of d)c.add(e)}e.push(u)},addRelativeTo:(e,r)=>{const{name:i,override:s,aliases:a}=r,u={middleware:e,...r},d=n(i,a);if(d.length>0){if(d.some(e=>c.has(e))){if(!s)throw new Error(`Duplicate middleware name '${o(i,a)}'`);for(const e of d){const r=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===r)continue;const n=t[r];if(n.toMiddleware!==u.toMiddleware||n.relation!==u.relation)throw new Error(`"${o(n.name,n.aliases)}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by "${o(i,a)}" middleware ${u.relation} "${u.toMiddleware}" middleware.`);t.splice(r,1)}}for(const e of d)c.add(e)}t.push(u)},clone:()=>u(i()),use:e=>{e.applyToStack(f)},remove:r=>"string"==typeof r?(r=>{let o=!1;const i=e=>{const t=n(e.name,e.aliases);if(t.includes(r)){o=!0;for(const e of t)c.delete(e);return!1}return!0};return e=e.filter(i),t=t.filter(i),o})(r):(r=>{let o=!1;const i=e=>{if(e.middleware===r){o=!0;for(const t of n(e.name,e.aliases))c.delete(t);return!1}return!0};return e=e.filter(i),t=t.filter(i),o})(r),removeByTag:r=>{let o=!1;const i=e=>{const{tags:t,name:i,aliases:s}=e;if(t&&t.includes(r)){const e=n(i,s);for(const t of e)c.delete(t);return o=!0,!1}return!0};return e=e.filter(i),t=t.filter(i),o},concat:e=>{const t=u(i());return t.use(e),t.identifyOnResolve(r||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:u,identify:()=>l(!0).map(e=>{const t=e.step??e.relation+" "+e.toMiddleware;return o(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"==typeof e&&(r=e),r),resolve:(e,t)=>{for(const r of l().map(e=>e.middleware).reverse())e=r(e,t);return r&&console.log(f.identify()),e}};return f},s={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},a={high:3,normal:2,low:1};class c{constructor(e){this.config=e,this.middlewareStack=i()}send(e,t,r){const n="function"!=typeof t?t:void 0,o="function"==typeof t?t:r;let i;if(void 0===n&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const t=this.handlers;t.has(e.constructor)?i=t.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),t.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!o)return i(e).then(e=>e.output);i(e).then(e=>o(null,e.output),e=>o(e)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var u=r(28306),d=r(89962);class l{constructor(){this.middlewareStack=i()}static classBuilder(){return new f}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:i,inputFilterSensitiveLog:s,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:u,CommandCtor:l}){for(const o of n.bind(this)(l,e,t,r))this.middlewareStack.use(o);const f=e.concat(this.middlewareStack),{logger:h}=t,p={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:s,outputFilterSensitiveLog:a,[d.zK]:{commandInstance:this,...c},...u},{requestHandler:m}=t;return f.resolve(e=>m.handle(e.request,r||{}),p)}}class f{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let t;return t=class extends l{static getEndpointParameterInstructions(){return e._ep}constructor(...[t]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=t??{},e._init(this)}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const h="***SensitiveInformation***",p=(e,t)=>{for(const r of Object.keys(e)){const n=e[r],o=async function(e,t,r){const o=new n(e);if("function"==typeof t)this.send(o,t);else{if("function"!=typeof r)return this.send(o,t);if("object"!=typeof t)throw new Error("Expected http options but got "+typeof t);this.send(o,t||{},r)}},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}},m=Math.ceil(2**127*(2-2**-23)),g=e=>y(e,32),y=(e,t)=>{const r=(e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}})(e);if(void 0!==r&&w(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},w=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},b=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},v=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},E=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return $.warn(A(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},S=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,T=e=>{const t=e.match(S);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},R=e=>g("string"==typeof e?T(e):e),A=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),$={warn:console.warn},C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),x=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=k.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,i,s,a,c,u,d]=t,l=(e=>(e=>y(e,16))("string"==typeof e?T(e):e))(L(n)),f=_(o,"month",1,12),h=_(i,"day",1,31),p=I(l,f,h,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:u});return"Z"!=d.toUpperCase()&&p.setTime(p.getTime()-j(d)),p},I=(e,t,r,n)=>{const o=t-1;return P(e,o,r),new Date(Date.UTC(e,o,r,_(n.hours,"hour",0,23),_(n.minutes,"minute",0,59),_(n.seconds,"seconds",0,60),M(n.fractionalMilliseconds)))},N=[31,28,31,30,31,30,31,31,30,31,30,31],P=(e,t,r)=>{let n=N[t];if(1===t&&O(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${C[t]} in ${e}: ${r}`)},O=e=>e%4==0&&(e%100!=0||e%400==0),_=(e,t,r,n)=>{const o=(e=>(e=>y(e,8))("string"==typeof e?T(e):e))(L(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},M=e=>null==e?0:1e3*(e=>(e=>{const t=(e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&$.warn(A(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}})(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>m)throw new TypeError(`Expected 32-bit float, got ${e}`);return t})("string"==typeof e?T(e):e))("0."+e),j=e=>{const t=e[0];let r=1;if("+"==t)r=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);r=-1}return r*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},L=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class F extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const t=e;return F.prototype.isPrototypeOf(t)||Boolean(t.$fault)&&Boolean(t.$metadata)&&("client"===t.$fault||"server"===t.$fault)}static[Symbol.hasInstance](e){if(!e)return!1;const t=e;return this===F?F.isInstance(e):!!F.isInstance(e)&&(t.name&&this.name?this.prototype.isPrototypeOf(e)||t.name===this.name:this.prototype.isPrototypeOf(e))}}const D=(e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,r])=>{null!=e[t]&&""!==e[t]||(e[t]=r)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},U=e=>({output:t,parsedBody:r,errorCode:n})=>{(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const o=q(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw D(s,t)})({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},q=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),B=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let H=!1;const z=e=>{e&&!H&&parseInt(e.substring(1,e.indexOf(".")))<16&&(H=!0)},W=e=>Object.assign((e=>{const t=[];for(const r in d.f3){const n=d.f3[r];void 0!==e[n]&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}})(e),(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy:()=>e.retryStrategy}))(e)),V=e=>Object.assign((e=>{const t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t})(e),(e=>{const t={};return t.retryStrategy=e.retryStrategy(),t})(e)),J=function(e){return Object.assign(new String(e),{deserializeJSON:()=>JSON.parse(String(e)),toString:()=>String(e),toJSON:()=>String(e)})};J.from=e=>e&&"object"==typeof e&&(e instanceof J||"deserializeJSON"in e)?e:"string"==typeof e||Object.getPrototypeOf(e)===String.prototype?J(String(e)):J(JSON.stringify(e)),J.fromObject=J.from;class G{trace(){}debug(){}info(){}warn(){}error(){}}function K(e,t,r){let n,o,i;if(void 0===t&&void 0===r)n={},i=e;else{if(n=e,"function"==typeof t)return o=t,i=r,Y(n,o,i);i=t}for(const e of Object.keys(i))Array.isArray(i[e])?X(n,null,i,e):n[e]=i[e];return n}const Z=(e,t)=>{const r={};for(const n in t)X(r,e,t,n);return r},Y=(e,t,r)=>K(e,Object.entries(r).reduce((e,[r,n])=>(Array.isArray(n)?e[r]=n:e[r]="function"==typeof n?[t,n()]:[t,n],e),{})),X=(e,t,r,n)=>{if(null!==t){let o=r[n];"function"==typeof o&&(o=[,o]);const[i=Q,s=ee,a=n]=o;return void(("function"==typeof i&&i(t[a])||"function"!=typeof i&&i)&&(e[n]=s(t[a])))}let[o,i]=r[n];if("function"==typeof i){let t;const r=void 0===o&&null!=(t=i()),s="function"==typeof o&&!!o(void 0)||"function"!=typeof o&&!!o;r?e[n]=t:s&&(e[n]=i())}else{const t=void 0===o&&null!=i,r="function"==typeof o&&!!o(i)||"function"!=typeof o&&!!o;(t||r)&&(e[n]=i)}},Q=e=>null!=e,ee=e=>e,te=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(te);if("object"==typeof e){const t={};for(const r of Object.keys(e))null!=e[r]&&(t[r]=te(e[r]));return t}return e}},89962:(e,t,r)=>{var n,o,i,s,a;r.d(t,{f3:()=>s,cj:()=>i,I:()=>u,zK:()=>c}),function(e){e.HEADER="header",e.QUERY="query"}(n||(n={})),function(e){e.HEADER="header",e.QUERY="query"}(o||(o={})),function(e){e.HTTP="http",e.HTTPS="https"}(i||(i={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(s||(s={})),function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(a||(a={}));const c="__smithy_context";var u,d;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(u||(u={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(d||(d={}))},80664:(e,t,r)=>{r.d(t,{e:()=>n});const n=e=>{if("string"==typeof e)return n(new URL(e));const{hostname:t,pathname:r,port:o,protocol:i,search:s}=e;let a;return s&&(a=function(e){const t={};if(e=e.replace(/^\?/,""))for(const r of e.split("&")){let[e,n=null]=r.split("=");e=decodeURIComponent(e),n&&(n=decodeURIComponent(n)),e in t?Array.isArray(t[e])?t[e].push(n):t[e]=[t[e],n]:t[e]=n}return t}(s)),{hostname:t,port:o?parseInt(o):void 0,protocol:i,path:r,query:a}}},37765:(e,t,r)=>{r.d(t,{G:()=>i,s:()=>a});var n=r(50870);const o=/^[A-Za-z0-9+/]*={0,2}$/,i=e=>{if(3*e.length%4!=0)throw new TypeError("Incorrect padding on base64 string.");if(!o.exec(e))throw new TypeError("Invalid base64 string.");const t=(0,n.m)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var s=r(13845);const a=e=>{let t;if(t="string"==typeof e?(0,s.$x)(e):e,"object"!=typeof t||"number"!=typeof t.byteOffset||"number"!=typeof t.byteLength)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,n.g)(t.buffer,t.byteOffset,t.byteLength).toString("base64")}},29606:(e,t,r)=>{r.d(t,{W:()=>o});var n=r(57147);const o=e=>{if(!e)return 0;if("string"==typeof e)return Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,n.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,n.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)}},50870:(e,t,r)=>{r.d(t,{g:()=>o,m:()=>i});var n=r(14300);const o=(e,t=0,r=e.byteLength-t)=>{if(o=e,!("function"==typeof ArrayBuffer&&o instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(o)))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);var o;return n.Buffer.from(e,t,r)},i=(e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?n.Buffer.from(e,t):n.Buffer.from(e)}},60925:(e,t,r)=>{r.d(t,{j:()=>d});var n=r(75344),o=r(69638),i=r(99118);const s="AWS_REGION",a="AWS_DEFAULT_REGION",c=["in-region","cross-region","mobile","standard","legacy"],u={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},d=({region:e=(0,o.M)(n._c),defaultsMode:t=(0,o.M)(u)}={})=>(0,i.HP)(async()=>{const r="function"==typeof t?await t():t;switch(r?.toLowerCase()){case"auto":return l(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${c.join(", ")}, got ${r}`)}}),l=async e=>{if(e){const t="function"==typeof e?await e():e,r=await f();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},f=async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[s]||process.env[a]))return process.env[s]??process.env[a];if(!process.env.AWS_EC2_METADATA_DISABLED)try{const{getInstanceMetadataEndpoint:e,httpRequest:t}=await r.e(3).then(r.bind(r,30003)),n=await e();return(await t({...n,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}}},51529:(e,t,r)=>{r.d(t,{$X:()=>n,DY:()=>o,B1:()=>k});class n{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}get(e,t){const r=this.hash(e);if(!1===r)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){const e=this.data.keys();let t=0;for(;;){const{value:r,done:n}=e.next();if(this.data.delete(r),n||++t>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="";const{parameters:r}=this;if(0===r.length)return!1;for(const n of r){const r=String(e[n]??"");if(r.includes("|;"))return!1;t+=r+"|;"}return t}}const o={},i="endpoints";function s(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${s(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(s).join(", ")})`:JSON.stringify(e,null,2)}class a extends Error{constructor(e){super(e),this.name="EndpointError"}}const c=(e,t)=>(e=>{const t=e.split("."),r=[];for(const n of t){const t=n.indexOf("[");if(-1!==t){if(n.indexOf("]")!==n.length-1)throw new a(`Path: '${e}' does not end with ']'`);const o=n.slice(t+1,-1);if(Number.isNaN(parseInt(o)))throw new a(`Invalid array index: '${o}' in path: '${e}'`);0!==t&&r.push(n.slice(0,t)),r.push(o)}else r.push(n)}return r})(t).reduce((r,n)=>{if("object"!=typeof r)throw new a(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),u=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),d=(e,t=!1)=>{if(!t)return u.test(e);const r=e.split(".");for(const e of r)if(!d(e))return!1;return!0};var l=r(89962);const f=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),h={[l.cj.HTTP]:80,[l.cj.HTTPS]:443},p={booleanEquals:(e,t)=>e===t,getAttr:c,isSet:e=>null!=e,isValidHostLabel:d,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:r,protocol:n="",path:o="",query:i={}}=e,s=new URL(`${n}//${t}${r?`:${r}`:""}${o}`);return s.search=Object.entries(i).map(([e,t])=>`${e}=${t}`).join("&"),s}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:o,pathname:i,protocol:s,search:a}=t;if(a)return null;const c=s.slice(0,-1);if(!Object.values(l.cj).includes(c))return null;const u=(e=>f.test(e)||e.startsWith("[")&&e.endsWith("]"))(o);return{scheme:c,authority:`${n}${r.includes(`${n}:${h[c]}`)||"string"==typeof e&&e.includes(`${n}:${h[c]}`)?`:${h[c]}`:""}`,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},m=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let o=0;for(;o<e.length;){const t=e.indexOf("{",o);if(-1===t){r.push(e.slice(o));break}r.push(e.slice(o,t));const i=e.indexOf("}",t);if(-1===i){r.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[i+1]&&(r.push(e.slice(t+1,i)),o=i+2);const s=e.substring(t+1,i);if(s.includes("#")){const[e,t]=s.split("#");r.push(c(n[e],t))}else r.push(n[s]);o=i+1}return r.join("")},g=(e,t,r)=>{if("string"==typeof e)return m(e,r);if(e.fn)return y(e,r);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,r);throw new a(`'${t}': ${String(e)} is not a string, function or reference.`)},y=({fn:e,argv:t},r)=>{const n=t.map(e=>["boolean","number"].includes(typeof e)?e:g(e,"arg",r)),i=e.split(".");return i[0]in o&&null!=i[1]?o[i[0]][i[1]](...n):p[e](...n)},w=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new a(`'${e}' is already defined in Reference Record.`);const n=y(t,r);return r.logger?.debug?.(`${i} evaluateCondition: ${s(t)} = ${s(n)}`),{result:""===n||!!n,...null!=e&&{toAssign:{name:e,value:n}}}},b=(e=[],t)=>{const r={};for(const n of e){const{result:e,toAssign:o}=w(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!e)return{result:e};o&&(r[o.name]=o.value,t.logger?.debug?.(`${i} assign: ${o.name} := ${s(o.value)}`))}return{result:!0,referenceRecord:r}},v=(e,t)=>Object.entries(e).reduce((e,[r,n])=>({...e,[r]:n.map(e=>{const n=g(e,"Header value entry",t);if("string"!=typeof n)throw new a(`Header '${r}' value '${n}' is not a string`);return n})}),{}),E=(e,t)=>{if(Array.isArray(e))return e.map(e=>E(e,t));switch(typeof e){case"string":return m(e,t);case"object":if(null===e)throw new a(`Unexpected endpoint property: ${e}`);return S(e,t);case"boolean":return e;default:throw new a("Unexpected endpoint property type: "+typeof e)}},S=(e,t)=>Object.entries(e).reduce((e,[r,n])=>({...e,[r]:E(n,t)}),{}),T=(e,t)=>{const r=g(e,"Endpoint URL",t);if("string"==typeof r)try{return new URL(r)}catch(e){throw console.error(`Failed to construct URL with ${r}`,e),e}throw new a("Endpoint URL must be a string, got "+typeof r)},R=(e,t)=>{const{conditions:r,endpoint:n}=e,{result:o,referenceRecord:a}=b(r,t);if(!o)return;const c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:u,properties:d,headers:l}=n;return t.logger?.debug?.(`${i} Resolving endpoint from template: ${s(n)}`),{...null!=l&&{headers:v(l,c)},...null!=d&&{properties:S(d,c)},url:T(u,c)}},A=(e,t)=>{const{conditions:r,error:n}=e,{result:o,referenceRecord:i}=b(r,t);if(o)throw new a(g(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},$=(e,t)=>{const{conditions:r,rules:n}=e,{result:o,referenceRecord:i}=b(r,t);if(o)return C(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},C=(e,t)=>{for(const r of e)if("endpoint"===r.type){const e=R(r,t);if(e)return e}else if("error"===r.type)A(r,t);else{if("tree"!==r.type)throw new a(`Unknown endpoint rule: ${r}`);{const e=$(r,t);if(e)return e}}throw new a("Rules evaluation failed")},k=(e,t)=>{const{endpointParams:r,logger:n}=t,{parameters:o,rules:c}=e;t.logger?.debug?.(`${i} Initial EndpointParams: ${s(r)}`);const u=Object.entries(o).filter(([,e])=>null!=e.default).map(([e,t])=>[e,t.default]);if(u.length>0)for(const[e,t]of u)r[e]=r[e]??t;const d=Object.entries(o).filter(([,e])=>e.required).map(([e])=>e);for(const e of d)if(null==r[e])throw new a(`Missing required parameter: '${e}'`);const l=C(c,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${i} Resolved endpoint: ${s(l)}`),l}},36506:(e,t,r)=>{r.d(t,{J:()=>o,$:()=>i});var n=r(89962);const o=e=>e[n.zK]||(e[n.zK]={}),i=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t}},65919:(e,t,r)=>{var n;r.d(t,{AY:()=>f,J:()=>o,CA:()=>i,lk:()=>c,r5:()=>u,Ul:()=>n,Uz:()=>l}),function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(n||(n={}));const o=3,i=n.STANDARD;var s=r(19952);class a{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(e=>a.setTimeoutFn(e,t))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),(0,s.pK)(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}a.setTimeoutFn=setTimeout;const c="amz-sdk-invocation-id",u="amz-sdk-request",d=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>r});class l{constructor(e){this.maxAttempts=e,this.mode=n.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return d({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){const r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){const r=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===r?500:100);const n=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,n):n,i=this.getCapacityCost(r);return this.capacity-=i,d({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${o}`),o}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class f{constructor(e,t){this.maxAttemptsProvider=e,this.mode=n.ADAPTIVE;const{rateLimiter:r}=t??{};this.rateLimiter=r??new a,this.standardRetryStrategy=new l(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}},13845:(e,t,r)=>{r.d(t,{$x:()=>o,_f:()=>i,GZ:()=>s});var n=r(50870);const o=e=>{const t=(0,n.m)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},i=e=>"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),s=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,n.g)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},26839:e=>{e.exports={i8:"3.787.0"}}};