"use strict";(this.webpackChunk_stechquick_websdk=this.webpackChunk_stechquick_websdk||[]).push([[5809],{11404:(e,t,i)=>{i.d(t,{Z:()=>m});var a=i(27329),n=i(47815),s=i(17706),r=i(6206),o="number",l="yyyy/MM/dd",h=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,d=/^(\d{2}):(\d{2})(:(\d{2}))?$/,u=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],c=/^(\d{4})\/(\d{2})\/(\d{2})$/,_=function(e,t){var i;return(0,r.HD)(e)&&!t&&(i=function(e){var t=e.match(h);if(!t)return(t=e.match(d))?new Date(0,0,0,p(t[1]),p(t[2]),p(t[4])):void 0;var i=p(t[1]),a=--t[3],n=t[5],s=0,r=0,o=e=>(i<100&&e.setFullYear(i),e);s=p(t[14]),r=p(t[16]),"-"===t[13]&&(s=-s,r=-r);var l,u=p(t[6])-s,c=p(t[8])-r,_=p(t[10]),g=p(l=(l=t[11])||"")*Math.pow(10,3-l.length);return t[12]?o(new Date(Date.UTC(i,a,n,u,c,_,g))):o(new Date(i,a,n,u,c,_,g))}(e)),i||function(e){var t=g(e)===l,i=!(0,r.J_)(e)&&Date.parse(e);if(!i&&t){var a=e.match(c);if(a){var n=new Date(p(a[1]),p(a[2]),p(a[3]));return n.setFullYear(p(a[1])),n.setMonth(p(a[2])-1),n.setDate(p(a[3])),n}}return(0,r.kE)(i)?new Date(i):e}(e)};function p(e){return+e||0}var g=function(e){return"number"==typeof e?o:(0,r.HD)(e)?((0,a.Z)().forceIsoDateParsing&&(t=function(e,t){var i=e.match(h),a="";if(!i)return(i=e.match(d))?i[3]?"HH:mm:ss":"HH:mm":void 0;for(var n=1;n<u.length;n++)i[n]&&(a+=u[n]||i[n]);return"Z"===i[12]&&(a+="'Z'"),i[14]&&(i[15]?a+="xxx":i[16]?a+="xx":a+="x"),a}(e)),t||(e.indexOf(":")>=0?"yyyy/MM/dd HH:mm:ss":l)):e?null:void 0;var t};const m={dateParser:_,deserializeDate:function(e){return"number"==typeof e?new Date(e):_(e,!(0,a.Z)().forceIsoDateParsing)},serializeDate:function(e,t){return t?(0,r.J_)(e)?t===o?e&&e.valueOf?e.valueOf():null:(0,n.P)(t,s.Z)(e):null:e},getDateSerializationFormat:g}},90804:(e,t,i)=>{i.d(t,{Z:()=>_});var a=i(74671),n=i(18330),s=i(54663),r=i(17118),o=i(66289),l=i(6343),h=i(59351),d="dxSwipeable",u={onStart:a.BL,onUpdated:a.aq,onEnd:a.ut,onCancel:"dxswipecancel"},c=s.Z.inherit({_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{elastic:!0,immediate:!1,immediateTimeout:180,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var e=this.NAME;this._createEventData(),(0,r.S6)(u,function(t,i){var a=this._createActionByOption(t,{context:this});i=(0,o.V4)(i,e),n.Z.on(this.$element(),i,this._eventData,(function(e){return a({event:e})}))}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}},_detachEventHandlers:function(){n.Z.off(this.$element(),"."+d)},_optionChanged:function(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(e)}},_useTemplates:function(){return!1}});(0,h.u2)(c,d);const _=c},23672:(e,t,i)=>{i.d(t,{I:()=>n});var a=i(75982);class n{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=null!=e?e:a.Et}get isHorizontal(){return this.direction===a.Xv||this.direction===a.b$}get isVertical(){return this.direction===a.Et||this.direction===a.b$}get isBoth(){return this.direction===a.b$}}},76432:(e,t,i)=>{i.r(t),i.d(t,{default:()=>x});var a=i(86043),n=i(20486),s=i(6343),r=i(11147),o=i(14700),l=i(6206),h=i(7541),d=i(17118),u=i(73311),c=i(26442),_="dxBoxItemData",p={row:"minWidth",col:"minHeight"},g={row:"maxWidth",col:"maxHeight"},m={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},v={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},f={row:"row",col:"column"},D=(e,t,i)=>{if(i=(0,h.bh)(t,i),e.style[(0,h.Hj)(t)]=i,!(0,r.Ym)()){if(""===i||!(0,l.$K)(i))return;var a=(0,o.H0)(t)+": "+i+";";(0,h.A_)(e,a,!1)}};class w extends u.Z{_renderVisible(e,t){super._renderVisible(e),(0,l.$K)(t)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:t})}}class C{constructor(e,t){this._$element=e,this._option=t}renderBox(){this._$element.css({display:(0,h.gC)("flexDirection")+"flex"}),D(this._$element.get(0),"flexDirection",f[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var e=this._option("align");return e in m?m[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var e=this._option("crossAlign");return e in v?v[e]:e}renderItems(e){var t=(0,h.gC)("flexDirection"),i=this._option("direction");(0,d.S6)(e,(function(){var e=(0,a.Z)(this),n=e.data(_);e.css({display:t+"flex"}).css(g[i],n.maxSize||"none").css(p[i],n.minSize||"0"),D(e.get(0),"flexBasis",n.baseSize||0),D(e.get(0),"flexGrow",n.ratio),D(e.get(0),"flexShrink",(0,l.$K)(n.shrink)?n.shrink:1),e.children().each(((e,t)=>{(0,a.Z)(t).css({width:"auto",height:"auto",display:(0,h.gC)("flexDirection")+"flex",flexBasis:0}),D(t,"flexGrow",1),D(t,"flexDirection",(0,a.Z)(t)[0].style.flexDirection||"column")}))}))}}class y extends c.Z{_getDefaultOptions(){return(0,s.l)(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return"dx-box-item"}_itemDataKey(){return _}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("dx-box-flex"),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new C(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return!this.option("_queue")&&!!this._queue.length}_pushItemToQueue(e,t){this._queue.push({$item:e,config:t})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass("dx-box"),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(e){for(super._renderItems(e);this._queueIsNotEmpty();){var t=this._shiftItemFromQueue();this._createComponent(t.$item,y,(0,s.l)({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},t.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(e){var t=e.itemData&&e.itemData.node;return t?this._renderItemContentByNode(e,t):super._renderItemContent(e)}_postprocessRenderItem(e){var t=e.itemData.box;t&&this._pushItemToQueue(e.itemContent,t)}_createItemByTemplate(e,t){return t.itemData.box?e.source?e.source():(0,a.Z)():super._createItemByTemplate(e,t)}_itemOptionChanged(e,t,i,a){"visible"===t&&this._onItemStateChanged({name:t,state:i,oldState:!1!==a}),super._itemOptionChanged(e,t,i)}_optionChanged(e){switch(e.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(e)}}_itemOptions(){var e=super._itemOptions();return e.fireItemStateChangedAction=e=>{this._onItemStateChanged(e)},e}}y.ItemClass=w,(0,n.Z)("dxBox",y);const x=y},45809:(e,t,i)=>{i.r(t),i.d(t,{default:()=>xt});var a,n=i(20486),s=i(66289),r=i(6206),o=i(55586),l=i(6343),h=i(34916),d=i(18330),u=i(91559),c=i(6232),_=e=>e.getMonth()+1,p=(e,t)=>{var i=e.getDate(),a=v("M",e),n=(0,h.n$)(parseInt(t),a.min,a.max);e.setMonth(n-1,1);var{min:s,max:r}=v("dM",e),o=(0,h.n$)(i,s,r);e.setDate(o)},g={a:e=>e.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:_,L:_,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},m=(0,l.l)({},(0,u.xe)(),{a:(e,t)=>{var i=e.getHours();i>=12!=!!parseInt(t)&&e.setHours((i+12)%24)},d:(e,t)=>{t>v("dM",e).max&&e.setMonth(e.getMonth()+1),e.setDate(t)},h:(e,t)=>{var i=e.getHours()>=12;e.setHours(+t%12+(i?12:0))},M:p,L:p,E:(e,t)=>{t<0||e.setDate(e.getDate()-e.getDay()+parseInt(t))},y:(e,t)=>{var i=e.getFullYear(),a=String(t).length,n=String(v("y",e).max).length,s=parseInt(String(i).substr(0,n-a)+t);e.setFullYear(s)}}),v=(e,t,i)=>{var a={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return a[i||e]||a.getAmPm},f=i(65968),D=i(88981),w=i(11147),C=i(17118),y=i(90414),x=i(76111),V=i(27329),b=i(73069),M=i(86043),B=i(11404),S=["year","day","month","day"],k=["hours","minutes","seconds","milliseconds"],Z={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:864e5,ONE_YEAR:31536e6,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:(a=new Date,new Date(a.getFullYear()+50,a.getMonth(),a.getDate(),23,59,59)),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:S},time:{getStandardPattern:function(){return"HH:mm"},components:k},datetime:{getStandardPattern:function(){var e,t;return(t=(0,M.Z)("<input>").attr("type","datetime")).val("2000-01-01T01:01Z"),t.val()&&(e="yyyy-MM-ddTHH:mmZ"),e||(e="yyyy-MM-ddTHH:mm:ssZ"),Z.FORMATS_INFO.datetime.getStandardPattern=function(){return e},e},components:[...S,...k]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...S,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(e,t){var i=Z.FORMATS_INFO[t].getStandardPattern();return B.Z.serializeDate(e,i)},fromStandardDateFormat:function(e){var t=B.Z.dateParser(e);return(0,r.J_)(t)?t:void 0},getMaxMonthDay:function(e,t){return new Date(e,t+1,0).getDate()},mergeDates:function(e,t,i){if(!t)return t||null;if(!e||isNaN(e.getTime())){var a=new Date(null);e=new Date(a.getFullYear(),a.getMonth(),a.getDate())}var n=new Date(e.valueOf()),s=Z.FORMATS_INFO[i];return(0,C.S6)(s.components,(function(){var e=Z.DATE_COMPONENTS_INFO[this];n[e.setter](t[e.getter]())})),n},getLongestCaptionIndex:function(e){var t,i=0,a=0;for(t=0;t<e.length;++t)e[t].length>a&&(i=t,a=e[t].length);return i},formatUsesMonthName:function(e){return f.Z.formatUsesMonthName(e)},formatUsesDayName:function(e){return f.Z.formatUsesDayName(e)},getLongestDate:function(e,t,i){var a=function(e){var t=typeof e;return"string"===t?"format":"object"===t&&void 0!==e.type?e.type:null}(e),n=9;a&&!Z.formatUsesMonthName(a)||(n=Z.getLongestCaptionIndex(t));var s=new Date(1888,n,21,23,59,59,999);if(!a||Z.formatUsesDayName(a)){var r=s.getDate()-s.getDay()+Z.getLongestCaptionIndex(i);s.setDate(r)}return s},normalizeTime:function(e){e.setSeconds(0),e.setMilliseconds(0)}};Z.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(e,t){var i=new Date(t.getTime());return i.setFullYear(e),f.Z.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(e,t){var i=new Date(t.getTime());return i.setDate(e),f.Z.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(e){return f.Z.getMonthNames()[e]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(e){return f.Z.format(new Date(0,0,0,e),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(e){return f.Z.format(new Date(0,0,0,0,e),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(e){return f.Z.format(new Date(0,0,0,0,0,e),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(e){return f.Z.format(new Date(0,0,0,0,0,0,e),"millisecond")},startValue:0,endValue:999}};const I=Z;var T=i(57659),O=i(25835),A=i(10003),E=i(25287),H=i(21678),P=i(56371),N=i(89529),F=i(90804),$=i(2918),R=i(59545);class L extends $.Z{_getDefaultOptions(){return(0,l.l)(super._getDefaultOptions(),{onClick:null,onCaptionClick:null,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return(0,R.x2)()},options:{type:"default",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()}_renderButtons(){var{rtlEnabled:e,type:t,stylingMode:i}=this.option();this._prevButton=this._createComponent((0,M.Z)("<div>"),P.default,{focusStateEnabled:!1,icon:e?"chevronright":"chevronleft",onClick:e=>{this._clickAction({direction:-1,event:e})},type:t,stylingMode:i,integrationOptions:{}});var a=this._prevButton.$element().addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent((0,M.Z)("<div>"),P.default,{focusStateEnabled:!1,icon:e?"chevronleft":"chevronright",onClick:e=>{this._clickAction({direction:1,event:e})},type:t,stylingMode:i,integrationOptions:{}});var n=this._nextButton.$element().addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent((0,M.Z)("<div>").addClass("dx-calendar-caption-button"),P.default,{focusStateEnabled:!1,onClick:e=>{this._captionClickAction({event:e})},type:t,stylingMode:i,template:(e,t)=>{var{text:i}=this.option();i.split(" - ").forEach((e=>{(0,M.Z)(t).append((0,M.Z)("<span>").addClass("dx-button-text").text(e))}))},integrationOptions:{}});var s=this._caption.$element();this.$element().append(a,s,n)}_renderCaption(){this._caption.option("text",this.option("text"))}toggleButton(e,t){var i=this["_"+e+"Button"];i&&(i.option("disabled",t),i.$element().toggleClass("dx-calendar-disabled-navigator-link",t))}_optionChanged(e){"text"===e.name?this._renderCaption():super._optionChanged(e)}}const z=L;var W=i(70508),Y=i(32966),K=i(32345),U=i(24547),q=i(91106),{abstract:j}=$.Z,J="dx-calendar-empty-cell",Q="dx-calendar-selected-date",G="dx-calendar-cell-in-range",X="dx-calendar-cell-range-hover",ee="dx-calendar-cell-range-hover-start",te="dx-calendar-cell-range-hover-end",ie="dx-calendar-range-start-date",ae="dx-calendar-range-end-date",ne="dx-calendar-contoured-date",se="td:not(.".concat("dx-calendar-week-number-cell",")"),re=(0,s.V4)(U.u,"dxCalendar"),oe=(0,s.V4)(q.B,"dxCalendar"),le="dxDateValueKey";const he=$.Z.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents()},_createTable:function(){this._$table=(0,M.Z)("<table>");var e=O.Z.format("dxCalendar-ariaWidgetName"),t=O.Z.format("dxCalendar-ariaHotKeysInfo");return this.setAria({label:"".concat(e,". ").concat(t),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=(0,M.Z)("<tbody>").appendTo(this._$table);for(var e={cellDate:this._getFirstCellData(),prevCellDate:null},t=0,i=this.option("rowCount");t<i;t++){e.row=this._createRow();for(var a=0,n=this.option("colCount");a<n;a++)this._renderCell(e,a);this._renderWeekNumberCell(e)}},_createRow:function(){var e=W.default.createElement("tr");return this.setAria("role","row",(0,M.Z)(e)),this.$body.get(0).appendChild(e),e},_createCell:function(e,t){var i=W.default.createElement("td"),a=(0,M.Z)(i);return i.className=this._getClassNameByDate(e,t),i.setAttribute("data-value",B.Z.serializeDate(e,b.Z.getShortDateFormat())),(0,Y.aT)(i,le,e),this.setAria({role:"gridcell",label:this.getCellAriaLabel(e)},a),{cell:i,$cell:a}},_renderCell:function(e,t){var{cellDate:i,prevCellDate:a,row:n}=e;a&&b.Z.fixTimezoneGap(a,i),e.prevCellDate=i;var{cell:s,$cell:r}=this._createCell(i,t),o=this.option("cellTemplate");(0,M.Z)(n).append(s),o?o.render(this._prepareCellTemplateData(i,t,r)):s.innerHTML=this._getCellText(i),e.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(e,t){var i="dx-calendar-cell";return this._isTodayCell(e)&&(i+=" ".concat("dx-calendar-today")),(this._isDateOutOfRange(e)||this.isDateDisabled(e))&&(i+=" ".concat(J)),this._isOtherView(e)&&(i+=" ".concat("dx-calendar-other-view")),"range"===this.option("selectionMode")&&(0===t&&(i+=" ".concat("dx-calendar-cell-start-in-row")),t===this.option("colCount")-1&&(i+=" ".concat("dx-calendar-cell-end-in-row")),this._isStartDayOfMonth(e)&&(i+=" ".concat("dx-calendar-cell-start")),this._isEndDayOfMonth(e)&&(i+=" ".concat("dx-calendar-cell-end"))),i},_prepareCellTemplateData:function(e,t,i){var a=e instanceof Date;return{model:{text:a?this._getCellText(e):e,date:a?e:void 0,view:this._getViewName()},container:(0,K.u)(i),index:t}},_renderEvents:function(){this._createCellClickAction(),d.Z.off(this._$table,re),d.Z.on(this._$table,re,se,(e=>{(0,M.Z)(e.currentTarget).hasClass(J)||this._cellClickAction({event:e,value:(0,M.Z)(e.currentTarget).data(le)})})),d.Z.off(this._$table,oe),"range"===this.option("selectionMode")&&(this._createCellHoverAction(),d.Z.on(this._$table,oe,se,(e=>{(0,M.Z)(e.currentTarget).hasClass(J)||this._cellHoverAction({event:e,value:(0,M.Z)(e.currentTarget).data(le)})})))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createCellHoverAction:function(){this._cellHoverAction=this._createActionByOption("onCellHover")},_createDisabledDatesHandler:function(){var e=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e||c.ZT},_getDefaultDisabledDatesHandler:function(e){return c.ZT},_isTodayCell:j,_isDateOutOfRange:j,isDateDisabled:function(e){var t={date:e,view:this._getViewName()};return this._disabledDatesHandler(t)},_isOtherView:j,_isStartDayOfMonth:j,_isEndDayOfMonth:j,_getCellText:j,_getFirstCellData:j,_getNextCellData:j,_renderContouredDate:function(e){if(this.option("focusStateEnabled")){e=e||this.option("contouredDate");var t=this._getContouredCell(),i=this._getCellByDate(e);t.removeClass(ne),e&&i.addClass(ne)}},_getContouredCell:function(){return this._$table.find(".".concat(ne))},_renderValue:function(){if(this.option("allowValueSelection")){var e=this.option("value");Array.isArray(e)||(e=[e]),this._updateSelectedClass(e)}},_updateSelectedClass:function(e){var t;this._isRangeMode()&&!this._isMonthView()||(null===(t=this._$selectedCells)||void 0===t||t.forEach((e=>{e.removeClass(Q)})),this._$selectedCells=e.map((e=>this._getCellByDate(e))),this._$selectedCells.forEach((e=>{e.addClass(Q)})))},_renderRange:function(){var e,t,i,a,n,s,r,o,{allowValueSelection:l,value:h,range:d}=this.option();l&&this._isRangeMode()&&this._isMonthView()&&(null===(e=this._$rangeCells)||void 0===e||e.forEach((e=>{e.removeClass(G)})),null===(t=this._$hoveredRangeCells)||void 0===t||t.forEach((e=>{e.removeClass(X)})),null===(i=this._$rangeStartHoverCell)||void 0===i||i.removeClass(ee),null===(a=this._$rangeEndHoverCell)||void 0===a||a.removeClass(te),null===(n=this._$rangeStartDateCell)||void 0===n||n.removeClass(ie),null===(s=this._$rangeEndDateCell)||void 0===s||s.removeClass(ae),this._$rangeCells=d.map((e=>this._getCellByDate(e))),this._$rangeStartDateCell=this._getCellByDate(h[0]),this._$rangeEndDateCell=this._getCellByDate(h[1]),this._$rangeCells.forEach((e=>{e.addClass(G)})),null===(r=this._$rangeStartDateCell)||void 0===r||r.addClass(ie),null===(o=this._$rangeEndDateCell)||void 0===o||o.addClass(ae))},_renderHoveredRange(){var e,t,i,a,n,{allowValueSelection:s,hoveredRange:r}=this.option();s&&this._isRangeMode()&&this._isMonthView()&&(null===(e=this._$hoveredRangeCells)||void 0===e||e.forEach((e=>{e.removeClass(X)})),null===(t=this._$rangeStartHoverCell)||void 0===t||t.removeClass(ee),null===(i=this._$rangeEndHoverCell)||void 0===i||i.removeClass(te),this._$hoveredRangeCells=r.map((e=>this._getCellByDate(e))),this._$rangeStartHoverCell=this._getCellByDate(r[0]),this._$rangeEndHoverCell=this._getCellByDate(r[r.length-1]),this._$hoveredRangeCells.forEach((e=>{e.addClass(X)})),null===(a=this._$rangeStartHoverCell)||void 0===a||a.addClass(ee),null===(n=this._$rangeEndHoverCell)||void 0===n||n.addClass(te))},_isMonthView:function(){return"month"===this.option("zoomLevel")},_isRangeMode:function(){return"range"===this.option("selectionMode")},getCellAriaLabel:function(e){return this._getCellText(e)},_getFirstAvailableDate:function(){var e=this.option("date"),t=this.option("min");return e=b.Z.getViewFirstCellDate(this._getViewName(),e),new Date(t&&e<t?t:e)},_getCellByDate:j,isBoundary:j,_optionChanged:function(e){var{name:t,value:i}=e;switch(t){case"value":this._renderValue();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:this.callBase(e)}}}),de={month:he.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat("dx-calendar-other-view")).addClass("dx-calendar-other-month")},_renderFocusTarget:c.ZT,getCellAriaLabel:function(e){return f.Z.format(e,"longdate")},_renderHeader:function(){var e=(0,M.Z)("<tr>"),t=(0,M.Z)("<thead>").append(e);this._$table.prepend(t);for(var i=0,a=this.option("colCount");i<a;i++)this._renderHeaderCell(i,e);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(e)},_renderHeaderCell:function(e,t){var{firstDayOfWeek:i}=this.option(),{full:a,abbreviated:n}=this._getDayCaption(i+e),s=(0,M.Z)("<th>").attr({scope:"col",abbr:a}).text(n);t.append(s)},_renderWeekHeaderCell:function(e){var t=(0,M.Z)("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});e.prepend(t)},_renderWeekNumberCell:function(e){var{showWeekNumbers:t,cellTemplate:i}=this.option();if(t){var a=this._getWeekNumber(e.prevCellDate),n=W.default.createElement("td"),s=(0,M.Z)(n);n.className="dx-calendar-week-number-cell",i?i.render(this._prepareCellTemplateData(a,-1,s)):n.innerHTML=a,e.row.prepend(n),this.setAria({role:"gridcell",label:"Week ".concat(a)},s)}},_getWeekNumber:function(e){var{weekNumberRule:t,firstDayOfWeek:i}=this.option();return"auto"===t?b.Z.getWeekNumber(e,i,1===i?"firstFourDays":"firstDay"):b.Z.getWeekNumber(e,i,t)},getNavigatorCaption:function(){return f.Z.format(this.option("date"),"monthandyear")},_isTodayCell:function(e){var t=this.option("_todayDate")();return b.Z.sameDate(e,t)},_isDateOutOfRange:function(e){var t=this.option("min"),i=this.option("max");return!b.Z.dateInRange(e,t,i,"date")},_isOtherView:function(e){return e.getMonth()!==this.option("date").getMonth()},_isStartDayOfMonth:function(e){return b.Z.sameDate(e,b.Z.getFirstMonthDate(this.option("date")))},_isEndDayOfMonth:function(e){return b.Z.sameDate(e,b.Z.getLastMonthDate(this.option("date")))},_getCellText:function(e){return f.Z.format(e,"d")},_getDayCaption:function(e){var t=e%this.option("colCount");return{full:f.Z.getDayNames()[t],abbreviated:f.Z.getDayNames("abbreviated")[t]}},_getFirstCellData:function(){var{firstDayOfWeek:e}=this.option(),t=b.Z.getFirstMonthDate(this.option("date")),i=e-t.getDay(),a=this.option("colCount");return i>=0&&(i-=a),t.setDate(t.getDate()+i),t},_getNextCellData:function(e){return(e=new Date(e)).setDate(e.getDate()+1),e},_getCellByDate:function(e){return this._$table.find("td[data-value='".concat(B.Z.serializeDate(e,b.Z.getShortDateFormat()),"']"))},isBoundary:function(e){return b.Z.sameMonthAndYear(e,this.option("min"))||b.Z.sameMonthAndYear(e,this.option("max"))},_getDefaultDisabledDatesHandler:function(e){return function(t){if(e.some((function(e){return b.Z.sameDate(e,t.date)})))return!0}}}),year:he.inherit({_getViewName:function(){return"year"},_isTodayCell:function(e){var t=this.option("_todayDate")();return b.Z.sameMonthAndYear(e,t)},_isDateOutOfRange:function(e){return!b.Z.dateInRange(e,b.Z.getFirstMonthDate(this.option("min")),b.Z.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(e){return f.Z.getMonthNames("abbreviated")[e.getMonth()]},_getFirstCellData:function(){var e=this.option("date"),t=new Date(e);return t.setDate(1),t.setMonth(0),t},_getNextCellData:function(e){return(e=new Date(e)).setMonth(e.getMonth()+1),e},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),this._$table.find("td[data-value='".concat(B.Z.serializeDate(t,b.Z.getShortDateFormat()),"']"))},getCellAriaLabel:function(e){return f.Z.format(e,"monthandyear")},getNavigatorCaption:function(){return f.Z.format(this.option("date"),"yyyy")},isBoundary:function(e){return b.Z.sameYear(e,this.option("min"))||b.Z.sameYear(e,this.option("max"))},_renderWeekNumberCell:c.ZT}),decade:he.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(e){var t=this.option("_todayDate")();return b.Z.sameYear(e,t)},_isDateOutOfRange:function(e){var t=this.option("min"),i=this.option("max");return!b.Z.dateInRange(e.getFullYear(),t&&t.getFullYear(),i&&i.getFullYear())},_isOtherView:function(e){var t=new Date(e);return t.setMonth(1),!b.Z.sameDecade(t,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(e){return f.Z.format(e,"yyyy")},_getFirstCellData:function(){var e=b.Z.getFirstYearInDecade(this.option("date"))-1;return b.Z.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()+1),e},getNavigatorCaption:function(){var e=this.option("date"),t=b.Z.getFirstYearInDecade(e),i=new Date(e),a=new Date(e);return i.setFullYear(t),a.setFullYear(t+9),f.Z.format(i,"yyyy")+"-"+f.Z.format(a,"yyyy")},_isValueOnCurrentView:function(e,t){return b.Z.sameDecade(e,t)},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),this._$table.find("td[data-value='".concat(B.Z.serializeDate(t,b.Z.getShortDateFormat()),"']"))},isBoundary:function(e){return b.Z.sameDecade(e,this.option("min"))||b.Z.sameDecade(e,this.option("max"))},_renderWeekNumberCell:c.ZT}),century:he.inherit({_getViewName:function(){return"century"},_isTodayCell:function(e){var t=this.option("_todayDate")();return b.Z.sameDecade(e,t)},_isDateOutOfRange:function(e){var t=b.Z.getFirstYearInDecade(e),i=b.Z.getFirstYearInDecade(this.option("min")),a=b.Z.getFirstYearInDecade(this.option("max"));return!b.Z.dateInRange(t,i,a)},_isOtherView:function(e){var t=new Date(e);return t.setMonth(1),!b.Z.sameCentury(t,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(e){var t=f.Z.format(e,"yyyy"),i=new Date(e);return i.setFullYear(i.getFullYear()+9),t+" - "+f.Z.format(i,"yyyy")},_getFirstCellData:function(){var e=b.Z.getFirstDecadeInCentury(this.option("date"))-10;return b.Z.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return(e=new Date(e)).setFullYear(e.getFullYear()+10),e},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(b.Z.getFirstYearInDecade(t)),this._$table.find("td[data-value='".concat(B.Z.serializeDate(t,b.Z.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var e=this.option("date"),t=b.Z.getFirstDecadeInCentury(e),i=new Date(e),a=new Date(e);return i.setFullYear(t),a.setFullYear(t+99),f.Z.format(i,"yyyy")+"-"+f.Z.format(a,"yyyy")},isBoundary:function(e){return b.Z.sameCentury(e,this.option("min"))||b.Z.sameCentury(e,this.option("max"))},_renderWeekNumberCell:c.ZT})};var ue=i(5968),ce=i(15631),_e=i(697);const pe=class{constructor(e){this.calendar=e}dateOption(e){return this.calendar._dateOption(e)}dateValue(e,t){this.calendar._dateValue(e,t)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,t){this.calendar._updateAriaSelected(e,t),e[0]&&this.calendar.option("currentDate").getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,t){var i,a;e=(null===(i=e)||void 0===i?void 0:i.map((e=>this._convertToDate(e))))||[],t=(null===(a=t)||void 0===a?void 0:a.map((e=>this._convertToDate(e))))||[],this._updateViewsValue(e),this.updateAriaSelected(e,t),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_getLowestDateInArray(e){if(e.length)return new Date(Math.min(...e))}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,t){this.calendar._updateViewsOption(e,t)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",null!=e?e:new Date)}};var ge=10368e6;var me="dx-calendar-view",ve=250,fe=(0,s.V4)(q.u,"dxCalendar"),De={month:3,year:2,decade:1,century:0},we="month",Ce="year",ye="decade",xe="century",Ve={SingleSelection:class extends pe{constructor(e){super(e),this.NAME="SingleSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"single"}}selectValue(e,t){this.skipNavigate(),this.dateValue(e,t)}updateAriaSelected(e,t){var i,a;null!==(i=e)&&void 0!==i||(e=[this.dateOption("value")]),null!==(a=t)&&void 0!==a||(t=[]),super.updateAriaSelected(e,t)}getDefaultCurrentDate(){return this.dateOption("value")}_updateViewsValue(e){this._updateViewsOption("value",e[0])}},MultiSelection:class extends pe{constructor(e){super(e),this.NAME="MultiSelection"}getViewOptions(){return{value:this.dateOption("values"),range:[],selectionMode:"multi"}}selectValue(e,t){var i=[...this.dateOption("values")],a=i.findIndex((t=>(null==t?void 0:t.toDateString())===e.toDateString()));a>-1?i.splice(a,1):i.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(i,t)}updateAriaSelected(e,t){var i,a;null!==(i=e)&&void 0!==i||(e=this.dateOption("values")),null!==(a=t)&&void 0!==a||(t=[]),super.updateAriaSelected(e,t)}getDefaultCurrentDate(){var e=this.dateOption("values").filter((e=>e));return this._getLowestDateInArray(e)}},RangeSelection:class extends pe{constructor(e){super(e),this.NAME="RangeSelection"}getViewOptions(){var e=this._getValues();return{value:e,range:this._getDaysInRange(e[0],e[1]),selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this)}}selectValue(e,t){var[i,a]=this._getValues();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,!0===this.calendar.option("_allowChangeSelectionOrder")?(this.calendar._valueSelected=!0,"startDate"===this.calendar.option("_currentSelection")?this.calendar._convertToDate(e)>this.calendar._convertToDate(a)?this.dateValue([e,null],t):this.dateValue([e,a],t):this.calendar._convertToDate(e)>=this.calendar._convertToDate(i)?this.dateValue([i,e],t):this.dateValue([e,null],t)):!i||a?this.dateValue([e,null],t):this.dateValue(i<e?[i,e]:[e,i],t)}updateAriaSelected(e,t){var i,a;null!==(i=e)&&void 0!==i||(e=this._getValues()),null!==(a=t)&&void 0!==a||(t=[]),super.updateAriaSelected(e,t)}processValueChanged(e,t){super.processValueChanged(e,t);var i=this._getRange();this._updateViewsOption("range",i)}getDefaultCurrentDate(){var{_allowChangeSelectionOrder:e,_currentSelection:t}=this.calendar.option(),i=this.dateOption("values");if(e){if("startDate"===t&&i[0])return i[0];if("endDate"===t&&i[1])return i[1]}var a=i.filter((e=>e));return this._getLowestDateInArray(a)}_getValues(){var e=this.dateOption("values");if(!e.length)return e;var[t,i]=e;return t&&i&&t>i&&([t,i]=[i,t]),[t,i]}_getRange(){var[e,t]=this._getValues();return this._getDaysInRange(e,t)}_getDaysInRange(e,t){if(!e||!t)return[];var i=this.calendar.option("currentDate").getTime(),a=new Date(Math.max(i-ge,e)),n=new Date(Math.min(i+ge,t));return[...b.Z.getDatesOfInterval(a,n,864e5),n]}_cellHoverHandler(e){var t=this._isMaxZoomLevel(),[i,a]=this._getValues(),{_allowChangeSelectionOrder:n,_currentSelection:s}=this.calendar.option();if(t){if(!i||a||n&&"startDate"===s){if(i||!a||n&&"endDate"===s){if(i&&a){if("startDate"===s&&e.value<i)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,i));if("endDate"===s&&e.value>a)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(a,e.value))}}else if(e.value<a)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,a))}else if(e.value>i)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(i,e.value));this._updateViewsOption("hoveredRange",[])}}}},be=N.Z.inherit({_activeStateUnit:".dx-calendar-cell",_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,values:[],dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,viewsCount:1,zoomLevel:we,maxZoomLevel:we,minZoomLevel:xe,selectionMode:"single",showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===x.Z.real().deviceType&&!x.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return(0,l.l)(this.callBase(),{rightArrow:function(e){e.preventDefault(),(0,s.j1)(e)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(e){e.preventDefault(),(0,s.j1)(e)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(e){if(e.preventDefault(),(0,s.j1)(e))this._navigateUp();else{if(ce.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(e){if(e.preventDefault(),(0,s.j1)(e))this._navigateDown();else{if(ce.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),a=this._dateOption("min");if(!this._view.isDateDisabled(i)){var n=b.Z.sameView(t,i,a)?a:b.Z.getViewFirstCellDate(t,i);this._moveToClosestAvailableDate(n)}},end:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),a=this._dateOption("max");if(!this._view.isDateDisabled(i)){var n=b.Z.sameView(t,i,a)?a:b.Z.getViewLastCellDate(t,i);this._moveToClosestAvailableDate(n)}},pageUp:function(e){e.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(e){e.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:c.ZT,enter:this._enterKeyHandler})},_enterKeyHandler:function(e){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var t=this._updateTimeComponent(this.option("currentDate"));this._selectionStrategy.selectValue(t,e)}}else this._navigateDown()},_getSerializationFormat:function(e){var t=this.option(e||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):(0,r.kE)(t)?"number":(0,r.HD)(t)?B.Z.getDateSerializationFormat(t):void 0},_convertToDate:function(e){return B.Z.deserializeDate(e)},_dateValue:function(e,t){var i=Array.isArray(e)?"values":"value";if(t){if("keydown"===t.type){var a=this._view._getContouredCell().get(0);t.target=a}this._saveValueChangeEvent(t)}this._dateOption(i,e)},_dateOption:function(e,t){if(1===arguments.length){var i,a=null!==(i=this.option("values"))&&void 0!==i?i:[];return"values"===e?a.map((e=>this._convertToDate(e))):this._convertToDate(this.option(e))}var n=this._getSerializationFormat(e),s="values"===e?(null==t?void 0:t.map((e=>B.Z.serializeDate(e,n))))||[]:B.Z.serializeDate(t,n);this.option(e,s)},_shiftDate:function(e,t,i,a){switch(e){case we:t.setDate(t.getDate()+i*a);break;case Ce:t.setMonth(t.getMonth()+i*a);break;case ye:t.setFullYear(t.getFullYear()+i*a);break;case xe:t.setFullYear(t.getFullYear()+10*i*a)}},_moveCurrentDateByOffset:function(e){var t=this.option("currentDate"),i=new Date(t),a=this.option("zoomLevel");this._shiftDate(a,i,e,1);for(var n=this._getMaxDate(),s=this._getMinDate(),r=this._areDatesInNeighborView(a,i,t),o=(0,h.Z2)(i,s,n)&&r,l=new Date(i);o;){if(!this._view.isDateDisabled(l)){i=l;break}this._shiftDate(a,l,e,1),r=this._areDatesInNeighborView(a,l,t),o=(0,h.Z2)(l,s,n)&&r}this._view.isDateDisabled(t)||this._view.isDateDisabled(i)?this._waitRenderView(e>0?1:-1):(this._skipNavigate=!0,this.option("currentDate",i))},_areDatesInSameView(e,t,i){switch(e){case we:return t.getMonth()===i.getMonth();case Ce:return t.getYear()===i.getYear();case ye:return parseInt(t.getYear()/10)===parseInt(i.getYear()/10);case xe:return parseInt(t.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView(e,t,i){switch(e){case we:return a=t.getMonth(),n=i.getMonth(),s=Math.abs(a-n),Math.min(s,12-s)<=1;case Ce:return Math.abs(t.getYear()-i.getYear())<=1;case ye:return Math.abs(t.getYear()-i.getYear())<=10;case xe:return Math.abs(t.getYear()-i.getYear())<=100}var a,n,s},_moveToClosestAvailableDate:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),a=new Date(i),n=this.option("zoomLevel"),s=!this._isDateNotAvailable(a),r=s,o=s,l=new Date(a),h=new Date(a);do{if(r){a=l;break}if(o){a=h;break}this._shiftDate(n,l,1,1),this._shiftDate(n,h,1,-1),e=this._areDatesInSameView(n,l,i),t=this._areDatesInSameView(n,h,i),r=e&&!this._isDateNotAvailable(l),o=t&&!this._isDateNotAvailable(h)}while(e||t);this.option("currentDate",a)},_isDateNotAvailable:function(e){var t=this._getMaxDate(),i=this._getMinDate();return!(0,h.Z2)(e,i,t)||this._view.isDateDisabled(e)},_init:function(){this.callBase(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_initSelectionStrategy:function(){var e=this._getSelectionStrategyName(),t=Ve[e];this._selectionStrategy&&this._selectionStrategy.NAME===e||(this._selectionStrategy=new t(this))},_refreshSelectionStrategy:function(){this._initSelectionStrategy(),this._refresh()},_getSelectionStrategyName:function(){switch(this.option("selectionMode")){case"multi":return"MultiSelection";case"range":return"RangeSelection";default:return"SingleSelection"}},_correctZoomLevel:function(){var e=this.option("minZoomLevel"),t=this.option("maxZoomLevel"),i=this.option("zoomLevel");De[t]<De[e]||(De[i]>De[t]?this.option("zoomLevel",t):De[i]<De[e]&&this.option("zoomLevel",e))},_initCurrentDate:function(){var e,t=null!==(e=this._getNormalizedDate(this._selectionStrategy.getDefaultCurrentDate()))&&void 0!==e?e:this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",t)},_getNormalizedDate:function(e){return e=b.Z.normalizeDate(e,this._getMinDate(),this._getMaxDate()),(0,r.$K)(e)?this._getDate(e):e},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new _e.k((function(e){var t=e.model;(0,M.Z)(e.container).append((0,M.Z)("<span>").text(t&&t.text||String(t)))}))}),this.callBase()},_updateCurrentDate:function(e){if(ce.Z.isAnimating(this._$viewsWrapper)&&ce.Z.stop(this._$viewsWrapper,!0),this._getMinDate()>this._getMaxDate())this.option("currentDate",new Date);else{var t=this._getNormalizedDate(e);if(e.getTime()===t.getTime()){var i=this._getViewsOffset(this._view.option("date"),t);0!==i&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(i=0),this._view&&0!==i&&!this._suppressNavigation?this._additionalView?i>2||i<-1?(this._refreshViews(),this._setViewContoured(t),this._updateAriaId(t),this._renderNavigator()):1===i&&this._skipNavigate?(this._setViewContoured(t),this._updateAriaId(t)):this._navigate(i,t):this._navigate(i,t):(this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t)),this._skipNavigate=!1}else this.option("currentDate",new Date(t))}},_isAdditionalViewDate(e){return!!this._additionalView&&e>=this._additionalView._getFirstAvailableDate()},_getActiveView:function(e){return this._isAdditionalViewDate(e)?this._additionalView:this._view},_setViewContoured:function(e){var t;(this.option("skipFocusCheck")||this._focusTarget().hasClass("dx-state-focused"))&&(this._view.option("contouredDate",null),null===(t=this._additionalView)||void 0===t||t.option("contouredDate",null),(this._isAdditionalViewDate(e)?this._additionalView:this._view).option("contouredDate",e))},_getMinDate:function(){return this.option("_rangeMin")||(this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min)},_getMaxDate:function(){return this.option("_rangeMax")||(this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max)},_getViewsOffset:function(e,t){var i,a=this.option("zoomLevel");if(a===we)return this._getMonthsOffset(e,t);switch(a){case xe:i=100;break;case ye:i=10;break;default:i=1}return parseInt(t.getFullYear()/i)-parseInt(e.getFullYear()/i)},_getMonthsOffset:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},_waitRenderView:function(e){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var t=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(t),this._waitRenderViewTimeout=setTimeout((()=>{this._alreadyViewRender=!1}))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(e,t){var i,a=(t=this._getDate(null!==(i=t)&&void 0!==i?i:this.option("currentDate"))).getDate(),n=b.Z.getDifferenceInMonth(this.option("zoomLevel"))*e;t.setDate(1),t.setMonth(t.getMonth()+n);var s=b.Z.getLastMonthDate(t).getDate();return t.setDate(a>s?s:a),t},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var e=this.$element();e.addClass("dx-calendar"),e.toggleClass("dx-calendar-range","range"===this.option("selectionMode")),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderEvents(),this._renderNavigator(),e.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this.setAria("role","application"),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=(0,M.Z)("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=(0,M.Z)("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(me+"-"+this.option("zoomLevel"));var{currentDate:e,viewsCount:t}=this.option();if(this.$element().toggleClass("dx-calendar-multiview",t>1),this._view=this._renderSpecificView(e),(0,w.Ym)()){var i=this._getDateByOffset(-1,e);this._beforeView=this._isViewAvailable(i)?this._renderSpecificView(i):null;var a=this._getDateByOffset(t,e);a.setDate(1),this._afterView=this._isViewAvailable(a)?this._renderSpecificView(a):null}t>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,e))),this._translateViews()},_renderSpecificView:function(e){var{zoomLevel:t}=this.option(),i=de[t],a=(0,M.Z)("<div>").appendTo(this._$viewsWrapper),n=this._viewConfig(e);return this._createComponent(a,i,n)},_viewConfig:function(e){var t,i=this.option("disabledDates");return i=(0,r.mf)(i)?this._injectComponent(i.bind(this)):i,(0,A.Z)({},this._selectionStrategy.getViewOptions(),{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:null!==(t=this.option("firstDayOfWeek"))&&void 0!==t?t:f.Z.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:i,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")})},_renderEvents(){d.Z.off(this._$viewsWrapper,fe),"range"===this.option("selectionMode")&&d.Z.on(this._$viewsWrapper,fe,null,(e=>{this._updateViewsOption("hoveredRange",[])}))},_injectComponent:function(e){var t=this;return function(i){return(0,l.l)(i,{component:t}),e(i)}},_isViewAvailable:function(e){var t=this.option("zoomLevel"),i=b.Z.getViewMinBoundaryDate(t,this._getMinDate()),a=b.Z.getViewMaxBoundaryDate(t,this._getMaxDate());return b.Z.dateInRange(e,i,a)},_translateViews:function(){var{viewsCount:e}=this.option();(0,ue.pB)(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,e),this._moveViewElement(this._additionalView,1)},_moveViewElement(e,t){e&&(0,ue.pB)(e.$element(),{left:this._getViewPosition(t),top:0})},_getViewPosition:function(e){return 100*e*(this.option("rtlEnabled")?-1:1)+"%"},_cellClickHandler:function(e){var t=this.option("zoomLevel"),i=b.Z.getViewDown(t),a=this._isMaxZoomLevel();if(i&&!a)this._navigateDown(e.event.currentTarget);else{var n=this._updateTimeComponent(e.value);this._selectionStrategy.selectValue(n,e.event),this._cellClickAction(e)}},_updateTimeComponent:function(e){var t=new Date(e),i=this._dateOption("value");return i&&(t.setHours(i.getHours()),t.setMinutes(i.getMinutes()),t.setSeconds(i.getSeconds()),t.setMilliseconds(i.getMilliseconds())),t},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(e){var t=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=b.Z.getViewDown(t);if(i){var a=this._view.option("contouredDate")||this._view.option("date");e&&(a=(0,M.Z)(e).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",a),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new z((0,M.Z)("<div>"),this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()},_navigatorConfig:function(){var{rtlEnabled:e}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:e}},_navigatorClickHandler:function(e){var{currentDate:t,viewsCount:i}=this.option(),a=e.direction;if(i>1){var n=this._isAdditionalViewDate(t);(n&&a<0||!n&&a>0)&&(a*=2)}var s=this._getDateByOffset(a,t);this._moveToClosestAvailableDate(s)},_navigateUp:function(){var e=this.option("zoomLevel"),t=b.Z.getViewUp(e);t&&!this._isMinZoomLevel(e)&&(this.option("zoomLevel",t),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(e){var t=this._getMinDate(),i=this._getMaxDate();return b.Z.sameView(e,t,i)||this.option("minZoomLevel")===e},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!(0,r.$K)(this._afterView)),this._navigator.toggleButton("prev",!(0,r.$K)(this._beforeView))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),F.Z,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(e){ce.Z.stop(this._$viewsWrapper,!0);var{viewsCount:t}=this.option();this._toggleGestureCoverCursor("grabbing"),e.event.maxLeftOffset=this._getRequiredView("next")?1/t:0,e.event.maxRightOffset=this._getRequiredView("prev")?1/t:0},_toggleGestureCoverCursor:function(e){(0,M.Z)(".".concat("dx-gesture-cover")).css("cursor",e)},_getRequiredView:function(e){var t,i=this.option("rtlEnabled");return"next"===e?t=i?this._beforeView:this._afterView:"prev"===e&&(t=i?this._afterView:this._beforeView),t},_swipeUpdateHandler:function(e){var t=e.event.offset;(0,ue.pB)(this._$viewsWrapper,{left:t*this._viewWidth(),top:0}),this._updateNavigatorCaption(t)},_swipeEndHandler:function(e){this._toggleGestureCoverCursor("auto");var{currentDate:t,rtlEnabled:i}=this.option(),a=e.event.targetOffset,n=a?a/Math.abs(a):0,s=this._isAdditionalViewDate(t)&&(i?-1===n:1===n);if(0!==n){var r=-n*this._getRtlCorrection()*(s?2:1),o=this._getDateByOffset(r);this._isDateInInvalidRange(o)&&(o=n>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",o)}else this._animateWrapper(0,ve)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=(0,E.dz)(this.$element())/this.option("viewsCount")),this._viewWidthValue},_updateNavigatorCaption:function(e){e*=this._getRtlCorrection();var t,i,a=this.option("viewsCount")>1;e>.5&&this._beforeView?(t=this._beforeView,i=a&&this._view):e<-.5&&this._afterView?(t=a?this._additionalView:this._afterView,i=a?this._afterView:null):(t=this._view,i=a?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(t,i))},_getViewsCaption:function(e,t){var i=e.getNavigatorCaption(),{viewsCount:a}=this.option();if(a>1&&t){var n=t.getNavigatorCaption();i="".concat(i," - ").concat(n)}return i},_isDateInInvalidRange:function(e){if(!this._view.isBoundary(e)){var t=this._getMinDate(),i=this._getMaxDate(),a=b.Z.normalizeDate(e,t,i);return a===t||a===i}},_renderFooter:function(){var e=this.option("showTodayButton");if(e){var t=this._createComponent((0,M.Z)("<div>"),P.default,{focusStateEnabled:this.option("focusStateEnabled"),text:O.Z.format("dxCalendar-todayButtonText"),onClick:e=>{this._toTodayView(e)},type:"default",stylingMode:"text",integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=(0,M.Z)("<div>").addClass("dx-calendar-footer").append(t),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",e)},_renderSubmitElement:function(){this._$submitElement=(0,M.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){var t=this._convertToDate(e);this._getSubmitElement().val(B.Z.serializeDate(t,"yyyy-MM-dd"))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){ce.Z.stop(this._view.$element(),!0),this._popAnimationView(this._view,.6,1,ve),this.option("viewsCount")>1&&(ce.Z.stop(this._additionalView.$element(),!0),this._popAnimationView(this._additionalView,.6,1,ve))},_popAnimationView:function(e,t,i,a){return ce.Z.animate(e.$element(),{type:"pop",from:{scale:t,opacity:t},to:{scale:i,opacity:i},duration:a})},_navigate:function(e,t){if(0!==e&&1!==Math.abs(e)&&this._isViewAvailable(t)){var i=this._renderSpecificView(t);e>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var a=-this._getRtlCorrection()*(e>0?1:e<0?-1:0)*this._viewWidth();this._$viewsWrapper.position().left!==a&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,t):this._animateWrapper(a,ve).done(this._wrapperAnimationEndHandler.bind(this,e,t)))},_animateWrapper:function(e,t){return ce.Z.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})},_getDate:e=>new Date(e),_toTodayView:function(e){var t=new Date;this._isMaxZoomLevel()?this._selectionStrategy.selectValue(t,e.event):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(t,e.event),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t),this._selectionStrategy.updateAriaSelected()},_rearrangeViews:function(e){var t;if(0!==e){var i,a,n,s,r,{viewsCount:o}=this.option();if(e<0?(i=1,a="_beforeView",n="_afterView",s="_view",r=1===o?"_view":"_additionalView"):(i=-1,a="_afterView",n="_beforeView",s=1===o?"_view":"_additionalView",r="_view"),this[a]){var l=this[a].option("date");null===(t=this[n])||void 0===t||t.$element().remove(),this[n]=this._renderSpecificView(this._getDateByOffset(i*o,l)),this[r].$element().remove(),1===o?this[r]=this[a]:(this[r]=this[s],this[s]=this[a]);var h=this._getDateByOffset(-i,l);this[a]=this._isViewAvailable(h)?this._renderSpecificView(h):null}}},_resetLocation:function(){(0,ue.pB)(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._additionalView&&this._additionalView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._resetActiveState(),this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._setViewContoured(this.option("currentDate"))},_focusOutHandler:function(){var e;this.callBase.apply(this,arguments),this._view.option("contouredDate",null),null===(e=this._additionalView)||void 0===e||e.option("contouredDate",null)},_updateViewsOption:function(e,t){var i,a,n;this._view.option(e,t),null===(i=this._additionalView)||void 0===i||i.option(e,t),null===(a=this._beforeView)||void 0===a||a.option(e,t),null===(n=this._afterView)||void 0===n||n.option(e,t)},_setViewsMinOption:function(e){this._restoreViewsMinMaxOptions(),this.option("_rangeMin",this._convertToDate(e)),this._updateViewsOption("min",this._getMinDate())},_setViewsMaxOption:function(e){this._restoreViewsMinMaxOptions(),this.option("_rangeMax",this._convertToDate(e)),this._updateViewsOption("max",this._getMaxDate())},_restoreViewsMinMaxOptions:function(){this.option({_rangeMin:null,_rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())},_updateAriaSelected:function(e,t){t.forEach((e=>{this.setAria("selected",void 0,this._view._getCellByDate(e))})),e.forEach((e=>{this.setAria("selected",!0,this._view._getCellByDate(e))})),this.option("viewsCount")>1&&(t.forEach((e=>{this.setAria("selected",void 0,this._additionalView._getCellByDate(e))})),e.forEach((e=>{this.setAria("selected",!0,this._additionalView._getCellByDate(e))})))},_updateAriaId:function(e){var t;e=null!==(t=e)&&void 0!==t?t:this.option("currentDate");var i="dx-"+new H.Z,a=this._getActiveView(e)._getCellByDate(e);this.setAria("id",i,a),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation},_optionChanged:function(e){var{value:t,previousValue:i}=e;switch(e.name){case"width":this.callBase(e),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(t);break;case"zoomLevel":this.$element().removeClass(me+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":"single"===this.option("selectionMode")&&this._selectionStrategy.processValueChanged([t],[i]),this._setSubmitValue(t),this.callBase(e);break;case"values":"single"!==this.option("selectionMode")&&this._selectionStrategy.processValueChanged(t,i),this._raiseValueChangeAction(t,i),this._saveValueChangeEvent(void 0);break;case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",t);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;default:this.callBase(e)}},getContouredDate:function(){return this._view.option("contouredDate")}});(0,n.Z)("dxCalendar",be);const Me=be;var Be=i(57131),Se=Be.Z.abstract;const ke=Be.Z.inherit({ctor:function(e){this.dateBox=e},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(e){e=e||(0,M.Z)("<div>"),this._widget=this._createWidget(e),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(e){var t=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(e,t,i)},_getWidgetOptions:Se,_getWidgetName:Se,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:Se,supportedKeys:c.ZT,getKeyboardListener:c.ZT,customizeButtons:c.ZT,getParsedText:function(e,t){return f.Z.parse(e,t)||f.Z.parse(e)},renderInputMinMax:c.ZT,renderOpenedState:function(){this._updateValue()},popupConfig:Se,_dimensionChanged:function(){var e;null===(e=this._getPopup())||void 0===e||e.repaint()},renderPopupContent:function(){var e=this._getPopup();this._renderWidget();var t=e.$content().parent();d.Z.off(t,"mousedown"),d.Z.on(t,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:c.ZT,getLastPopupElement:c.ZT,_preventFocusOnPopup:function(e){e.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:c.ZT,popupHiddenHandler:c.ZT,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:c.ZT,getDefaultDate:function(){return new Date},textChangedHandler:c.ZT,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var e=this._getPopup();e&&e.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),Ze=ke.inherit({NAME:"Calendar",getDefaultOptions:function(){return(0,l.l)(this.callBase(),{todayButtonText:O.Z.format("dxCalendar-todayButtonText")})},supportedKeys:function(){var e=function(e){return!!this.option("opened")&&(e.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(e){if(this.dateBox.option("opened")){if(e.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var t=this._getContouredValue(),i=this._lastActionElement,a=this._closeDropDownByEnter();return a&&t&&"calendar"===i&&this.dateBoxValue(t,e),a&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(e),!a}return!0}this.dateBox._valueChangeEventHandler(e)}.bind(this),home:e,end:e}},getDisplayFormat:function(e){return e||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return Me},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var e=this.dateBox.option("disabledDates");return(0,l.l)(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:(0,r.mf)(e)?this._injectComponent(e.bind(this.dateBox)):e,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(e){var t=this;return function(i){return(0,l.l)(i,{component:t.dateBox}),e(i)}},_refreshActiveDescendant:function(e){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",e.actionValue)},_getTodayButtonConfig(){var e=this.dateBox.option("buttonsLocation"),t="default"===e?["bottom","center"]:(0,c.Um)(e);return{widget:"dxButton",toolbar:t[0],location:"after"===t[1]?"before":t[1],options:{onInitialized:function(e){e.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:e=>{this._widget._toTodayView(e)},text:this.dateBox.option("todayButtonText"),type:"today"}}},_isCalendarVisible:function(){var{calendarOptions:e}=this.dateBox.option();return(0,r.Qr)(e)||!1!==e.visible},_getPopupToolbarItems(e){return"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()?[this._getTodayButtonConfig(),...e]:e},popupConfig:function(e){return(0,l.l)(!0,e,{position:{collision:"flipfit flip"},width:"auto"})},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(e){var t=e.value,i=e.previousValue;b.Z.sameDate(t,i)&&b.Z.sameHoursAndMinutes(t,i)||"instantly"===this.dateBox.option("applyValueMode")&&this.dateBoxValue(this.getValue(),e.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(e){var t=this.dateBox;"instantly"===t.option("applyValueMode")&&(t.option("opened",!1),this.dateBoxValue(this.getValue(),e.event))}});var Ie=i(28505),Te=i(23672),Oe="dx-dateview-item";class Ae extends Ie.Z{_getDefaultOptions(){return(0,l.l)(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){d.Z.on((0,M.Z)(this.container()),"dxmousewheel",(e=>{this._isWheelScrolled=!0}))}_renderContainerClick(){if(this.option("showOnClick")){var e=(0,s.V4)(U.u,this.NAME),t=this._createActionByOption("onClick");d.Z.off((0,M.Z)(this.container()),e),d.Z.on((0,M.Z)(this.container()),e,(function(e){t({event:e})}))}}_renderItems(){var e=this.option("items")||[],t=(0,M.Z)();(0,M.Z)(this.content()).empty(),e.forEach((function(e){t=t.add((0,M.Z)("<div>").addClass(Oe).append(e))})),(0,M.Z)(this.content()).append(t),this._$items=t,this.update()}_renderSelectedItemFrame(){(0,M.Z)("<div>").addClass("dx-dateview-item-selected-frame").append((0,M.Z)("<div>").addClass("dx-dateview-item-selected-border")).appendTo((0,M.Z)(this.container()))}_renderSelectedValue(e){var t=this._fitIndex(null!=e?e:this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()}_fitIndex(e){var t=(this.option("items")||[]).length;return e>=t?t-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){var e=this._getItemSelector(),t=(0,s.V4)(U.u,this.NAME);d.Z.off(this.$element(),t,e),d.Z.on(this.$element(),t,e,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+Oe}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var e=this.option("selectedIndex");(0,C.S6)(this._$items,(function(t){(0,M.Z)(this).toggleClass("dx-dateview-item-selected",e===t)}))}_shouldScrollToNeighborItem(){return"desktop"===x.Z.real().deviceType&&this._isWheelScrolled}_moveTo(e){var{top:t,left:i}=function(e,t){if((0,r.PO)(e)){var i=(0,c.IS)(e.left,e.x),a=(0,c.IS)(e.top,e.y);return{left:(0,r.$K)(i)?i:void 0,top:(0,r.$K)(a)?a:void 0}}var{isHorizontal:n,isVertical:s}=new Te.I(void 0);return{left:n&&(0,r.$K)(e)?e:void 0,top:s&&(0,r.$K)(e)?e:void 0}}(e),a=this.scrollOffset(),n={x:a.left-i,y:a.top-t};if(this._isVisible()&&(n.x||n.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var s=this;ce.Z.stop((0,M.Z)(this.content())),ce.Z.animate((0,M.Z)(this.content()),{duration:200,type:"slide",to:{top:Math.floor(n.y)},complete(){(0,ue.Kx)((0,M.Z)(s.content())),s.handleMove({delta:n})}}),delete this._animation}else this.handleMove({delta:n})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){var t=this.option("items").length;return Math.max(Math.min(e,t-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){var t=this.scrollOffset().top-e*this._itemHeight();if(this._isInNullNeighborhood(t))return e;var i=t>0?1:-1;return this._fitSelectedIndexInRange(e+i)}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;var t=this.scrollOffset().top/this._itemHeight();return Math.round(t)}_endActionHandler(){var e=this.option("selectedIndex"),t=this._getNewSelectedIndex(e);t===e?this._renderSelectedValue(t):this.option("selectedIndex",t),this._isWheelScrolled=!1}_itemHeight(){var e=this._$items.first();return(0,E.Cr)(e)}_toggleActive(e){this.$element().toggleClass("dx-state-active",e)}_isVisible(){return(0,M.Z)(this.container()).is(":visible")}_fireSelectedIndexChanged(e,t){this._selectedIndexChanged({value:e,previousValue:t,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout((()=>{this._renderSelectedValue(this.option("selectedIndex"))}))),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass("dx-dateviewroller-current",e)}_refreshSelectedIndex(){var e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}(0,n.Z)("dxDateViewRoller",Ae);const Ee=Ae;var He="dx-dateview",Pe="date",Ne="year",Fe="month",$e="day",Re="hours",Le=N.Z.inherit({_valueOption:function(){var e=this.option("value"),t=new Date(e);return!e||isNaN(t)?this._getDefaultDate():t},_getDefaultDate:function(){var e=new Date;return this.option("type")===Pe?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e},_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{minDate:I.MIN_DATEVIEW_DEFAULT_DATE,maxDate:I.MAX_DATEVIEW_DEFAULT_DATE,type:Pe,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return"desktop"!==e.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(He),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(e,t){this.$element().addClass(He+"-"+e),t&&this.$element().removeClass(He+"-"+t)},_toggleCompactClass:function(){this.$element().toggleClass("dx-dateview-compact",this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=(0,M.Z)("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=(0,M.Z)("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var e=this;(0,C.S6)(e._rollerConfigs,(function(t){var i=(0,M.Z)("<div>").appendTo(e._$rollersContainer).addClass("dx-dateviewroller-"+e._rollerConfigs[t].type);e._rollers[e._rollerConfigs[t].type]=e._createComponent(i,Ee,{items:e._rollerConfigs[t].displayItems,selectedIndex:e._rollerConfigs[t].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(i){var a=i.component;a._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t],a.option("selectedIndex"))},onEnd:function(e){e.component._toggleActive(!1)},onClick:function(i){var a=i.component;a._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t],a.option("selectedIndex")),e._setRollerState(e._rollerConfigs[t],a.option("selectedIndex")),a._toggleActive(!1)},onSelectedIndexChanged:function(i){var a=i.component;e._setRollerState(e._rollerConfigs[t],a.option("selectedIndex"))}})})),e._$rollersContainer.appendTo(e._wrapper())},_createRollerConfigs:function(e){var t=this;e=e||t.option("type"),t._rollerConfigs={},f.Z.getFormatParts(I.FORMATS_MAP[e]).forEach((function(e){t._createRollerConfig(e)}))},_createRollerConfig:function(e){for(var t=I.DATE_COMPONENTS_INFO[e],i=this._calculateRollerConfigValueRange(e),a=i.startValue,n=i.endValue,s=t.formatter,r=this._getCurrentDate(),o={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:function(e){return e[t.getter]()-a}},l=a;l<=n;l++)o.valueItems.push(l),o.displayItems.push(s(l,r));o.selectedIndex=o.getIndex(r),this._rollerConfigs[e]=o},_setActiveRoller:function(e){var t=e&&this._rollers[e.type];(0,C.S6)(this._rollers,(function(){this.toggleActiveState(this===t)}))},_updateRollersPosition:function(){var e=this;(0,C.S6)(this._rollers,(function(t){var i=e._rollerConfigs[t].getIndex(e._getCurrentDate());this.option("selectedIndex",i)}))},_setRollerState:function(e,t){if(t!==e.selectedIndex){var i=e.valueItems[t],a=e.setValue,n=new Date(this._getCurrentDate()),s=n.getDate(),r=this.option("minDate"),o=this.option("maxDate");e.type===Fe?s=Math.min(s,I.getMaxMonthDay(n.getFullYear(),i)):e.type===Ne&&(s=Math.min(s,I.getMaxMonthDay(i,n.getMonth()))),n.setDate(s),n[a](i);var l=b.Z.normalizeDate(n,r,o);n=I.mergeDates(l,n,"time"),n=b.Z.normalizeDate(n,r,o),this.option("value",n),e.selectedIndex=t}e.type===Ne&&this._refreshRollers(),e.type===Fe&&(this._refreshRoller($e),this._refreshRoller(Re))},_refreshRoller:function(e){var t=this._rollers[e];if(t){this._createRollerConfig(e);var i=this._rollerConfigs[e];e!==$e&&i.displayItems.toString()===t.option("items").toString()||t.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var e=this._valueOption(),t=this.option("minDate"),i=this.option("maxDate");return b.Z.normalizeDate(e,t,i)},_calculateRollerConfigValueRange:function(e){var t=this._getCurrentDate(),i=this.option("minDate"),a=this.option("maxDate"),n=b.Z.sameYear(t,i),s=n&&t.getMonth()===i.getMonth(),r=b.Z.sameYear(t,a),o=r&&t.getMonth()===a.getMonth(),l=s&&t.getDate()===i.getDate(),h=o&&t.getDate()===a.getDate(),d=I.DATE_COMPONENTS_INFO[e],u=d.startValue,c=d.endValue;return e===Ne&&(u=i.getFullYear(),c=a.getFullYear()),e===Fe&&(n&&(u=i.getMonth()),r&&(c=a.getMonth())),e===$e&&(c=I.getMaxMonthDay(t.getFullYear(),t.getMonth()),n&&s&&(u=i.getDate()),r&&o&&(c=a.getDate())),e===Re&&(u=l?i.getHours():u,c=h?a.getHours():c),{startValue:u,endValue:c}},_refreshRollers:function(){this._refreshRoller(Fe),this._refreshRoller($e),this._refreshRoller(Re)},_optionChanged:function(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":this.callBase(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(e)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});(0,n.Z)("dxDateView",Le);const ze=Le;var We=(0,w.Jj)(),Ye=ke.inherit({NAME:"DateView",getDefaultOptions:function(){return(0,l.l)(this.callBase(),{openOnFieldClick:!0,applyButtonText:O.Z.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(e){return e||I.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(e){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:e.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(e){var t=e.platform;return"generic"===t||"ios"===t},options:{width:"auto",height:"auto"}},{device:function(e){var t=e.platform,i=e.phone;return"generic"===t&&i},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:We}}}]}},_renderWidget:function(){if((0,y.inputType)(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var t=(0,M.Z)("<div>").appendTo(e.$content());this._widget=this._createWidget(t)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return ze},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*I.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}});const Ke=Ye;var Ue=ke.inherit({NAME:"Native",popupConfig:function(e){return(0,l.l)({},e,{width:"auto"})},getParsedText:function(e){return e?"datetime"===this.dateBox.option("type")?new Date(e.replace(/-/g,"/").replace("T"," ").split(".")[0]):I.fromStandardDateFormat(e):null},renderPopupContent:c.ZT,_getWidgetName:c.ZT,_getWidgetOptions:c.ZT,_getDateBoxType:function(){var e=this.dateBox.option("type");return I.SUPPORTED_FORMATS.includes(e)?"datetime"!==e||(0,y.inputType)(e)||(e="datetime-local"):e="date",e},customizeButtons:function(){var e=this.dateBox.getButton("dropDown");x.Z.real().android&&e&&e.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(e){var t=this._getDateBoxType();return e||I.FORMATS_MAP[t]},renderInputMinMax:function(e){e.attr({min:B.Z.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:B.Z.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}});const qe=Ue;var je=i(32746),Je=i(81562),Qe=i(76432),Ge=function(e,t,i){Xe(e,t,i)},Xe=function(e,t,i){e.css("transform","rotate("+t+"deg) translate(0,"+i+"px)")},et=N.Z.inherit({_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass("dx-timeview")},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var e=(0,M.Z)("<div>").appendTo(this.$element()),t=[];this.option("_showClock")&&t.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),t.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(e,Qe.default,{height:"100%",width:"100%",direction:"col",items:t})},_renderClock:function(e,t,i){this._$hourArrow=(0,M.Z)("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=(0,M.Z)("<div>").addClass("dx-timeview-minutearrow");var a=(0,M.Z)(i);a.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",a)},_updateClock:function(){var e=this._getValue(),t=e.getHours()/12*360+e.getMinutes()/60*30,i=e.getMinutes()/60*360;Ge(this._$hourArrow,t,this.option("_arrowOffset")),Ge(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(e){var t=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:(0,M.Z)("<div>").addClass("dx-timeview-time-separator").text(f.Z.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return e&&t.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),t},_renderField:function(){var e=!this.option("use24HourFormat");return this._createHourBox(e),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent((0,M.Z)("<div>").addClass("dx-timeview-field"),Qe.default,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()},_createHourBox:function(e){(this._hourBox=this._createComponent((0,M.Z)("<div>"),je.default,(0,l.l)({min:-1,max:e?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:e=>this._keyboardHandler(e)},this._getNumberBoxConfig()))).setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(e){var{value:t,component:i}=e,a=this._getValue(),n=new Date(a),s=this._convertMaxHourToMin(t);i.option("value",s),this._isPM()&&(s+=12),n.setHours(s),I.normalizeTime(n),this.option("value",n)},_convertMaxHourToMin:function(e){var t=this.option("use24HourFormat")?24:12;return(t+e)%t},_createMinuteBox:function(){(this._minuteBox=this._createComponent((0,M.Z)("<div>"),je.default,(0,l.l)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{var{value:t,component:i}=e,a=(60+t)%60;i.option("value",a);var n=new Date(this._getValue());n.setMinutes(a),I.normalizeTime(n),this.option("value",n)}},this._getNumberBoxConfig()))).setAria("label","minutes")},_createFormat12Box:function(){var e=f.Z.getPeriodNames();(this._format12=this._createComponent((0,M.Z)("<div>").addClass("dx-timeview-format12"),Je.default,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{var{value:t}=e,i=this._getValue().getHours(),a=new Date(this._getValue()),n=(i+12*t)%24;a.setHours(n),this.option("value",a)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")})).setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var e=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,e)}},_silentEditorValueUpdate:function(e,t){e&&(e._suppressValueChangeAction(),e.option("value",t),e._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(e){return(e<10?"0":"")+e},stylingMode:this.option("stylingMode")}},_normalizeHours:function(e){return this.option("use24HourFormat")?e:e%12||12},_updateField:function(){var e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(e){e&&this._updateTime()},_optionChanged:function(e){switch(e.name){case"value":this._updateTime(),this.callBase(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(e)}}});(0,n.Z)("dxTimeView",et);const tt=et;var it=(0,w.Jj)(),at="dx-datebox-datetime-time-side";const nt=Ze.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return(0,l.l)(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return b.Z.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(e){return e||"shortdateshorttime"},_is24HourFormat:function(){return f.Z.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var e=this.callBase();return this._updateDateTime(e)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent((0,M.Z)("<div>"),tt,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var e=this._getPopup();e&&e.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var e=this._isShrinkView(),t=this._currentAdaptiveMode;return e!==t?(this._currentAdaptiveMode=e,void 0!==t):this.callBase()},_updateValue:function(e){var t=this.dateBoxValue();t||e||(t=new Date,I.normalizeTime(t)),this.callBase(),this._timeView&&(t&&this._timeView.option("value",t),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return(0,E.dz)(it)<=573},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var e=this._getPopup().$content();this._box=this.dateBox._createComponent((0,M.Z)("<div>").appendTo(e),Qe.default,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(e,t,i){var a=(0,M.Z)("<div>");switch(e.name){case"calendar":a.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(at),a.append(this._timeView.$element()));break;case"time":a.append(this._timeView.$element()),(0,M.Z)(i).addClass(at)}return a}.bind(this)}),this._attachTabHandler()},popupConfig:function(e){var t=this.callBase(e);return(0,l.l)(t,{width:"auto"})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var e=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",(function(t){t.shiftKey&&(t.preventDefault(),e.focus())}))},_preventFocusOnPopup:function(e){(0,M.Z)(e.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(e){var t=this._timeView.option("value");return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e},getValue:function(){var e,t=null!==(e=this._widget.option("value"))&&void 0!==e?e:this._widget.getContouredDate();return t=t?new Date(t):new Date,this._updateDateTime(t)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}});var st=i(33451),rt=(i(76940),i(91379)),ot=(0,w.Jj)(),lt={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)};const ht=ke.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:e,applyValueMode:t}=this.option();e&&"instantly"===t&&this.close()},space:c.ZT,home:c.ZT,end:c.ZT}},getDefaultOptions:function(){return(0,l.l)(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(e){return e||"shorttime"},popupConfig:function(e){return e},getValue:function(){var e=this._widget.option("selectedIndex");if(-1===e)return this.dateBox.option("value");var t=this._widgetItems[e];return this._getDateByItemData(t)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return st.Z},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var e=this.dateBoxValue(),t=this._getDateIndex(e);-1===t?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",t)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(e){for(var t=-1,i=0,a=this._widgetItems.length;i<a;i++)if(this._areDatesEqual(e,this._widgetItems[i])){t=i;break}return t},_areDatesEqual:function(e,t){return(0,r.J_)(e)&&(0,r.J_)(t)&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()},_getTimeListItems:function(){var e=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),t=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,a=t-e,n=e.getMinutes()%this.dateBox.option("interval");return a<0?[]:(a>I.ONE_DAY&&(a=I.ONE_DAY),i-e<I.ONE_DAY||((e=this._getBoundaryDate("min")).setMinutes(n),i&&Math.abs(i-t)<I.ONE_DAY&&(a=(60*t.getHours()+Math.abs(t.getMinutes()-n))*I.ONE_MINUTE)),this._getRangeItems(e,new Date(e),a))},_getRangeItems:function(e,t,i){for(var a=[],n=this.dateBox.option("interval");t-e<=i;)a.push(new Date(t)),t.setMinutes(t.getMinutes()+n);return a},_getBoundaryDate:function(e){var t=lt[e],i=new Date((0,c.IS)(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),t.getHours(),t.getMinutes())},_timeListItemTemplate:function(e){var t=this.dateBox.option("displayFormat");return f.Z.format(e,this.getDisplayFormat(t))},_listItemClickHandler:function(e){if("useButtons"!==this.dateBox.option("applyValueMode")){var t=this._getDateByItemData(e.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(t,e.event)}},_getDateByItemData:function(e){var t=this.dateBox.option("value"),i=e.getHours(),a=e.getMinutes(),n=e.getSeconds(),s=e.getFullYear(),r=e.getMonth(),o=e.getDate();return t?((t=this.dateBox.option("dateSerializationFormat")?B.Z.deserializeDate(t):new Date(t)).setHours(i),t.setMinutes(a),t.setSeconds(n),t.setFullYear(s),t.setMonth(r),t.setDate(o)):t=new Date(s,r,o,i,a,0,0),t},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var e=(0,rt.T)(this.dateBox.option("dropDownOptions.height"));if(void 0===e||"auto"===e){this.dateBox._setPopupOption("height","auto");var t=(0,E.zp)(this._widget.$element()),i=.45*(0,E.Cr)(ot);this.dateBox._setPopupOption("height",Math.min(t,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(e,t){var i=this.callBase(e,t);return i&&(i=I.mergeDates(i,new Date(null),"date")),i}});var dt=(0,w.Jj)(),ut="dx-datebox",ct="dx-datebox-wrapper",_t={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},pt={date:"date",datetime:"datetime",time:"time"},gt={Calendar:Ze,DateView:Ke,Native:qe,CalendarWithTime:nt,List:ht},mt=T.Z.inherit({_supportedKeys:function(){return(0,l.l)(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:_t.calendar,invalidDateMessage:O.Z.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:O.Z.format("validation-range"),applyButtonText:O.Z.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var e=x.Z.real().platform;return"ios"===e||"android"===e},options:{pickerType:_t.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(e){this._userOptions=(0,l.l)({},e),this.callBase(e),this._updatePickerOptions()},_updatePickerOptions:function(){var e=this.option("pickerType"),t=this.option("type");e!==_t.list||t!==pt.datetime&&t!==pt.date||(e=_t.calendar),t===pt.time&&e===_t.calendar&&(e=_t.list),this.option("showDropDownButton","generic"!==x.Z.real().platform||e!==_t.native),this._pickerType=e},_init:function(){this._initStrategy(),this.option((0,l.l)({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},_initStrategy:function(){var e=this._getStrategyName(this._getFormatType()),t=gt[e];this._strategy&&this._strategy.NAME===e||(this._strategy=new t(this))},_getFormatType:function(){var e=this.option("type"),t=/h|m|s/g.test(e),i="";return/d|M|Y/g.test(e)&&(i+=pt.date),t&&(i+=pt.time),i},_getStrategyName:function(e){var t=this._pickerType;return t===_t.rollers?"DateView":t===_t.native?"Native":e===pt.date?"Calendar":e===pt.datetime?"CalendarWithTime":"List"},_initMarkup:function(){this.$element().addClass(ut),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()},_dimensionChanged:function(){this.callBase(),this._updatePopupHeight()},_updatePopupHeight:function(){var e,t;this._popup&&(null===(e=(t=this._strategy)._updatePopupHeight)||void 0===e||e.call(t))},_refreshFormatClass:function(){var e=this.$element();(0,C.S6)(pt,(function(t,i){e.removeClass(ut+"-"+i)})),e.addClass(ut+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var e=this.$element();(0,C.S6)(_t,(function(t,i){e.removeClass(ut+"-"+i)})),e.addClass(ut+"-"+this._pickerType)},_formatValidationIcon:function(){if((0,w.Ym)()){var e=this._input().get(0),t=this.option("rtlEnabled"),i=this._getClearButtonWidth(),a=this._getLongestElementDimensions(),n=parseFloat(dt.getComputedStyle(e).width)-i,s=a.width>n,r=e.style;this.$element().toggleClass("dx-show-invalid-badge",!s&&this.option("_showValidationIcon")),s?(void 0===this._storedPadding&&(this._storedPadding=t?a.leftPadding:a.rightPadding),t?r.paddingLeft=0:r.paddingRight=0):t?r.paddingLeft=this._storedPadding+"px":r.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var e=0;if(this._isClearButtonVisible()&&""===this._input().val()){var t=this.$element().find(".dx-clear-button-area").get(0);e=parseFloat(dt.getComputedStyle(t).width)}return e},_getLongestElementDimensions:function(){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=f.Z.format(I.getLongestDate(e,f.Z.getMonthNames(),f.Z.getDayNames()),e),i=this._input(),a=i.get(0),n=(0,o.l5)(i,t),s=void 0!==this._storedPadding?this._storedPadding:0;n.appendTo(this.$element());var r=parseFloat(dt.getComputedStyle(n.get(0)).width),l=parseFloat(dt.getComputedStyle(a).paddingRight),h=parseFloat(dt.getComputedStyle(a).paddingLeft),d=r+h+l+s;return n.remove(),{width:d,leftPadding:h,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(ct),this._renderPopupWrapper()},_getPopupToolbarItems(){var e,t,i,a=this.callBase();return null!==(e=null===(t=(i=this._strategy)._getPopupToolbarItems)||void 0===t?void 0:t.call(i,a))&&void 0!==e?e:a},_popupConfig:function(){var e=this.callBase();return(0,l.l)(this._strategy.popupConfig(e),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var e=this.$element(),t=(0,l.l)({},pt,_t);(0,C.S6)(t,function(t,i){e.removeClass(ct+"-"+i)}.bind(this)),this._popup.$wrapper().addClass(ct+"-"+this.option("type")).addClass(ct+"-"+this._pickerType).addClass("dx-dropdowneditor-overlay")}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(e){e&&this._formatValidationIcon()},_clearValueHandler:function(e){this.option("text",""),this.callBase(e)},_readOnlyPropValue:function(){if(this._pickerType===_t.rollers)return!0;var e=x.Z.real().platform;return!this._isNativeType()||"ios"!==e&&"android"!==e?this.callBase():this.option("readOnly")},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var e=this.dateOption("value");return this.option("text",this._getDisplayedText(e)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var e=this.dateOption("value"),t=this.option("dateSerializationFormat"),i=I.SUBMIT_FORMATS_MAP[this.option("type")],a=t?B.Z.serializeDate(e,t):I.toStandardDateFormat(e,i);this._getSubmitElement().val(a)},_getDisplayedText:function(e){var t,i=this.option("mode");if("text"===i){var a=this._strategy.getDisplayFormat(this.option("displayFormat"));t=f.Z.format(e,a)}else{var n=this._getFormatByMode(i);t=n?f.Z.format(e,n):I.toStandardDateFormat(e,i)}return t},_getFormatByMode:function(e){return(0,y.inputType)(e)?null:I.FORMATS_MAP[e]},_valueChangeEventHandler:function(e){var{text:t,type:i,validationError:a}=this.option(),n=this.dateOption("value");if(t!==this._getDisplayedText(n)){var s=this._getParsedDate(t),r=null!=n?n:this._getDateByDefault(),o=I.mergeDates(r,s,i),l=s&&"time"===i?o:s;if(this._applyInternalValidation(l).isValid){var h=this._getDisplayedText(o);r&&o&&r.getTime()===o.getTime()&&h!==t?this._renderValue():this.dateValue(o,e)}}else this._recallInternalValidation(n,a)},_recallInternalValidation(e,t){t&&!t.editorSpecific||(this._applyInternalValidation(e),this._applyCustomValidation(e))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(e){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(e,t);return null!=i?i:void 0},_applyInternalValidation(e){var t=!!this.option("text")&&null!==e,i=!!e&&(0,r.J_)(e)&&!isNaN(e.getTime()),a=i&&b.Z.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("type")),n=!t&&!e||a,s="";return i?a||(s=this.option("dateOutOfRangeMessage")):s=this.option("invalidDateMessage"),this._updateInternalValidationState(n,s),{isValid:n,isDate:i}},_updateInternalValidationState(e,t){this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:t}})},_applyCustomValidation:function(e){this.validationRequest.fire({editor:this,value:this._serializeDate(e)})},_isValueChanged:function(e){var t=this.dateOption("value");return(t&&t.getTime())!==(e&&e.getTime())},_isTextChanged:function(e){return this.option("text")!==(e&&this._getDisplayedText(e)||"")},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var e=this.option("placeholder");if(e)return e;var t=this.option("type");return t===pt.time?O.Z.format("dxDateBox-simulatedDataPickerTitleTime"):t===pt.date||t===pt.datetime?O.Z.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(e){var t=this._strategy.getValue();this.dateValue(t,e.event),this.callBase()},_dispose:function(){var e;this.callBase(),null===(e=this._strategy)||void 0===e||e.dispose()},_isNativeType:function(){return this._pickerType===_t.native},_updatePopupTitle:function(){var e;null===(e=this._popup)||void 0===e||e.option("title",this._getPopupTitle())},_optionChanged:function(e){switch(e.name){case"showClearButton":case"buttons":case"isValid":case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:e.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:e.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var t=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),t||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(e.value),this.callBase.apply(this,arguments);break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var e=this.option("value");return this.option("dateSerializationFormat")&&(0,V.Z)().forceIsoDateParsing?this.option("dateSerializationFormat"):(0,r.kE)(e)?"number":(0,r.HD)(e)?B.Z.getDateSerializationFormat(e):void 0},_updateValue:function(e){this.callBase(),this._applyInternalValidation(null!=e?e:this.dateOption("value"))},dateValue:function(e,t){var i=this._isValueChanged(e);return i&&t&&this._saveValueChangeEvent(t),i||(this._isTextChanged(e)?this._updateValue(e):""===this.option("text")&&this._applyCustomValidation(e)),this.dateOption("value",e)},dateOption:function(e,t){if(1===arguments.length)return B.Z.deserializeDate(this.option(e));this.option(e,this._serializeDate(t))},_serializeDate:function(e){var t=this._getSerializationFormat();return B.Z.serializeDate(e,t)},_clearValue:function(){var e=this.option("value");this.callBase(),null===e&&this._applyCustomValidation(null)},reset:function(){var e=this.option("value");this.callBase(),null===e&&this._applyInternalValidation(null)}});const vt=mt;var ft=i(73471),Dt=i(44072),wt="dateBoxMask",Ct=-1;const yt=vt.inherit({_supportedKeys(e){var t=this.callBase(e),i=e=>{var i=t[(0,s.EV)(e)];return i&&i.apply(this,[e])},a=(e,t)=>this._shouldUseOriginalHandler(e)?i.apply(this,[e]):t.apply(this,[e]);return(0,l.l)({},t,{del:e=>a(e,(e=>{this._revertPart(1),this._isAllSelected()||e.preventDefault()})),backspace:e=>a(e,(e=>{this._revertPart(Ct),this._isAllSelected()||e.preventDefault()})),home:e=>a(e,(e=>{this._selectFirstPart(),e.preventDefault()})),end:e=>a(e,(e=>{this._selectLastPart(),e.preventDefault()})),escape:e=>a(e,(e=>{this._revertChanges(e)})),enter:e=>a(e,(()=>{this._enterHandler()})),leftArrow:e=>a(e,(e=>{this._selectNextPart(Ct),e.preventDefault()})),rightArrow:e=>a(e,(e=>{this._selectNextPart(1),e.preventDefault()})),upArrow:e=>a(e,(e=>{this._upDownArrowHandler(1),e.preventDefault()})),downArrow:e=>a(e,(e=>{this._upDownArrowHandler(Ct),e.preventDefault()}))})},_shouldUseOriginalHandler(e){var t=this.option("opened")&&e&&-1===["backspace","del"].indexOf((0,s.EV)(e));return!this._useMaskBehavior()||t||e&&e.altKey},_upDownArrowHandler(e){this._setNewDateIfEmpty();var t=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue()-t;this._loadMaskValue(this._initialMaskValue),this._partIncrease(i+e,!0)},_getDefaultOptions(){return(0,l.l)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(e){var{originalEvent:t,alt:i}=e,a=t.data||t.key;return"string"==typeof a&&1===a.length&&!i&&!(0,s.j1)(t)},_isSingleDigitKey(e){var t,i=null===(t=e.originalEvent)||void 0===t?void 0:t.data;return 1===(null==i?void 0:i.length)&&parseInt(i,10)},_useBeforeInputEvent:function(){return x.Z.real().android},_keyInputHandler(e,t){var i=this._input().val();this._processInputKey(t),e.preventDefault(),i!==this._input().val()&&d.Z.trigger(this._input(),"input")},_keyboardHandler(e){var t=e.originalEvent.key,i=this.callBase(e);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(Dt.Z.chrome&&"Process"===e.key&&0===e.code.indexOf("Digit")?(t=e.code.replace("Digit",""),this._processInputKey(t),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(e)&&this._keyInputHandler(e.originalEvent,t)),i},_maskBeforeInputHandler(e){this._maskInputHandler=null;var{inputType:t}=e.originalEvent;"insertCompositionText"===t&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var i="deleteContentBackward"===t;if(i||"deleteContentForward"===t){var a=i?Ct:1;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(a)}}if(this._useMaskBehavior()&&this._isSingleCharKey(e)){var n=e.originalEvent.data;return this._keyInputHandler(e,n),!0}},_keyPressHandler(e){var{originalEvent:t}=e;"insertCompositionText"===(null==t?void 0:t.inputType)&&this._isSingleDigitKey(e)&&(this._processInputKey(t.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(e),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(e){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e)},_isAllSelected(){var e=this._caret();return e.end-e.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=(0,r.HD)(e)&&!f.Z._getPatternByFormat(e);return this._formatPattern=t?e:(0,D.y)((function(t){return f.Z.format(t,e)})),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var e="time"===this.option("type")?new Date(null):new Date;this._maskValue=e,this._initialMaskValue=e,this._renderDateParts()}},_partLimitsReached(e){var t=String(e).length,i=this._getActivePartProp("pattern").length,a=1===i?t:Math.min(i,t),n=this._searchValue.length===a,s=parseInt(this._searchValue+"0")>e;return n||s},_searchNumber(e){var{max:t}=this._getActivePartLimits(),i=String(t).length;this._searchValue=(this._searchValue+e).substr(-i),isNaN(this._searchValue)&&(this._searchValue=e),this._setActivePartValue(this._searchValue),this._partLimitsReached(t)&&this._selectNextPart(1)},_searchString(e){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var t=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+e.toLowerCase(),a=t.max-t.min,n=0;n<=a;n++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+1),0===this._getActivePartProp("text").toLowerCase().indexOf(i))return void(this._searchValue=i);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(e))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(e){if(!this._isAllSelected()){var t=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(t),this._selectNextPart(e)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo(){this._regExpInfo=(0,u.oo)(this._getFormatPattern(),f.Z);var e=this._regExpInfo.regexp,t=e.source,i=e.flags,a=new RegExp(/(\{[0-9]+,?[0-9]*\})/),n=t.split(a).map((e=>a.test(e)?e:ft.Z.convertDigits(e,!1))).join("");this._regExpInfo.regexp=new RegExp(n,i)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var e=this.option("text")||this._getDisplayedText(this._maskValue);e&&(this._dateParts=((e,t)=>{for(var i=t.regexp.exec(e),a=0,n=0,s=[],r=function(){n=(a=n)+i[o].length;var e,r=t.patterns[o-1].replace(/^'|'$/g,""),l=(e=r[0],g[e]||(()=>e));s.push({index:o-1,isStub:r===i[o],caret:{start:a,end:n},pattern:r,text:i[o],limits:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return v(r[0],...t)},setter:m[r[0]]||c.ZT,getter:l})},o=1;o<i.length;o++)r();return s})(e,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){d.Z.off(this._input(),"."+wt)},_attachMaskEvents(){d.Z.on(this._input(),(0,s.V4)("dxclick",wt),this._maskClickHandler.bind(this)),d.Z.on(this._input(),(0,s.V4)("paste",wt),this._maskPasteHandler.bind(this)),d.Z.on(this._input(),(0,s.V4)("drop",wt),(()=>{this._renderSelectedPart()})),d.Z.on(this._input(),(0,s.V4)("compositionend",wt),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&d.Z.on(this._input(),(0,s.V4)("beforeinput",wt),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(Ct))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(1))},_onMouseWheel(e){this._useMaskBehavior()&&this._partIncrease(e.delta>0?1:Ct,e)},_selectNextPart(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){e&&(this._initialMaskValue=new Date(this._maskValue));var t=(0,h.n$)(this._activePartIndex+e,0,this._dateParts.length-1);if(this._dateParts[t].isStub){if(!(0===t&&e<0||t===this._dateParts.length-1&&e>0))return void this._selectNextPart(e>=0?e+1:e-1);t=this._activePartIndex}this._activePartIndex!==t&&this._clearSearchValue(),this._activePartIndex=t,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits(e){return this._getActivePartProp("limits")(this._maskValue,e&&this._getRealLimitsPattern())},_getActivePartValue(e){e=e||this._maskValue;var t=this._getActivePartProp("getter");return(0,r.mf)(t)?t(e):e[t]()},_addLeadingZeroes(e){var t=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),a=String(i.max).length;return((t&&t[0]||"")+String(e)).substr(-a)},_setActivePartValue(e,t){t=t||this._maskValue;var i=this._getActivePartProp("setter"),a=this._getActivePartLimits();e=(0,h.Z2)(e,a.min,a.max)?e:e%10,e=this._addLeadingZeroes((0,h.n$)(e,a.min,a.max)),(0,r.mf)(i)?i(t,e):t[i](e),this._renderDisplayText(this._getDisplayedText(t)),this._renderDateParts()},_getActivePartProp(e){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][e]},_loadMaskValue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=e&&new Date(e),this._initialMaskValue=e&&new Date(e)},_saveMaskValue(){var e=this._maskValue&&new Date(this._maskValue);e&&"date"===this.option("type")&&e.setHours(0,0,0,0),this._initialMaskValue=new Date(e),this.dateOption("value",e)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(e){this.callBase(e),this._useMaskBehavior()&&this.option("text",e)},_partIncrease(e,t){this._setNewDateIfEmpty();var{max:i,min:a}=this._getActivePartLimits(t),n=i-a;1===n&&n++;var s=e+this._getActivePartValue();s>i?s=this._applyLimits(s,{limitBase:a,limitClosest:i,limitDelta:n}):s<a&&(s=this._applyLimits(s,{limitBase:i,limitClosest:a,limitDelta:n})),this._setActivePartValue(s)},_applyLimits(e,t){var{limitBase:i,limitClosest:a,limitDelta:n}=t,s=(e-a)%n;return s?i+s-1*(0,h.Xx)(s):a},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=((e,t)=>{for(var i=0;i<e.length;i++){var a=e[i].caret.end>=t;if(!e[i].isStub&&a)return i}return null})(this._dateParts,this._caret().start),this._isAllSelected()||((0,r.$K)(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(e){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(e){var t=this._replaceSelectedText(this.option("text"),this._caret(),(0,o.Zx)(e)),i=f.Z.parse(t,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),e.preventDefault()},_isDateValid:e=>(0,r.J_)(e)&&!isNaN(e),_isValueDirty(){var e=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(e&&e.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&d.Z.trigger(this._input(),"change")},_enterHandler(){this._fireChangeEvent(),this._selectNextPart(1)},_focusOutHandler(e){this._useMaskBehavior()&&!e.isDefaultPrevented()?(this._fireChangeEvent(),this.callBase(e),this._selectFirstPart(e)):this.callBase(e)},_valueChangeEventHandler(e){var t=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(e),t?null===this._maskValue&&this._loadMaskValue(t):this._maskValue=null,this._saveMaskValue()):this.callBase(e)},_optionChanged(e){switch(e.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(e),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(e),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(e)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});(0,n.Z)("dxDateBox",yt);const xt=yt}}]);