"use strict";(this.webpackChunk_stechquick_websdk=this.webpackChunk_stechquick_websdk||[]).push([[2746],{32746:(t,e,i)=>{i.r(e),i.d(e,{default:()=>q});var n=i(20486),a=i(18330),s=i(6343),r=i(6206),o=i(76111),u=i(34916),l=i(73471),h=i(6232),_=function(t){for(var e=0,i=0,n=0;n<t.length;++n)if("'"===t[n]&&e++,"."===t[n]&&(++i,e%2==0))return{occurrence:i,index:n};return{occurrence:1,index:-1}},c=function(t,e,i){for(var n=-1;i--&&n++<t.length;)n=t.indexOf(e,n);return n},p=function(t,e){return-1===e?[t]:[t.slice(0,e),t.slice(e+1)]},d=function(t,e){if("string"==typeof e){var i=e.split(";"),n=l.Z.getSign(t,e);i[1]=i[1]||"-"+i[0],e=(e=i[n<0?1:0]).replace(/'([^']*)'/g,(t=>t.split("").map((()=>" ")).join("").substr(2)));var a=/^[^#0.,]*/.exec(e)[0].length,s=/[^#0.,]*$/.exec(e)[0].length;return{start:a,end:t.length-s}}return{start:0,end:t.length}},v=function(t,e){var i=l.Z.getDecimalSeparator(),n=new RegExp("[^0-9"+(0,h.hr)(i)+"]","g");return e.slice(0,t).replace(n,"").length},f=function(t){return t.split("").reverse().join("")},m=function(t,e){if(!t)return-1;for(var i=/[0-9]/g,n=1,a=null,s=i.exec(e);s;){if(a=s.index,n>=t)return a;n++,s=i.exec(e)}return null===a?e.length:a},g=function(t,e){return void 0===t.start&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}};function V(t,e,i){t=g(t,0);var n=d(e,i);return{start:(0,u.n$)(t.start,n.start,n.end),end:(0,u.n$)(t.end,n.start,n.end)}}var b=i(31866),x=i(86043),B=i(70508),y=i(44072),T=i(35005),C=i(66289),S=i(18685),I=i(2918),Z=i(56851),F=i(88791),P=i(31761),D=i(43515),k="dxNumberBox",E=(0,C.V4)(Z.Z.up,k),M=(0,C.V4)(Z.Z.cancel,k);const H=I.Z.inherit({_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t="dx-numberbox-spin-"+this.option("direction");this.$element().addClass("dx-numberbox-spin-button").addClass(t),this._spinIcon=(0,x.Z)("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=(0,C.V4)(Z.Z.down,this.NAME),e=this.$element();a.Z.off(e,t),a.Z.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),a.Z.on(this.$element(),P.Z.name,function(){this._feedBackDeferred=new D.BH,(0,F.dR)(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:t})}.bind(this));var e=B.default.getDocument();a.Z.on(e,E,this._clearTimer.bind(this)),a.Z.on(e,M,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){a.Z.off(this.$element(),P.Z.name);var t=B.default.getDocument();a.Z.off(t,E),a.Z.off(t,M),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}});class w extends S.Z{_attachEvents(t,e){var{editor:i}=this,n=(0,C.V4)(Z.Z.down,i.NAME),s=e.children(),r=i._createAction((t=>i._spinButtonsPointerDownHandler(t)));a.Z.off(e,n),a.Z.on(e,n,(t=>r({event:t}))),H.getInstance(s.eq(0)).option("onChange",(t=>i._spinUpChangeHandler(t))),H.getInstance(s.eq(1)).option("onChange",(t=>i._spinDownChangeHandler(t)))}_create(){var{editor:t}=this,e=(0,x.Z)("<div>").addClass("dx-numberbox-spin-container"),i=(0,x.Z)("<div>").appendTo(e),n=(0,x.Z)("<div>").appendTo(e),a=this._getOptions();return this._addToContainer(e),t._createComponent(i,H,(0,s.l)({direction:"up"},a)),t._createComponent(n,H,(0,s.l)({direction:"down"},a)),this._legacyRender(t.$element(),this._isTouchFriendly(),a.visible),{instance:e,$element:e}}_getOptions(){var{editor:t}=this;return{visible:this._isVisible(),disabled:t.option("disabled")}}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showSpinButtons")}_isTouchFriendly(){var{editor:t}=this;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}_legacyRender(t,e,i){t.toggleClass("dx-numberbox-spin-touch-friendly",e),t.toggleClass("dx-numberbox-spin",i)}update(){if(super.update()){var{editor:t,instance:e}=this,i=t.$element(),n=this._isVisible(),a=this._isTouchFriendly(),s=e.children(),r=H.getInstance(s.eq(0)),o=H.getInstance(s.eq(1)),u=this._getOptions();r.option(u),o.option(u),this._legacyRender(i,a,n)}}}var N=i(25835),K=Math,$=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],O=T.Z.inherit({_supportedKeys:function(){return(0,s.l)(this.callBase(),{upArrow:function(t){(0,C.j1)(t)||(t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t))},downArrow:function(t){(0,C.j1)(t)||(t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t))},enter:function(){}})},_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:N.Z.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:w}])},_isSupportInputMode:function(){var t=parseFloat(y.Z.version);return y.Z.chrome&&t>=66||y.Z.safari&&t>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return o.Z.real().generic&&!o.Z.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==o.Z.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass("dx-numberbox"),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=(0,x.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val((0,h.FH)(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=(0,C.qK)(t);if(!/[\d.,eE\-+]/.test(e)){var i=(0,C.EV)(t);if((0,C.j1)(t)||i&&$.includes(i))return;return t.preventDefault(),!1}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");t.length&&Number(t)===e||(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=(0,r.$K)(e)?null:N.Z.format("dxNumberBox-noDataText");return this.setAria({valuenow:(0,h.IS)(e,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),(new D.BH).resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),i=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:(0,h.IS)(this.option("min"),""),valuemax:(0,h.IS)(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();this.option("useLargeSpinButtons")||B.default.getActiveElement()===t[0]||a.Z.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var i=parseFloat(this.option("step"));if(0!==i){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,i*t);var a=this.option("min"),s=this.option("max");(0,r.$K)(a)&&(n=Math.max(a,n)),(0,r.$K)(s)&&(n=Math.min(s,n)),this._saveValueChangeEvent(e),this.option("value",n)}},_correctRounding:function(t,e){var i=/[,.](.*)/,n=i.test(t),a=i.test(e);if(n||a){var s=n?i.exec(t)[0].length:0,r=a?i.exec(e)[0].length:0,o=K.max(s,r);return this._round(t+e,o)}return t+e},_round:function(t,e){e=e||0;var i=Math.pow(10,e);return t*=i,Math.round(t)/i},_renderValueChangeEvent:function(){this.callBase();var t=(0,C.V4)("focusout","NumberBoxForceValueChange");a.Z.off(this.element(),t),a.Z.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),i=this._normalizeText(),n=this._parseValue(i),a="."!==i&&"-"!==i;!this._isValueValid()||this._validateValue(n)?(a&&this.callBase(t,isNaN(n)?null:n),this._applyValueBoundaries(i,n),this.validationRequest.fire({value:n,editor:this})):e.val(this._applyDisplayValueFormatter(n))},_applyValueBoundaries:function(t,e){var i=this._isValueIncomplete(t),n=this._isValueInRange(t);i||n||null===e||Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t="number"===this.option("mode"),e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return(0,u.Z2)(t,this.option("min"),this.option("max"))},_isNumber:function(t){return null!==this._parseValue(t)},_validateValue:function(t){var e=this._normalizeText(),i=this._isValueValid(),n=!0,a=this._isNumber(e);return isNaN(Number(t))&&(n=!1),!t&&i?n=!0:a||i||(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:(0,u.n$)(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}}),R="dxNumberFormatter",A="minus";const j=O.inherit({_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return"del"===t},_supportedKeys:function(){return this._useMaskBehavior()?(0,s.l)(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):this.callBase()},_getTextSeparatorIndex:function(t){var e=l.Z.getDecimalSeparator(),i=_(this.option("format")).occurrence;return c(t,e,i)},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var i=this._getInputVal(),n=this._getTextSeparatorIndex(i);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(-1,t)}}.bind(this),0)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(t){var e=this._getFormatPattern(),i=this.option("value");return(this._format(i,e)||"")!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&a.Z.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var i=this._getInputVal(),n=this._getFormatPattern(),a=g(this._caret(),t);(function(t,e,i){var n=V(t=g(t,0),e,i);return t.start>=n.start&&t.end<=n.end})(a,i,n)||(a=1===t?a.end:a.start,e.preventDefault(),this._caret(V(a,i,n)))}},_moveCaretToBoundary:function(t){var e=d(this._getInputVal(),this._getFormatPattern()),i=g(1===t?e.start:e.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var i=l.Z.getDecimalSeparator(),n=t.charAt(e.end)===i;return(this._lastKey===i||"."===this._lastKey||","===this._lastKey)&&n},_getInputVal:function(){return l.Z.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=l.Z.convertDigits((0,C.qK)(t),!0),this._lastKeyName=(0,C.EV)(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),i=this._caret(),n=this._lastKeyName===A?"":this._lastKey,a=this._tryParse(e,i,n);return this._shouldMoveCaret(e,i)&&(this._moveCaret(1),t.originalEvent.preventDefault()),void 0===a?this._lastKeyName!==A&&t.originalEvent.preventDefault():this._parsedValue=a,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),i=this._getInputVal(),n=e.start,s=e.end;this._lastKey=(0,C.qK)(t),this._lastKeyName=(0,C.EV)(t);var r=this._isDeleteKey(this._lastKeyName),o=!r;if(n===s){if(!(o&&n>0||r&&n<i.length))return void t.preventDefault();r&&s++,o&&n--}var u=i.slice(n,s);if(this._isStub(u))this._moveCaret(r?1:-1),(this._parsedValue<0||1/this._parsedValue==-1/0)&&(this._revertSign(t),this._setTextByParsedValue(),this.option("valueChangeEvent").split(" ").includes("input")&&a.Z.trigger(this._input(),"input")),t.preventDefault();else{var h=l.Z.getDecimalSeparator();if(u!==h){if(s-n<i.length&&this._replaceSelectedText(i,{start:n,end:s},"").search(/[0-9]/)<0&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue==-1/0?-0:0);var _=this._tryParse(i,{start:n,end:s},"");void 0===_?t.preventDefault():this._parsedValue=_}else{var c=i.indexOf(h);this._isNonStubAfter(c+1)&&(this._moveCaret(r?1:-1),t.preventDefault())}}},_isPercentFormat:function(){return-1!==this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")},_parse:function(t,e){var i=this.option("format"),n=(0,r.mf)(i.parser),a=n?i.parser:l.Z.parse,s=0;if(!n){var o=_(e).index,u=this._getTextSeparatorIndex(t),h=-1!==o?o:e.length,c=-1!==u?u:t.length;c>h&&-1===e.indexOf("#")&&(s=c-h)}return a(t=t.substr(s),e)},_format:function(t,e){var i=this.option("format"),n=(null==i?void 0:i.formatter)||i,a=(0,r.mf)(n)?n:l.Z.format;return null===t?"":a(t,e)},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this.option("format"),e=(0,r.mf)(null==t?void 0:t.parser),i=(0,r.HD)(t)&&(t.indexOf("0")>=0||t.indexOf("#")>=0),n="exponential"===t||"exponential"===(null==t?void 0:t.type),a=e||i||n;this._currentFormat=a?t:(0,b.y)((e=>{var i=this._format(e,t);return l.Z.convertDigits(i,!0)}))},_getFormatForSign:function(t){var e=this._getFormatPattern();if((0,r.HD)(e)){var i=e.split(";"),n=l.Z.getSign(t,e);return i[1]=i[1]||"-"+i[0],n<0?i[1]:i[0]}return l.Z.getSign(t)<0?"-":""},_removeStubs:function(t,e){var i=this._getFormatForSign(t),n=l.Z.getThousandsSeparator(),a=this._getStubs(i),s=t;if(a.length){var r=a[0],o=new RegExp("("+(0,h.hr)(a[1]||"")+")$","g"),u=new RegExp("[-"+(0,h.hr)(e?"":n)+"]","g");s=s.replace(r,"").replace(o,"").replace(u,"")}return s},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),i=e&&e[0].trim();return t.split(i).map((function(t){return t.replace(/'/g,"")}))},_truncateToPrecision:function(t,e){if((0,r.$K)(t)){var i=t.toString(),n=i.indexOf(".");if(i&&n>-1){var a=parseFloat(i.substr(0,n+e+1));return isNaN(a)?t:a}}return t},_tryParse:function(t,e,i){var n=this._replaceSelectedText(t,e,i),a=this._getFormatPattern(),s=e.start!==e.end,r=this._getParsedValue(n,a),o=!a.parser&&this._getPrecisionLimits(n).max,h=r!==this._parsedValue,_=i===l.Z.getDecimalSeparator()&&0===o,c=!s&&!h&&"-"!==i&&!this._isValueIncomplete(n)&&this._isStub(i);if(!_&&!c&&(""===this._removeStubs(n)&&(r=Math.abs(0*this._parsedValue)),!isNaN(r))){var p,d,v=null===r?this._parsedValue:r;return r=o?this._truncateToPrecision(v,o):r,!a.parser&&this._isPercentFormat()?(d=o,(p=r)&&(0,u.zB)(p/100,d)):r}},_getParsedValue:function(t,e){var i=l.Z.getSign(t,(null==e?void 0:e.formatter)||e),n=this._removeStubs(t,!0),a=this._parse(n,e),s=a<0?-1:1;return(0,r.kE)(a)&&i!==s?i*a:a},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),i=l.Z.getDecimalSeparator(),n=this._getTextSeparatorIndex(t),a=n>=0&&n<e.start,s=this._removeStubs(t,!0).split(i);if(!a||2!==s.length)return!1;var r=s[1].length,o=!!this._getFormatPattern().parser,h=!o&&this._getPrecisionLimits(this._getFormatPattern(),t),_=!!o||(0,u.Z2)(r,h.min,h.max),c="0"===s[1].charAt(r-1);return _&&(c||!r)},_isValueInRange:function(t){var e=(0,h.IS)(this.option("min"),-1/0),i=(0,h.IS)(this.option("max"),1/0);return(0,u.Z2)(t,e,i)},_setInputText:function(t){var e=l.Z.convertDigits(t,!0),i=function(t,e,i,n){i=g(i,0);var a=l.Z.getDecimalSeparator(),s=function(t){return 1===t.length&&!!t.match(/^[,.][0-9]*$/g)}(t),r=_(n).occurrence,o=s?0:c(t,a,r),u=c(e,a,r),h=p(t,o),d=p(e,u);if(-1!==o&&i.start>o){var b=i.start-o-1,x=v(b,h[1]);return V(d[1]?u+1+m(x,d[1])+1:e.length,e,n)}var B=function(t){return t.replace(/[^0-9e]+$/,"")}(d[0]),y=h[0].length-i.start,T=v(y,f(h[0])),C=m(T,f(B));return V(B.length-(C+1),e,n)}(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t="number"===this.option("mode"),e="desktop"===o.Z.real().deviceType;this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return(0,r.HD)(t)&&1===t.length},_moveCaret:function(t){if(t){var e=V(g(this._caret(),t),this._getInputVal(),this._getFormatPattern());this._caret(e)}},_shouldHandleKey:function(t){var e=(0,C.EV)(t),i=(0,C.j1)(t)||t.altKey||t.shiftKey||!this._isChar(e),n=e===A;return this._useMaskBehavior()&&!i&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){a.Z.off(this._input(),"."+R)},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return(0,r.$K)(e)?"insertFromPaste"===e:this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();a.Z.on(t,(0,C.V4)("input",R),function(t){this._formatValue(t),this._isValuePasted=!1}.bind(this)),a.Z.on(t,(0,C.V4)("dxclick",R),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(V(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),0))}.bind(this)),a.Z.on(t,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t){var e=this._getInputVal().slice(t);return e&&!this._isStub(e,!0)},_isStub:function(t,e){var i=(0,h.hr)(l.Z.getDecimalSeparator());return new RegExp("^[^0-9"+i+"]+$","g").test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=this._getFormatForSign(t),i=_(e).index,n=(p(e,i)[1]||"").replace(/[^#0]/g,"");return{min:n.replace(/^(0*)#*/,"$1").length,max:n.length}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end){if((0,C.EV)(t)===A)return void this._applyRevertedSign(t,e,!0);this._caret(V(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,i){var n=-1*(0,h.IS)(this._parsedValue,null);if((this._isValueInRange(n)||0===n)&&(this._parsedValue=n,i)){var a=this._getFormatPattern(),s=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var r=this._getInputVal(),o=function(t,e,i){var n=d(t,i);return d(e,i).start-n.start}(s,r,a),u=V(e=g(e,o),r,a);this._caret(u)}},_removeMinusFromText:function(t,e){return this._lastKeyName===A&&"-"===t.charAt(e.start-1)?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),i=this._format(e,t)||"";this._setInputText(i)},_formatValue:function(t){var e=this._getInputVal(),i=this._caret(),n=this._removeMinusFromText(e,i),a=n!==e;if(e=n,!this._isInputFromPaste(t)&&this._isValueIncomplete(n))return this._formattedValue=e,void(a&&this._setTextByParsedValue());if(l.Z.convertDigits(this._formattedValue,!0)!==e){var s=this._tryParse(e,i,"");(0,r.$K)(s)&&(this._parsedValue=s)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var t=this._getInputVal();this._parsedValue=this._tryParse(t,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal())?this._parseValue():null;(0,r.kE)(t)?this._parsedValue=(0,u.n$)(t,this.option("min"),this.option("max")):this._parsedValue=t}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});(0,n.Z)("dxNumberBox",j);const q=j}}]);